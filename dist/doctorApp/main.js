(self.webpackChunkdoctor_app=self.webpackChunkdoctor_app||[]).push([[179],{8255:We=>{function we(L){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+L+"'");throw g.code="MODULE_NOT_FOUND",g})}we.keys=()=>[],we.resolve=we,we.id=8255,We.exports=we},3018:(We,we,L)=>{"use strict";L.d(we,{deG:()=>tf,tb:()=>Xy,AFp:()=>Kw,ip1:()=>Wp,CZH:()=>Mi,hGG:()=>hx,z2F:()=>$l,sBO:()=>vn,Sil:()=>nh,_Vd:()=>Rd,EJc:()=>jl,SBq:()=>ks,qLn:()=>z,vpe:()=>Eo,gxx:()=>Lf,tBr:()=>Oa,XFs:()=>Ie,OlP:()=>dn,zs3:()=>_n,ZZ4:()=>kd,aQg:()=>Fd,soG:()=>Zp,YKP:()=>XI,v3s:()=>C0,h0i:()=>Dl,PXZ:()=>rx,R0b:()=>Jr,FiY:()=>si,Lbi:()=>JD,g9A:()=>Jy,Qsj:()=>br,FYo:()=>_y,JOm:()=>ci,Tiy:()=>Nn,q3G:()=>tn,tp0:()=>ro,EAV:()=>D0,Rgc:()=>Dp,dDg:()=>l0,DyG:()=>Sc,q4F:()=>Ep,GfV:()=>Il,s_b:()=>Ay,ifc:()=>gn,eFA:()=>dT,G48:()=>f0,Gpc:()=>ne,X6Q:()=>h0,_c5:()=>IT,VLi:()=>aT,c2e:()=>e_,zSh:()=>qa,wAp:()=>it,vHH:()=>Ae,EiD:()=>Ju,mCW:()=>oo,qzn:()=>so,JVY:()=>rv,pB0:()=>Gg,eBb:()=>ui,L6k:()=>iv,LAX:()=>$g,cg1:()=>VE,Tjo:()=>N0,kL8:()=>Cd,yhl:()=>Vc,dqk:()=>j,sIi:()=>ld,CqO:()=>Yf,QGY:()=>Kf,F4k:()=>Hm,RDi:()=>Gs,AaK:()=>Z,z3N:()=>ai,qOj:()=>Xv,TTD:()=>uc,_Bn:()=>aw,xp6:()=>jb,uIk:()=>rE,ekj:()=>np,Suo:()=>RD,Xpm:()=>rc,lG2:()=>og,Yz7:()=>on,cJS:()=>yi,oAB:()=>mu,Yjl:()=>ag,Y36:()=>fl,_UZ:()=>pl,qZA:()=>fE,TgZ:()=>hE,EpF:()=>Zf,n5z:()=>Ag,Ikx:()=>Os,LFG:()=>Cn,$8M:()=>Ic,NdJ:()=>mE,CRH:()=>xD,oxw:()=>vr,ALo:()=>Fl,lcZ:()=>Ll,Q6J:()=>Bm,s9C:()=>EE,DdM:()=>Zd,iGM:()=>By,MAs:()=>zC,CHM:()=>Fh,LSH:()=>ao,kYT:()=>Ca,YNc:()=>qC,_uU:()=>SE,Oqu:()=>wr,hij:()=>ip});var g=L(9765),ee=L(5319),B=L(7574),ye=L(6682),ge=L(2441);var fe=L(1307);function W(){return new g.xQ}function F(s){for(let o in s)if(s[o]===F)return o;throw Error("Could not find renamed property on target object.")}function K(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Z(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Z).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Y(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const he=F({__forward_ref__:F});function ne(s){return s.__forward_ref__=ne,s.toString=function(){return Z(this())},s}function X(s){return Oe(s)?s():s}function Oe(s){return"function"==typeof s&&s.hasOwnProperty(he)&&s.__forward_ref__===ne}class Ae extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function Fe(s){return"string"==typeof s?s:null==s?"":String(s)}function _t(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Fe(s)}function ae(s,o){const u=o?` in ${o}`:"";throw new Ae("201",`No provider for ${_t(s)} found${u}`)}function sn(s,o){null==s&&function(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function on(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function yi(s){return{providers:s.providers||[],imports:s.imports||[]}}function Dr(s){return wa(s,kn)||wa(s,gu)}function wa(s,o){return s.hasOwnProperty(o)?s[o]:null}function js(s){return s&&(s.hasOwnProperty(Br)||s.hasOwnProperty(ct))?s[Br]:null}const kn=F({\u0275prov:F}),Br=F({\u0275inj:F}),gu=F({ngInjectableDef:F}),ct=F({ngInjectorDef:F});var Ie=(()=>((Ie=Ie||{})[Ie.Default=0]="Default",Ie[Ie.Host=1]="Host",Ie[Ie.Self=2]="Self",Ie[Ie.SkipSelf=4]="SkipSelf",Ie[Ie.Optional=8]="Optional",Ie))();let jt;function un(s){const o=jt;return jt=s,o}function Ft(s,o,u){const c=Dr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Ie.Optional?null:void 0!==o?o:void ae(Z(s),"Injector")}function Qe(s){return{toString:s}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),gn=(()=>((gn=gn||{})[gn.Emulated=0]="Emulated",gn[gn.None=2]="None",gn[gn.ShadowDom=3]="ShadowDom",gn))();const Tr="undefined"!=typeof globalThis&&globalThis,So="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,j=Tr||G||So||$,He={},je=[],Lt=F({\u0275cmp:F}),ln=F({\u0275dir:F}),zt=F({\u0275pipe:F}),jr=F({\u0275mod:F}),Tt=F({\u0275loc:F}),Wt=F({\u0275fac:F}),er=F({__NG_ELEMENT_ID__:F});let nc=0;function rc(s){return Qe(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||je,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||gn.Emulated,id:"c",styles:s.styles||je,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,v=s.pipes;return c.id+=nc++,c.inputs=_i(s.inputs,u),c.outputs=_i(s.outputs),f&&f.forEach(E=>E(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Ch):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(ic):null,c})}function Ch(s){return zn(s)||function(s){return s[ln]||null}(s)}function ic(s){return function(s){return s[zt]||null}(s)}const ba={};function mu(s){return Qe(()=>{const o={type:s.type,bootstrap:s.bootstrap||je,declarations:s.declarations||je,imports:s.imports||je,exports:s.exports||je,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ba[s.id]=s.type),o})}function Ca(s,o){return Qe(()=>{const u=hr(s,!0);u.declarations=o.declarations||je,u.imports=o.imports||je,u.exports=o.exports||je})}function _i(s,o){if(null==s)return He;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const og=rc;function ag(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function zn(s){return s[Lt]||null}function hr(s,o){const u=s[jr]||null;if(!u&&!0===o)throw new Error(`Type ${Z(s)} does not have '\u0275mod' property.`);return u}function Gr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ut(s){return Array.isArray(s)&&!0===s[1]}function vu(s){return 0!=(8&s.flags)}function oc(s){return 2==(2&s.flags)}function qr(s){return 1==(1&s.flags)}function vi(s){return null!==s.template}function Sh(s){return 0!=(512&s[2])}function ds(s,o){return s.hasOwnProperty(Wt)?s[Wt]:null}class Oh{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function uc(){return wu}function wu(s){return s.type.prototype.ngOnChanges&&(s.setInput=S_),Ei}function Ei(){const s=bu(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===He)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function S_(s,o,u,c){const d=bu(s)||function(s,o){return s[R_]=o}(s,{previous:He,current:null}),f=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[u],I=v[E];f[E]=new Oh(I&&I.currentValue,o,v===He),s[c]=o}uc.ngInherit=!0;const R_="__ngSimpleChanges__";function bu(s){return s[R_]||null}let Po;function Gs(s){Po=s}function Yt(s){return!!s.listen}const hc={createRenderer:(s,o)=>void 0!==Po?Po:"undefined"!=typeof document?document:void 0};function Qt(s){for(;Array.isArray(s);)s=s[0];return s}function Tu(s,o){return Qt(o[s])}function zr(s,o){return Qt(o[s.index])}function qs(s,o){return s.data[o]}function Au(s,o){return s[o]}function pr(s,o){const u=o[s];return Gr(u)?u:u[0]}function Su(s){return 4==(4&s[2])}function Ru(s){return 128==(128&s[2])}function zs(s,o){return null==o?null:s[o]}function pc(s){s[18]=0}function Ph(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const ut={lFrame:Eg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kh(){return ut.bindingsEnabled}function Ce(){return ut.lFrame.lView}function At(){return ut.lFrame.tView}function Fh(s){return ut.lFrame.contextLView=s,s[8]}function mn(){let s=mg();for(;null!==s&&64===s.type;)s=s.parent;return s}function mg(){return ut.lFrame.currentTNode}function ti(s,o){const u=ut.lFrame;u.currentTNode=s,u.isParent=o}function Lh(){return ut.lFrame.isParent}function Ra(){return ut.isInCheckNoChangesMode}function Zs(s){ut.isInCheckNoChangesMode=s}function Ar(){const s=ut.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ks(){return ut.lFrame.bindingIndex++}function Bh(s,o){const u=ut.lFrame;u.bindingIndex=u.bindingRootIndex=s,Pu(o)}function Pu(s){ut.lFrame.currentDirectiveIndex=s}function Lo(){return ut.lFrame.currentQueryIndex}function $h(s){ut.lFrame.currentQueryIndex=s}function N_(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function M_(s,o,u){if(u&Ie.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&Ie.Host||(d=N_(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=ut.lFrame=vg();return c.currentTNode=o,c.lView=s,!0}function ku(s){const o=vg(),u=s[1];ut.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function vg(){const s=ut.lFrame,o=null===s?null:s.child;return null===o?Eg(s):o}function Eg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function wg(){const s=ut.lFrame;return ut.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const db=wg;function bg(){const s=wg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Sr(){return ut.lFrame.selectedIndex}function Vo(s){ut.lFrame.selectedIndex=s}function Jt(){const s=ut.lFrame;return qs(s.tView,s.selectedIndex)}function xa(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:S}=f;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=S&&(s.destroyHooks||(s.destroyHooks=[])).push(u,S)}}function Na(s,o,u){Wh(s,o,3,u)}function zh(s,o,u,c){(3&s[2])===u&&Wh(s,o,u,c)}function Fu(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Wh(s,o,u,c){const f=null!=c?c:-1,v=o.length-1;let E=0;for(let I=void 0!==c?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=c&&E>=c)break}else o[I]<0&&(s[18]+=65536),(E<f||-1==f)&&(F_(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function F_(s,o,u,c){const d=u[c]<0,f=u[c+1],E=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class Lu{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Xt(s,o,u){const c=Yt(s);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const v=u[d++],E=u[d++],I=u[d++];c?s.setAttribute(o,E,I,v):o.setAttributeNS(v,E,I)}else{const v=f,E=u[++d];yc(v)?c&&s.setProperty(o,v,E):c?s.setAttribute(o,v,E):o.setAttribute(v,E),d++}}return d}function Kh(s){return 3===s||4===s||6===s}function yc(s){return 64===s.charCodeAt(0)}function Yh(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Qh(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Qh(s,o,u,c,d){let f=0,v=s.length;if(-1===o)v=-1;else for(;f<s.length;){const E=s[f++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=f-1;break}}}for(;f<s.length;){const E=s[f];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==v&&(s.splice(v,0,o),f=v+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function Cg(s){return-1!==s}function Vu(s){return 32767&s}function Uu(s,o){let u=function(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Bu=!0;function _c(s){const o=Bu;return Bu=s,o}let gr=0;function ri(s,o){const u=xr(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Rr(c.data,s),Rr(o,null),Rr(c.blueprint,null));const d=ju(s,o),f=s.injectorIndex;if(Cg(d)){const v=Vu(d),E=Uu(d,o),I=E[1].data;for(let T=0;T<8;T++)o[f+T]=E[v+T]|I[v+T]}return o[f+8]=d,f}function Rr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function xr(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ju(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){const f=d[1],v=f.type;if(c=2===v?f.declTNode:1===v?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function wc(s,o,u){!function(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(er)&&(c=u[er]),null==c&&(c=u[er]=gr++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function Dg(s,o,u){if(u&Ie.Optional)return s;ae(o,"NodeInjector")}function Uo(s,o,u,c){if(u&Ie.Optional&&void 0===c&&(c=null),0==(u&(Ie.Self|Ie.Host))){const d=s[9],f=un(void 0);try{return d?d.get(o,c,u&Ie.Optional):Ft(o,c,u&Ie.Optional)}finally{un(f)}}return Dg(c,o,u)}function Hi(s,o,u,c=Ie.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(er)?s[er]:void 0;return"number"==typeof o?o>=0?255&o:V_:o}(u);if("function"==typeof f){if(!M_(o,s,c))return c&Ie.Host?Dg(d,u,c):Uo(o,u,c,d);try{const v=f(c);if(null!=v||c&Ie.Optional)return v;ae(u)}finally{db()}}else if("number"==typeof f){let v=null,E=xr(s,o),I=-1,T=c&Ie.Host?o[16][6]:null;for((-1===E||c&Ie.SkipSelf)&&(I=-1===E?ju(s,o):o[E+8],-1!==I&&U_(c,!1)?(v=o[1],E=Vu(I),o=Uu(I,o)):E=-1);-1!==E;){const S=o[1];if(gs(f,E,S.data)){const N=Jh(E,o,u,v,c,T);if(N!==Tg)return N}I=o[E+8],-1!==I&&U_(c,o[1].data[E+8]===T)&&gs(f,E,o)?(v=S,E=Vu(I),o=Uu(I,o)):E=-1}}}return Uo(o,u,c,d)}const Tg={};function V_(){return new ms(mn(),Ce())}function Jh(s,o,u,c,d,f){const v=o[1],E=v.data[s+8],S=bc(E,v,u,null==c?oc(E)&&Bu:c!=v&&0!=(3&E.type),d&Ie.Host&&f===E);return null!==S?Bo(o,v,S,E):Tg}function bc(s,o,u,c,d){const f=s.providerIndexes,v=o.data,E=1048575&f,I=s.directiveStart,S=f>>20,P=d?E+S:s.directiveEnd;for(let V=c?E:E+S;V<P;V++){const q=v[V];if(V<I&&u===q||V>=I&&q.type===u)return V}if(d){const V=v[I];if(V&&vi(V)&&V.type===u)return I}return null}function Bo(s,o,u,c){let d=s[u];const f=o.data;if(function(s){return s instanceof Lu}(d)){const v=d;v.resolving&&function(s,o){throw new Ae("200",`Circular dependency in DI detected for ${s}`)}(_t(f[u]));const E=_c(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?un(v.injectImpl):null;M_(s,c,Ie.Default);try{d=s[u]=v.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const v=wu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==I&&un(I),_c(E),v.resolving=!1,db()}}return d}function gs(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function U_(s,o){return!(s&Ie.Self||s&Ie.Host&&o)}class ms{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return Hi(this._tNode,this._lView,o,void 0,u)}}function Ag(s){return Qe(()=>{const o=s.prototype.constructor,u=o[Wt]||Cc(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[Wt]||Cc(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Cc(s){return Oe(s)?()=>{const o=Cc(X(s));return o&&o()}:ds(s)}function Ic(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(Kh(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(mn(),s)}const Ma="__parameters__";function _s(s,o,u){return Qe(()=>{const c=function(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const v=new d(...f);return E.annotation=v,E;function E(I,T,S){const N=I.hasOwnProperty(Ma)?I[Ma]:Object.defineProperty(I,Ma,{value:[]})[Ma];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(v),I}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class dn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=on({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const tf=new dn("AnalyzeForEntryComponents"),Sc=Function;function bi(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),bi(c,o)):o!==s&&o.push(c)}return o}function ii(s,o){s.forEach(u=>Array.isArray(u)?ii(u,o):o(u))}function Rc(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Xs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Wn(s,o,u){let c=eo(s,o);return c>=0?s[1|c]=u:(c=~c,function(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function $u(s,o){const u=eo(s,o);if(u>=0)return s[1|u]}function eo(s,o){return function(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),v=s[f<<u];if(o===v)return f<<u;v>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const ws={},qi="__NG_DI_FLAG__",bs="ngTempTokenPath",no=/\n/gm,Gu="__source",of=F({provide:String,useValue:F});let Go;function Cs(s){const o=Go;return Go=s,o}function K_(s,o=Ie.Default){if(void 0===Go)throw new Error("inject() must be called from an injection context");return null===Go?Ft(s,void 0,o):Go.get(s,o&Ie.Optional?null:void 0,o)}function Cn(s,o=Ie.Default){return(jt||K_)(X(s),o)}function zo(s){const o=[];for(let u=0;u<s.length;u++){const c=X(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=Ie.Default;for(let v=0;v<c.length;v++){const E=c[v],I=Is(E);"number"==typeof I?-1===I?d=E.token:f|=I:d=E}o.push(Cn(d,f))}else o.push(Cn(c))}return o}function qu(s,o){return s[qi]=o,s.prototype[qi]=o,s}function Is(s){return s[qi]}function Og(s,o,u,c){const d=s[bs];throw o[Gu]&&d.unshift(o[Gu]),s.message=function(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=Z(o);if(Array.isArray(o))d=o.map(Z).join(" -> ");else if("object"==typeof o){let f=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];f.push(v+":"+("string"==typeof E?JSON.stringify(E):Z(E)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(no,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[bs]=null,s}const Oa=qu(_s("Inject",s=>({token:s})),-1),si=qu(_s("Optional"),8),ro=qu(_s("SkipSelf"),4);let Wo;function io(s){var o;return(null===(o=function(){if(void 0===Wo&&(Wo=null,j.trustedTypes))try{Wo=j.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Wo}())||void 0===o?void 0:o.createHTML(s))||s}class Zo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ev extends Zo{getTypeName(){return"HTML"}}class tv extends Zo{getTypeName(){return"Style"}}class pt extends Zo{getTypeName(){return"Script"}}class nv extends Zo{getTypeName(){return"URL"}}class ka extends Zo{getTypeName(){return"ResourceURL"}}function ai(s){return s instanceof Zo?s.changingThisBreaksApplicationSecurity:s}function so(s,o){const u=Vc(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Vc(s){return s instanceof Zo&&s.getTypeName()||null}function rv(s){return new ev(s)}function iv(s){return new tv(s)}function ui(s){return new pt(s)}function $g(s){return new nv(s)}function Gg(s){return new ka(s)}class vb{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(io(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Kn{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=io(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=io(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const v=u.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const sv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oo(s){return(s=String(s)).match(sv)||s.match(hf)?s:"unsafe:"+s}function Ci(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Ko(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const Ku=Ci("area,br,col,hr,img,wbr"),ff=Ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yu=Ci("rp,rt"),pf=Ko(Ku,Ko(ff,Ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko(Yu,Ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ko(Yu,ff)),Wi=Ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gf=Ci("srcset"),Wg=Ko(Wi,gf,Ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yo=Ci("script,style,template");class Qu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!pf.hasOwnProperty(u))return this.sanitizedSomething=!0,!Yo.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),v=f.name,E=v.toLowerCase();if(!Wg.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=f.value;Wi[E]&&(I=oo(I)),gf[E]&&(s=I,I=(s=String(s)).split(",").map(o=>oo(o.trim())).join(", ")),this.buf.push(" ",v,'="',Zg(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();pf.hasOwnProperty(u)&&!Ku.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Zg(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const mf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bc=/([^\#-~ |!])/g;function Zg(s){return s.replace(/&/g,"&amp;").replace(mf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Bc,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fa;function Ju(s,o){let u=null;try{Fa=Fa||function(s){const o=new Kn(s);return function(){try{return!!(new window.DOMParser).parseFromString(io(""),"text/html")}catch(s){return!1}}()?new vb(o):o}(s);let c=o?String(o):"";u=Fa.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=Fa.getInertBodyElement(c)}while(c!==f);return io((new Qu).sanitizeChildren(Xu(u)||u))}finally{if(u){const c=Xu(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Xu(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var tn=(()=>((tn=tn||{})[tn.NONE=0]="NONE",tn[tn.HTML=1]="HTML",tn[tn.STYLE=2]="STYLE",tn[tn.SCRIPT=3]="SCRIPT",tn[tn.URL=4]="URL",tn[tn.RESOURCE_URL=5]="RESOURCE_URL",tn))();function ao(s){const o=function(){const s=Ce();return s&&s[12]}();return o?o.sanitize(tn.URL,s)||"":so(s,"URL")?ai(s):oo(Fe(s))}const Jg="__ngContext__";function In(s,o){s[Jg]=o}function rr(s){const o=function(s){return s[Jg]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function C(s){return s.ngOriginalError}function M(s,...o){s.error(...o)}class z{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=this._findContext(o),d=(s=o)&&s.ngErrorLogger||M;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(C(o)):null}_findOriginalError(o){let u=o&&C(o);for(;u&&C(u);)u=C(u);return u||null}}const qc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Zi(s){return s instanceof Function?s():s}var ci=(()=>((ci=ci||{})[ci.Important=1]="Important",ci[ci.DashCase=2]="DashCase",ci))();function sm(s,o){return undefined(s,o)}function il(s){const o=s[3];return Ut(o)?o[3]:o}function om(s){return Tf(s[13])}function Wc(s){return Tf(s[4])}function Tf(s){for(;null!==s&&!Ut(s);)s=s[4];return s}function Zc(s,o,u,c,d){if(null!=c){let f,v=!1;Ut(c)?f=c:Gr(c)&&(v=!0,c=c[0]);const E=Qt(c);0===s&&null!==u?null==d?xb(o,u,E):sl(o,u,E,d||null,!0):1===s&&null!==u?sl(o,u,E,d||null,!0):2===s?function(s,o,u){const c=Ba(s,o);c&&function(s,o,u,c){Yt(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}(o,E,v):3===s&&o.destroyNode(E),null!=f&&function(s,o,u,c,d){const f=u[7];f!==Qt(u)&&Zc(o,s,c,f,d);for(let E=10;E<u.length;E++){const I=u[E];Yc(I[1],I,s,o,c,f)}}(o,s,f,u,d)}}function um(s,o,u){return Yt(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function Sb(s,o){const u=s[9],c=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Ph(d,-1)),u.splice(c,1)}function hv(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&Sb(d,c),o>0&&(s[u-1][4]=c[4]);const f=Xs(s,10+o);!function(s,o){Yc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=f[19];null!==v&&v.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Rb(s,o){if(!(256&o[2])){const u=o[11];Yt(u)&&u.destroyNode&&Yc(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return fv(s[1],s);for(;o;){let u=null;if(Gr(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Gr(o)&&fv(o[1],o),o=o[3];null===o&&(o=s),Gr(o)&&fv(o[1],o),u=o&&o[4]}o=u}}(o)}}function fv(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof Lu)){const f=u[c+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const E=d[f[v]],I=f[v+1];try{I.call(E)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const v=u[f+1],E="function"==typeof v?v(o):Qt(o[v]),I=c[d=u[f+2]],T=u[f+3];"boolean"==typeof T?E.removeEventListener(u[f],I,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),f+=2}else{const v=c[d=u[f+1]];u[f].call(v)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();o[7]=null}}(s,o),1===o[1].type&&Yt(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Ut(o[3])){u!==o[3]&&Sb(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function gv(s,o,u){return function(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===gn.None||d===gn.Emulated)return null}return zr(c,u)}(s,o.parent,u)}function sl(s,o,u,c,d){Yt(s)?s.insertBefore(o,u,c,d):o.insertBefore(u,c,d)}function xb(s,o,u){Yt(s)?s.appendChild(o,u):o.appendChild(u)}function Rf(s,o,u,c,d){null!==c?sl(s,o,u,c,d):xb(s,o,u)}function Ba(s,o){return Yt(s)?s.parentNode(o):o.parentNode}let Mb=function(s,o,u){return 40&s.type?zr(s,u):null};function cm(s,o,u,c){const d=gv(s,c,o),f=o[11],E=function(s,o,u){return Mb(s,o,u)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let I=0;I<u.length;I++)Rf(f,d,u[I],E,!1);else Rf(f,d,u,E,!1)}function dm(s,o){if(null!==o){const u=o.type;if(3&u)return zr(o,s);if(4&u)return yv(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return dm(s,c);{const d=s[o.index];return Ut(d)?yv(-1,d):Qt(d)}}if(32&u)return sm(o,s)()||Qt(s[o.index]);{const c=Pb(s,o);return null!==c?Array.isArray(c)?c[0]:dm(il(s[16]),c):dm(s,o.next)}}return null}function Pb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function yv(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return dm(c,d)}return o[7]}function _v(s,o,u,c,d,f,v){for(;null!=u;){const E=c[u.index],I=u.type;if(v&&0===o&&(E&&In(Qt(E),c),u.flags|=4),64!=(64&u.flags))if(8&I)_v(s,o,u.child,c,d,f,!1),Zc(o,s,d,E,f);else if(32&I){const T=sm(u,c);let S;for(;S=T();)Zc(o,s,d,S,f);Zc(o,s,d,E,f)}else 16&I?Fb(s,o,c,u,d,f):Zc(o,s,d,E,f);u=v?u.projectionNext:u.next}}function Yc(s,o,u,c,d,f){_v(u,c,s.firstChild,o,d,f,!1)}function Fb(s,o,u,c,d,f){const v=u[16],I=v[6].projection[c.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Zc(o,s,d,I[T],f);else _v(s,o,I,v[3],d,f,!0)}function Lb(s,o,u){Yt(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function hm(s,o,u){Yt(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function vA(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const vv="ng-template";function Vb(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==vA(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Ev(s){return 4===s.type&&s.value!==vv}function wA(s,o,u){return o===(4!==s.type||u?s.value:vv)}function bA(s,o,u){let c=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(Kh(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!v)if(4&c){if(c=2|1&c,""!==I&&!wA(s,I,u)||""===I&&1===o.length){if(Ss(c))return!1;v=!0}}else{const T=8&c?I:o[++E];if(8&c&&null!==s.attrs){if(!Vb(s.attrs,T,u)){if(Ss(c))return!1;v=!0}continue}const N=CA(8&c?"class":I,d,Ev(s),u);if(-1===N){if(Ss(c))return!1;v=!0;continue}if(""!==T){let P;P=N>f?"":d[N+1].toLowerCase();const V=8&c?P:null;if(V&&-1!==vA(V,T,0)||2&c&&T!==P){if(Ss(c))return!1;v=!0}}}}else{if(!v&&!Ss(c)&&!Ss(I))return!1;if(v&&Ss(I))continue;v=!1,c=I|1&c}}return Ss(c)||v}function Ss(s){return 0==(1&s)}function CA(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)f=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Ub(s,o,u=!1){for(let c=0;c<o.length;c++)if(bA(s,o[c],u))return!0;return!1}function fm(s,o){return s?":not("+o.trim()+")":o}function Bb(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&c){const E=s[++u];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!Ss(v)&&(o+=fm(f,d),d=""),c=v,f=f||!Ss(c);u++}return""!==d&&(o+=fm(f,d)),o}const yt={};function jb(s){Hb(At(),Ce(),Sr()+s,Ra())}function Hb(s,o,u,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&Na(o,f,u)}else{const f=s.preOrderHooks;null!==f&&zh(o,f,0,u)}Vo(u)}function pm(s,o){return s<<17|o<<2}function Ki(s){return s>>17&32767}function Yn(s){return 2|s}function Xo(s){return(131068&s)>>2}function Jc(s,o){return-131069&s|o<<2}function Xc(s){return 1|s}function xs(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const v=s.data[f];$h(d),v.contentQueries(2,o[f],f)}}}function Of(s,o,u,c,d,f,v,E,I,T){const S=o.blueprint.slice();return S[0]=d,S[2]=140|c,pc(S),S[3]=S[15]=s,S[8]=u,S[10]=v||s&&s[10],S[11]=E||s&&s[11],S[12]=I||s&&s[12]||null,S[9]=T||s&&s[9]||null,S[6]=f,S[16]=2==o.type?s[16]:S,S}function td(s,o,u,c,d){let f=s.data[o];if(null===f)f=function(s,o,u,c,d){const f=mg(),v=Lh(),I=s.data[o]=function(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=I),null!==f&&(v?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I)),I}(s,o,u,c,d),ut.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const v=function(){const s=ut.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return ti(f,!0),f}function uo(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Yi(s,o,u){ku(o);try{const c=s.viewQuery;null!==c&&Uv(1,c,u);const d=s.template;null!==d&&ea(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xs(s,o),s.staticViewQueries&&Uv(2,s.viewQuery,u);const f=s.components;null!==f&&function(s,o){for(let u=0;u<o.length;u++)bN(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,bg()}}function ul(s,o,u,c){const d=o[2];if(256==(256&d))return;ku(o);const f=Ra();try{pc(o),function(s){ut.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&ea(s,o,u,2,c);const v=3==(3&d);if(!f)if(v){const T=s.preOrderCheckHooks;null!==T&&Na(o,T,null)}else{const T=s.preOrderHooks;null!==T&&zh(o,T,0,null),Fu(o,0)}if(function(s){for(let o=om(s);null!==o;o=Wc(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(1024&d[2])&&Ph(f,1),d[2]|=1024}}}(o),function(s){for(let o=om(s);null!==o;o=Wc(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];Ru(c)&&ul(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&xs(s,o),!f)if(v){const T=s.contentCheckHooks;null!==T&&Na(o,T)}else{const T=s.contentHooks;null!==T&&zh(o,T,1),Fu(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)Vo(~d);else{const f=d,v=u[++c],E=u[++c];Bh(v,f),E(2,o[f])}}}finally{Vo(-1)}}(s,o);const E=s.components;null!==E&&function(s,o){for(let u=0;u<o.length;u++)wN(s,o[u])}(o,E);const I=s.viewQuery;if(null!==I&&Uv(2,I,c),!f)if(v){const T=s.viewCheckHooks;null!==T&&Na(o,T)}else{const T=s.viewHooks;null!==T&&zh(o,T,2),Fu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ph(o[3],-1))}finally{bg()}}function Mr(s,o,u,c){const d=o[10],f=!Ra(),v=Su(o);try{f&&!v&&d.begin&&d.begin(),v&&Yi(s,o,c),ul(s,o,u,c)}finally{f&&!v&&d.end&&d.end()}}function ea(s,o,u,c,d){const f=Sr(),v=2&c;try{Vo(-1),v&&o.length>20&&Hb(s,o,20,Ra()),u(c,d)}finally{Vo(f)}}function Dn(s,o,u){!kh()||(function(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||ri(u,o),In(c,o);const v=u.initialInputs;for(let E=d;E<f;E++){const I=s.data[E],T=vi(I);T&&Lv(o,u,I);const S=Bo(o,s,E,u);In(S,o),null!==v&&Cm(0,E-d,S,I,0,v),T&&(pr(u.index,o)[8]=S)}}(s,o,u,zr(u,o)),128==(128&u.flags)&&function(s,o,u){const c=u.directiveStart,d=u.directiveEnd,v=u.index,E=ut.lFrame.currentDirectiveIndex;try{Vo(v);for(let I=c;I<d;I++){const T=s.data[I],S=o[I];Pu(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Fv(T,S)}}finally{Vo(-1),Pu(E)}}(s,o,u))}function Em(s,o,u=zr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const v=c[f+1],E=-1===v?u(o,s):s[v];s[d++]=E}}}function Sv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Pf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Pf(s,o,u,c,d,f,v,E,I,T){const S=20+c,N=S+d,P=function(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:yt);return u}(S,N),V="function"==typeof T?T():T;return P[1]={type:s,blueprint:P,template:u,queries:null,viewQuery:E,declTNode:o,data:P.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:V,incompleteFirstPass:!1}}function Nv(s,o,u,c){const d=pC(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&Bv(s).push(c,d.length-1))}function Mv(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function di(s,o,u,c,d,f,v,E){const I=zr(o,u);let S,T=o.inputs;!E&&null!=T&&(S=T[c])?(mC(s,u,S,c,d),oc(o)&&function(s,o){const u=pr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=v?v(d,o.value||"",c):d,Yt(f)?f.setProperty(I,c,d):yc(c)||(I.setProperty?I.setProperty(c,d):I[c]=d))}function wm(s,o,u,c){let d=!1;if(kh()){const f=function(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const v=c[f];Ub(u,v.selectors,!1)&&(d||(d=[]),wc(ri(u,o),s,v.type),vi(v)?(Or(s,u),d.unshift(v)):d.push(v))}return d}(s,o,u),v=null===c?null:{"":-1};if(null!==f){d=!0,BA(u,s.data.length,f.length);for(let S=0;S<f.length;S++){const N=f[S];N.providersResolver&&N.providersResolver(N)}let E=!1,I=!1,T=uo(s,o,f.length,null);for(let S=0;S<f.length;S++){const N=f[S];u.mergedAttrs=Yh(u.mergedAttrs,N.hostAttrs),jA(s,u,o,T,N),uC(T,N,v),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const P=N.type.prototype;!E&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!I&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),I=!0),T++}!function(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,v=[];let E=null,I=null;for(let T=o.directiveStart;T<c;T++){const S=d[T],N=S.inputs,P=null===f||Ev(o)?null:HA(N,f);v.push(P),E=Mv(N,T,E),I=Mv(S.outputs,T,I)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=I}(s,u)}v&&function(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Ae("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],f)}}}(u,c,v)}return u.mergedAttrs=Yh(u.mergedAttrs,u.attrs),d}function Pv(s,o,u,c,d,f){const v=f.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const I=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=I&&E.push(I),E.push(c,d,v)}}function Fv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Or(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function uC(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;vi(o)&&(u[""]=s)}}function BA(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function jA(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=ds(d.type)),v=new Lu(f,vi(d),null);s.blueprint[c]=v,u[c]=v,Pv(s,o,0,c,uo(s,u,d.hostVars,yt),d)}function Lv(s,o,u){const c=zr(o,s),d=Sv(u),f=s[10],v=Im(s,Of(s,d,null,u.onPush?64:16,c,o,f,f.createRenderer(c,u),null,null));s[o.index]=v}function Qi(s,o,u,c,d,f){const v=zr(s,o);!function(s,o,u,c,d,f,v){if(null==f)Yt(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const E=null==v?Fe(f):v(f,c||"",d);Yt(s)?s.setAttribute(o,d,E,u):u?o.setAttributeNS(u,d,E):o.setAttribute(d,E)}}(o[11],v,f,s.value,u,c,d)}function Cm(s,o,u,c,d,f){const v=f[o];if(null!==v){const E=c.setInput;for(let I=0;I<v.length;){const T=v[I++],S=v[I++],N=v[I++];null!==E?c.setInput(u,N,T,S):u[S]=N}}}function HA(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function cC(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function wN(s,o){const u=pr(o,s);if(Ru(u)){const c=u[1];80&u[2]?ul(c,u,c.template,u[8]):u[5]>0&&dC(u)}}function dC(s){for(let c=om(s);null!==c;c=Wc(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const v=f[1];ul(v,f,v.template,f[8])}else f[5]>0&&dC(f)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=pr(u[c],s);Ru(d)&&d[5]>0&&dC(d)}}function bN(s,o){const u=pr(o,s),c=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Yi(c,u,u[8])}function Im(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function nd(s){for(;s;){s[2]|=64;const o=il(s);if(Sh(s)&&!o)return s;s=o}return null}function id(s,o,u){const c=o[10];c.begin&&c.begin();try{ul(s,o,s.template,u)}catch(d){throw $A(o,d),d}finally{c.end&&c.end()}}function hC(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=rr(u),d=c[1];Mr(d,c,d.template,u)}}(s[8])}function Uv(s,o,u){$h(0),o(s,u)}const fC=(()=>Promise.resolve(null))();function pC(s){return s[7]||(s[7]=[])}function Bv(s){return s.cleanup||(s.cleanup=[])}function $A(s,o){const u=s[9],c=u?u.get(z,null):null;c&&c.handleError(o)}function mC(s,o,u,c,d){for(let f=0;f<u.length;){const v=u[f++],E=u[f++],I=o[v],T=s.data[v];null!==T.setInput?T.setInput(I,d,c,E):I[E]=d}}function Ns(s,o,u){const c=Tu(o,s);!function(s,o,u){Yt(s)?s.setValue(o,u):o.textContent=u}(s[11],c,u)}function Tm(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?f=E:1==f?d=Y(d,E):2==f&&(c=Y(c,E+": "+o[++v]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}const Lf=new dn("INJECTOR",-1);class sd{get(o,u=ws){if(u===ws){const c=new Error(`NullInjectorError: No provider for ${Z(o)}!`);throw c.name="NullInjectorError",c}return u}}const qa=new dn("Set Injector scope."),lo={},Vf={};let $v;function Am(){return void 0===$v&&($v=new sd),$v}function Sm(s,o=null,u=null,c){return new vC(s,u,o||Am(),c)}class vC{constructor(o,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&ii(u,E=>this.processProvider(E,o,u)),ii([o],E=>this.processInjectorType(E,[],f)),this.records.set(Lf,za(void 0,this));const v=this.records.get(qa);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:Z(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=ws,c=Ie.Default){this.assertNotDestroyed();const d=Cs(this),f=un(void 0);try{if(!(c&Ie.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=("function"==typeof(s=o)||"object"==typeof s&&s instanceof dn)&&Dr(o);E=I&&this.injectableDefInScope(I)?za(Uf(o),lo):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&Ie.Self?Am():this.parent).get(o,u=c&Ie.Optional&&u===ws?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[bs]=v[bs]||[]).unshift(Z(o)),d)throw v;return Og(v,o,"R3InjectorError",this.source)}throw v}finally{un(f),Cs(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(Z(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=X(o)))return!1;let d=js(o);const f=null==d&&o.ngModule||void 0,v=void 0===f?o:f,E=-1!==c.indexOf(v);if(void 0!==f&&(d=js(f)),null==d)return!1;if(null!=d.imports&&!E){let S;c.push(v);try{ii(d.imports,N=>{this.processInjectorType(N,u,c)&&(void 0===S&&(S=[]),S.push(N))})}finally{}if(void 0!==S)for(let N=0;N<S.length;N++){const{ngModule:P,providers:V}=S[N];ii(V,q=>this.processProvider(q,P,V||je))}}this.injectorDefTypes.add(v);const I=ds(v)||(()=>new v);this.records.set(v,za(I,lo));const T=d.providers;if(null!=T&&!E){const S=o;ii(T,N=>this.processProvider(N,S,T))}return void 0!==f&&void 0!==o.providers}processProvider(o,u,c){let d=Wa(o=X(o))?o:X(o&&o.provide);const f=EC(s=o)?za(void 0,s.useValue):za(ad(s),lo);var s;if(Wa(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=za(void 0,lo,!0),v.factory=()=>zo(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,f)}hydrate(o,u){return u.value===lo&&(u.value=Vf,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=X(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Uf(s){const o=Dr(s),u=null!==o?o.factory:ds(s);if(null!==u)return u;if(s instanceof dn)throw new Error(`Token ${Z(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=function(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${Z(s)}: (${c.join(", ")}).`)}const u=function(s){const o=s&&(s[kn]||s[gu]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function ad(s,o,u){let c;if(Wa(s)){const d=X(s);return ds(d)||Uf(d)}if(EC(s))c=()=>X(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...zo(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>Cn(X(s.useExisting));else{const d=X(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return ds(d)||Uf(d);c=()=>new d(...zo(s.deps))}return c}function za(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function EC(s){return null!==s&&"object"==typeof s&&of in s}function Wa(s){return"function"==typeof s}const qv=function(s,o,u){return function(s,o=null,u=null,c){const d=Sm(s,o,u,c);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};let _n=(()=>{class s{static create(u,c){return Array.isArray(u)?qv(u,c,""):qv(u.providers,u.parent,u.name||"")}}return s.THROW_IF_NOT_FOUND=ws,s.NULL=new sd,s.\u0275prov=on({token:s,providedIn:"any",factory:()=>Cn(Lf)}),s.__NG_ELEMENT_ID__=-1,s})();function rS(s,o){xa(rr(s)[1],mn())}function Xv(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(vi(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){c.push(d);const v=s;v.inputs=eE(s.inputs),v.declaredInputs=eE(s.declaredInputs),v.outputs=eE(s.outputs);const E=d.hostBindings;E&&PC(s,E);const I=d.viewQuery,T=d.contentQueries;if(I&&OC(s,I),T&&iS(s,T),K(s.inputs,d.inputs),K(s.declaredInputs,d.declaredInputs),K(s.outputs,d.outputs),vi(d)&&d.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let v=0;v<f.length;v++){const E=f[v];E&&E.ngInherit&&E(s),E===Xv&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Yh(d.hostAttrs,u=Yh(u,d.hostAttrs))}}(c)}function eE(s){return s===He?{}:s===je?[]:s}function OC(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function iS(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function PC(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}let tE=null;function Gf(){if(!tE){const s=j.Symbol;if(s&&s.iterator)tE=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(tE=c)}}}return tE}class ho{constructor(o){this.wrapped=o}static wrap(o){return new ho(o)}static unwrap(o){return ho.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof ho}}function ld(s){return!!LC(s)&&(Array.isArray(s)||!(s instanceof Map)&&Gf()in s)}function LC(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function fo(s,o,u){return s[o]=u}function Pr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function rE(s,o,u,c){const d=Ce();return Pr(d,Ks(),o)&&(At(),Qi(Jt(),d,s,o,u,c)),rE}function dd(s,o,u,c){return Pr(s,Ks(),u)?o+Fe(u)+c:yt}function qC(s,o,u,c,d,f,v,E){const I=Ce(),T=At(),S=s+20,N=T.firstCreatePass?function(s,o,u,c,d,f,v,E,I){const T=o.consts,S=td(o,s,4,v||null,zs(T,E));wm(o,u,S,zs(T,I)),xa(o,S);const N=S.tViews=Pf(2,S,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,S),N.queries=o.queries.embeddedTView(S)),S}(S,T,I,o,u,c,d,f,v):T.data[S];ti(N,!1);const P=I[11].createComment("");cm(T,I,P,N),In(P,I),Im(I,I[S]=cC(P,I,P,N)),qr(N)&&Dn(T,I,N),null!=v&&Em(I,N,E)}function zC(s){return Au(ut.lFrame.contextLView,20+s)}function fl(s,o=Ie.Default){const u=Ce();return null===u?Cn(s,o):Hi(mn(),u,X(s),o)}function Bm(s,o,u){const c=Ce();return Pr(c,Ks(),o)&&di(At(),Jt(),c,s,o,c[11],u,!1),Bm}function jm(s,o,u,c,d){const v=d?"class":"style";mC(s,u,o.inputs[v],v,c)}function hE(s,o,u,c){const d=Ce(),f=At(),v=20+s,E=d[11],I=d[v]=um(E,o,ut.lFrame.currentNamespace),T=f.firstCreatePass?function(s,o,u,c,d,f,v){const E=o.consts,T=td(o,s,2,d,zs(E,f));return wm(o,u,T,zs(E,v)),null!==T.attrs&&Tm(T,T.attrs,!1),null!==T.mergedAttrs&&Tm(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(v,f,d,0,o,u,c):f.data[v];ti(T,!0);const S=T.mergedAttrs;null!==S&&Xt(E,I,S);const N=T.classes;null!==N&&hm(E,I,N);const P=T.styles;null!==P&&Lb(E,I,P),64!=(64&T.flags)&&cm(f,d,I,T),0===ut.lFrame.elementDepthCount&&In(I,d),ut.lFrame.elementDepthCount++,qr(T)&&(Dn(f,d,T),function(s,o,u){if(vu(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const v=s.data[f];v.contentQueries&&v.contentQueries(1,u[f],f)}}}(f,T,d)),null!==c&&Em(d,T)}function fE(){let s=mn();Lh()?ut.lFrame.isParent=!1:(s=s.parent,ti(s,!1));const o=s;ut.lFrame.elementDepthCount--;const u=At();u.firstCreatePass&&(xa(u,s),vu(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&jm(u,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&jm(u,o,Ce(),o.stylesWithoutHost,!1)}function pl(s,o,u,c){hE(s,o,u,c),fE()}function Zf(){return Ce()}function Kf(s){return!!s&&"function"==typeof s.then}function Hm(s){return!!s&&"function"==typeof s.subscribe}const Yf=Hm;function mE(s,o,u,c){const d=Ce(),f=At(),v=mn();return function(s,o,u,c,d,f,v,E){const I=qr(c),S=s.firstCreatePass&&Bv(s),N=o[8],P=pC(o);let V=!0;if(3&c.type||E){const J=zr(c,o),Re=E?E(J):J,_e=P.length,Xe=E?at=>E(Qt(at[c.index])):c.index;if(Yt(u)){let at=null;if(!E&&I&&(at=function(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const v=d[f];if(v===u&&d[f+1]===c){const E=o[7],I=d[f+2];return E.length>I?E[I]:null}"string"==typeof v&&(f+=2)}return null}(s,o,d,c.index)),null!==at)(at.__ngLastListenerFn__||at).__ngNextListenerFn__=f,at.__ngLastListenerFn__=f,V=!1;else{f=vE(c,o,N,f,!1);const Rt=u.listen(Re,d,f);P.push(f,Rt),S&&S.push(d,Xe,_e,_e+1)}}else f=vE(c,o,N,f,!0),Re.addEventListener(d,f,v),P.push(f),S&&S.push(d,Xe,_e,v)}else f=vE(c,o,N,f,!1);const q=c.outputs;let oe;if(V&&null!==q&&(oe=q[d])){const J=oe.length;if(J)for(let Re=0;Re<J;Re+=2){const Gn=o[oe[Re]][oe[Re+1]].subscribe(f),Ur=P.length;P.push(f,Gn),S&&S.push(d,c.index,Ur,-(Ur+1))}}}(f,d,d[11],v,s,o,!!u,c),mE}function oI(s,o,u,c){try{return!1!==u(c)}catch(d){return $A(s,d),!1}}function vE(s,o,u,c,d){return function f(v){if(v===Function)return c;const E=2&s.flags?pr(s.index,o):o;0==(32&o[2])&&nd(E);let I=oI(o,0,c,v),T=f.__ngNextListenerFn__;for(;T;)I=oI(o,0,T,v)&&I,T=T.__ngNextListenerFn__;return d&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function vr(s=1){return function(s){return(ut.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,ut.lFrame.contextLView))[8]}(s)}function EE(s,o,u){return wE(s,"",o,"",u),EE}function wE(s,o,u,c,d){const f=Ce(),v=dd(f,o,u,c);return v!==yt&&di(At(),Jt(),f,s,v,f[11],d,!1),wE}function Wm(s,o,u,c,d){const f=s[u+1],v=null===o;let E=c?Ki(f):Xo(f),I=!1;for(;0!==E&&(!1===I||v);){const S=s[E+1];lI(s[E],o)&&(I=!0,s[E+1]=c?Xc(S):Yn(S)),E=c?Ki(S):Xo(S)}I&&(s[u+1]=c?Yn(f):Xc(f))}function lI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&eo(s,o)>=0}function np(s,o){return function(s,o,u,c){const d=Ce(),f=At(),v=function(s){const o=ut.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[Sr()],v=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(f,c)&&null===o&&!v&&(o=!1),o=function(s,o,u,c){const d=function(s){const o=ut.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=rp(u=TE(null,s,o,u,c),o.attrs,c),f=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(u=TE(d,s,o,u,c),null===f){let I=function(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Xo(c))return s[Ki(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=TE(null,s,o,I[1],c),I=rp(I,o.attrs,c),function(s,o,u,c){s[Ki(u?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else f=function(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=rp(c,s[f].hostAttrs,u);return rp(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function(s,o,u,c,d,f){let v=f?o.classBindings:o.styleBindings,E=Ki(v),I=Xo(v);s[c]=u;let S,T=!1;if(Array.isArray(u)){const N=u;S=N[1],(null===S||eo(N,S)>0)&&(T=!0)}else S=u;if(d)if(0!==I){const P=Ki(s[E+1]);s[c+1]=pm(P,E),0!==P&&(s[P+1]=Jc(s[P+1],c)),s[E+1]=function(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=pm(E,0),0!==E&&(s[E+1]=Jc(s[E+1],c)),E=c;else s[c+1]=pm(I,0),0===E?E=c:s[I+1]=Jc(s[I+1],c),I=c;T&&(s[c+1]=Yn(s[c+1])),Wm(s,S,c,!0),Wm(s,S,c,!1),function(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&eo(f,o)>=0&&(u[c+1]=Xc(u[c+1]))}(o,S,s,c,f),v=pm(E,I),f?o.classBindings=v:o.styleBindings=v}(d,f,o,u,v,c)}}(f,s,v,c),o!==yt&&Pr(d,v,o)&&function(s,o,u,c,d,f,v,E){if(!(3&o.type))return;const I=s.data,T=I[E+1];gl(function(s){return 1==(1&s)}(T)?AE(I,o,u,d,Xo(T),v):void 0)||(gl(f)||function(s){return 2==(2&s)}(T)&&(f=AE(I,null,u,d,E,v)),function(s,o,u,c,d){const f=Yt(s);if(o)d?f?s.addClass(u,c):u.classList.add(c):f?s.removeClass(u,c):u.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:ci.DashCase;if(null==d)f?s.removeStyle(u,c,v):u.style.removeProperty(c);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),v|=ci.Important),f?s.setStyle(u,c,d,v):u.style.setProperty(c,d,E?"important":"")}}}(c,v,Tu(Sr(),u),d,f))}(f,f.data[Sr()],d,d[11],s,d[v+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Z(ai(s)))),s}(o,u),c,v)}(s,o,null,!0),np}function TE(s,o,u,c,d){let f=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(f=o[E],c=rp(c,f.hostAttrs,d),f!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function rp(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const v=o[f];"number"==typeof v?d=v:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wn(s,v,!!u||o[++f]))}return void 0===s?null:s}function AE(s,o,u,c,d,f){const v=null===o;let E;for(;d>0;){const I=s[d],T=Array.isArray(I),S=T?I[1]:I,N=null===S;let P=u[d+1];P===yt&&(P=N?je:void 0);let V=N?$u(P,c):S===c?P:void 0;if(T&&!gl(V)&&(V=$u(I,c)),gl(V)&&(E=V,v))return E;const q=s[d+1];d=v?Ki(q):Xo(q)}if(null!==o){let I=f?o.residualClasses:o.residualStyles;null!=I&&(E=$u(I,c))}return E}function gl(s){return void 0!==s}function SE(s,o=""){const u=Ce(),c=At(),d=s+20,f=c.firstCreatePass?td(c,d,1,o,null):c.data[d],v=u[d]=function(s,o){return Yt(s)?s.createText(o):s.createTextNode(o)}(u[11],o);cm(c,u,v,f),ti(f,!1)}function wr(s){return ip("",s,""),wr}function ip(s,o,u){const c=Ce(),d=dd(c,s,o,u);return d!==yt&&Ns(c,Sr(),d),ip}function Os(s,o,u){const c=Ce();return Pr(c,Ks(),o)&&di(At(),Jt(),c,s,o,c[11],u,!0),Os}const po=void 0;var AI=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Gt={};function VE(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Id(o);if(u)return u;const c=o.split("-")[0];if(u=Id(c),u)return u;if("en"===c)return AI;throw new Error(`Missing locale data for the locale "${s}".`)}function Cd(s){return VE(s)[it.PluralCase]}function Id(s){return s in Gt||(Gt[s]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[s]),Gt[s]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const uy="en-US";let _l=uy;function UE(s){sn(s,"Expected localeId to be defined"),"string"==typeof s&&(_l=s.toLowerCase().replace(/_/g,"-"))}function vp(s,o,u,c,d){if(s=X(s),Array.isArray(s))for(let f=0;f<s.length;f++)vp(s[f],o,u,c,d);else{const f=At(),v=Ce();let E=Wa(s)?s:X(s.provide),I=ad(s);const T=mn(),S=1048575&T.providerIndexes,N=T.directiveStart,P=T.providerIndexes>>20;if(Wa(s)||!s.multi){const V=new Lu(I,d,fl),q=ow(E,o,d?S:S+P,N);-1===q?(wc(ri(T,v),f,E),Ke(f,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(V),v.push(V)):(u[q]=V,v[q]=V)}else{const V=ow(E,o,S+P,N),q=ow(E,o,S,S+P),oe=V>=0&&u[V],J=q>=0&&u[q];if(d&&!J||!d&&!oe){wc(ri(T,v),f,E);const Re=function(s,o,u,c,d){const f=new Lu(s,u,fl);return f.multi=[],f.index=o,f.componentProviders=0,lt(f,d,c&&!u),f}(d?de:Le,u.length,d,c,I);!d&&J&&(u[q].providerFactory=Re),Ke(f,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Re),v.push(Re)}else Ke(f,s,V>-1?V:q,lt(u[d?q:V],I,!d&&c));!d&&c&&J&&u[q].componentProviders++}}}function Ke(s,o,u,c){const d=Wa(o);if(d||function(s){return!!s.useClass}(o)){const v=(o.useClass||o).prototype.ngOnDestroy;if(v){const E=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const I=E.indexOf(u);-1===I?E.push(u,[c,v]):E[I+1].push(c,v)}else E.push(u,v)}}}function lt(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function ow(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function Le(s,o,u,c){return De(this.multi,[])}function de(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Bo(u,u[1],this.providerFactory.index,c);f=E.slice(0,v),De(d,f);for(let I=v;I<E.length;I++)f.push(E[I])}else f=[],De(d,f);return f}function De(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function aw(s,o=[]){return u=>{u.providersResolver=(c,d)=>function(s,o,u){const c=At();if(c.firstCreatePass){const d=vi(s);vp(u,c.data,c.blueprint,d,!0),vp(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class GI{}const zI="ngComponent";class Ai{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${Z(s)}. Did you add it to @NgModule.entryComponents?`);return o[zI]=s,o}(o)}}let Rd=(()=>{class s{}return s.NULL=new Ai,s})();function ia(...s){}function An(s,o){return new ks(zr(s,o))}const Cl=function(){return An(mn(),Ce())};let ks=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Cl,s})();function xd(s){return s instanceof ks?s.nativeElement:s}class _y{}let br=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>ar(),s})();const ar=function(){const s=Ce(),u=pr(mn().index,s);return function(s){return s[11]}(Gr(u)?u:s)};let Nn=(()=>{class s{}return s.\u0275prov=on({token:s,providedIn:"root",factory:()=>null}),s})();class Il{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ep=new Il("12.2.7");class uw{constructor(){}supports(o){return ld(o)}create(o){return new vy(o)}}const wp=(s,o)=>o;class vy{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||wp}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const v=!c||u&&u.currentIndex<Fs(c,d,f)?u:c,E=Fs(v,d,f),I=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{f||(f=[]);const T=E-d,S=I-d;if(T!=S){for(let P=0;P<T;P++){const V=P<f.length?f[P]:f[P]=0,q=V+P;S<=q&&q<T&&(f[P]=V+1)}f[v.previousIndex]=S-T}}E!==I&&o(v,E,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!ld(o))throw new Error(`Error trying to diff '${Z(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)f=o[E],v=this._trackByFn(E,f),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,f,v,E)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,v,E),c=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Gf()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(d,E),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,E,v,d)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new ZI(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new nu),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nu),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ZI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Je{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class nu{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new Je,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fs(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class Od{constructor(){}supports(o){return o instanceof Map||LC(o)}create(){return new Pd}}class Pd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||LC(o)))throw new Error(`Error trying to diff '${Z(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,v=d._next;return f&&(f._next=v),v&&(v._prev=f),d._next=null,d._prev=null,d}const c=new KI(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class KI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ey(){return new kd([new uw])}let kd=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Ey()),deps:[[s,new ro,new si]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:Ey}),s})();function by(){return new Fd([new Od])}let Fd=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||by()),deps:[[s,new ro,new si]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:by}),s})();function bp(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(Qt(f)),Ut(f))for(let E=10;E<f.length;E++){const I=f[E],T=I[1].firstChild;null!==T&&bp(I[1],I,T,c)}const v=u.type;if(8&v)bp(s,o,u.child,c);else if(32&v){const E=sm(u,o);let I;for(;I=E();)c.push(I)}else if(16&v){const E=Pb(o,u);if(Array.isArray(E))c.push(...E);else{const I=il(o[16]);bp(I[1],I,E,c,!0)}}u=d?u.projectionNext:u.next}return c}class Ld{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return bp(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ut(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(hv(o,c),Xs(u,c))}this._attachedToViewContainer=!1}Rb(this._lView[1],this._lView)}onDestroy(o){Nv(this._lView[1],this._lView,null,o)}markForCheck(){nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){id(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){Zs(!0);try{id(s,o,u)}finally{Zs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Yc(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class Cy extends Ld{constructor(o){super(o),this._view=o}detectChanges(){hC(this._view)}checkNoChanges(){!function(s){Zs(!0);try{hC(s)}finally{Zs(!1)}}(this._view)}get context(){return null}}const YI=function(s){return function(s,o,u){if(oc(s)&&!u){const c=pr(s.index,o);return new Ld(c,c)}return 47&s.type?new Ld(o[16],o):null}(mn(),Ce(),16==(16&s))};let vn=(()=>{class s{}return s.__NG_ELEMENT_ID__=YI,s})();const Ip=[new Od],Iy=new kd([new uw]),Dy=new Fd(Ip),JS=function(){return Ty(mn(),Ce())};let Dp=(()=>{class s{}return s.__NG_ELEMENT_ID__=JS,s})();const XS=Dp,JI=class extends XS{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=Of(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),Yi(u,c,o),new Ld(c)}};function Ty(s,o){return 4&s.type?new JI(o,s,An(s,o)):null}class Dl{}class XI{}const Vd=function(){return Ap(mn(),Ce())};let Ay=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vd,s})();const tD=Ay,go=class extends tD{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return An(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const o=ju(this._hostTNode,this._hostLView);if(Cg(o)){const u=Uu(o,this._hostLView),c=Vu(o);return new ms(u[1].data[c+8],u)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=cw(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const d=o.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(o,u,c,d,f){const v=c||this.parentInjector;if(!f&&null==o.ngModule&&v){const I=v.get(Dl,null);I&&(f=I)}const E=o.create(v,d,void 0,f);return this.insert(E.hostView,u),E}insert(o,u){const c=o._lView,d=c[1];if(Ut(c[3])){const S=this.indexOf(o);if(-1!==S)this.detach(S);else{const N=c[3],P=new go(N,N[6],N[3]);P.detach(P.indexOf(o))}}const f=this._adjustIndex(u),v=this._lContainer;!function(s,o,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=o),c<f-10?(o[4]=u[d],Rc(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,c,v,f);const E=yv(f,v),I=c[11],T=Ba(I,v[7]);return null!==T&&function(s,o,u,c,d,f){c[0]=d,c[6]=o,Yc(s,c,u,1,d,f)}(d,v[6],I,c,T,E),o.attachToViewContainerRef(),Rc(ru(v),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=cw(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=hv(this._lContainer,u);c&&(Xs(ru(this._lContainer),u),Rb(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=hv(this._lContainer,u);return c&&null!=Xs(ru(this._lContainer),u)?new Ld(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function cw(s){return s[8]}function ru(s){return s[8]||(s[8]=[])}function Ap(s,o){let u;const c=o[s.index];if(Ut(c))u=c;else{let d;if(8&s.type)d=Qt(c);else{const f=o[11];d=f.createComment("");const v=zr(s,o);sl(f,Ba(f,v),d,function(s,o){return Yt(s)?s.nextSibling(o):o.nextSibling}(f,v),!1)}o[s.index]=u=cC(c,o,d,s),Im(o,u)}return new go(u,s,o)}const Ol={};class vD extends Rd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=zn(o);return new lr(u,this.ngModule)}}function ED(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const vo=new dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qc});class lr extends GI{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(Bb).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return ED(this.componentDef.inputs)}get outputs(){return ED(this.componentDef.outputs)}create(o,u,c,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(u,c,d)=>{const f=s.get(u,Ol,d);return f!==Ol||c===Ol?f:o.get(u,c,d)}}}(o,d.injector):o,v=f.get(_y,hc),E=f.get(Nn,null),I=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=c?function(s,o,u){if(Yt(s))return s.selectRootElement(o,u===gn.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(I,c,this.componentDef.encapsulation):um(v.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,P=function(s,o){return{components:[],scheduler:s||qc,clean:fC,playerHandler:o||null,flags:0}}(),V=Pf(0,null,null,1,0,null,null,null,null,null),q=Of(null,V,P,N,null,null,v,I,E,f);let oe,J;ku(q);try{const Re=function(s,o,u,c,d,f){const v=u[1];u[20]=s;const I=td(v,20,2,"#host",null),T=I.mergedAttrs=o.hostAttrs;null!==T&&(Tm(I,T,!0),null!==s&&(Xt(d,s,T),null!==I.classes&&hm(d,s,I.classes),null!==I.styles&&Lb(d,s,I.styles)));const S=c.createRenderer(s,o),N=Of(u,Sv(o),null,o.onPush?64:16,u[20],I,c,S,f||null,null);return v.firstCreatePass&&(wc(ri(I,u),v,o.type),Or(v,I),BA(I,u.length,1)),Im(u,N),u[20]=N}(S,this.componentDef,q,v,I);if(S)if(c)Xt(I,S,["ng-version",Ep.full]);else{const{attrs:_e,classes:Xe}=function(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!Ss(d))break;d=f}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);_e&&Xt(I,S,_e),Xe&&Xe.length>0&&hm(I,S,Xe.join(" "))}if(J=qs(V,20),void 0!==u){const _e=J.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const at=u[Xe];_e.push(null!=at?Array.from(at):null)}}oe=function(s,o,u,c,d){const f=u[1],v=function(s,o,u){const c=mn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),jA(s,c,o,uo(s,o,1,null),u));const d=Bo(o,s,c.directiveStart,c);In(d,o);const f=zr(c,o);return f&&In(f,o),d}(f,u,o);if(c.components.push(v),s[8]=v,d&&d.forEach(I=>I(v,o)),o.contentQueries){const I=mn();o.contentQueries(1,v,I.directiveStart)}const E=mn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Vo(E.index),Pv(u[1],E,0,E.directiveStart,E.directiveEnd,o),Fv(o,v)),v}(Re,this.componentDef,q,P,[rS]),Yi(V,q,null)}finally{bg()}return new la(this.componentType,oe,An(J,q),q,J)}}class la extends class{}{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new Cy(d),this.componentType=o}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Ls=new Map;class Vs extends Dl{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vD(this);const c=hr(o),d=o[Tt]||null;d&&UE(d),this._bootstrapComponents=Zi(c.bootstrap),this._r3Injector=Sm(o,u,[{provide:Dl,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],Z(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=_n.THROW_IF_NOT_FOUND,c=Ie.Default){return o===_n||o===Dl||o===Lf?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Dw extends XI{constructor(o){super(),this.moduleType=o,null!==hr(o)&&function(s){const o=new Set;!function u(c){const d=hr(c,!0),f=d.id;null!==f&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${Z(o)} vs ${Z(o.name)}`)}(f,Ls.get(f),c),Ls.set(f,c));const v=Zi(d.imports);for(const E of v)o.has(E)||(o.add(E),u(E))}(s)}(o)}create(o){return new Vs(this.moduleType,o)}}function Zd(s,o,u){const c=Ar()+s,d=Ce();return d[c]===yt?fo(d,c,u?o.call(u):o()):function(s,o){return s[o]}(d,c)}function Rw(s,o,u,c,d,f){const v=o+u;return Pr(s,v,d)?fo(s,v+1,f?c.call(f,d):c(d)):function(s,o){const u=s[o];return u===yt?void 0:u}(s,v+1)}function Fl(s,o){const u=At();let c;const d=s+20;u.firstCreatePass?(c=function(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}throw new Ae("302",`The pipe '${s}' could not be found!`)}(o,u.pipeRegistry),u.data[d]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,c.onDestroy)):c=u.data[d];const f=c.factory||(c.factory=ds(c.type)),v=un(fl);try{const E=_c(!1),I=f();return _c(E),function(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,Ce(),d,I),I}finally{un(v)}}function Ll(s,o,u){const c=s+20,d=Ce(),f=Au(d,c);return function(s,o){ho.isWrapped(o)&&(o=ho.unwrap(o),s[ut.lFrame.bindingIndex]=yt);return o}(d,function(s,o){return s[1].data[o].pure}(d,c)?Rw(d,Ar(),o,f.transform,u,f):f.transform(u))}function Lp(s){return o=>{setTimeout(s,void 0,o)}}const Eo=class extends g.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var d,f,v;let E=o,I=u||(()=>null),T=c;if(o&&"object"==typeof o){const N=o;E=null===(d=N.next)||void 0===d?void 0:d.bind(N),I=null===(f=N.error)||void 0===f?void 0:f.bind(N),T=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(I=Lp(I),E&&(E=Lp(E)),T&&(T=Lp(T)));const S=super.subscribe({next:E,error:I,complete:T});return o instanceof ee.w&&o.add(S),S}};function DD(){return this._results[Gf()]()}class Vp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Gf(),c=Vp.prototype;c[u]||(c[u]=DD)}get changes(){return this._changes||(this._changes=new Eo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=bi(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Up{constructor(o){this.queryList=o,this.matches=null}clone(){return new Up(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const v=u.getByIndex(f);d.push(this.queries[v.indexInDeclarationView].clone())}return new Vy(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Pw(o,u).matches&&this.queries[u].setDirty()}}class ca{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class uu{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new uu(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Uy{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Uy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,Vl(u,f)),this.matchTNodeWithReadOption(o,u,bc(u,o,f,!1,!1))}else c===Dp?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,bc(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ks||d===Ay||d===Dp&&4&u.type)this.addMatch(u.index,-2);else{const f=bc(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Vl(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function Jd(s,o,u,c){return-1===u?function(s,o){return 11&s.type?An(s,o):4&s.type?Ty(s,o):null}(o,s):-2===u?function(s,o,u){return u===ks?An(o,s):u===Dp?Ty(o,s):u===Ay?Ap(o,s):void 0}(s,o,c):Bo(s,s[1],u,o)}function da(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,v=u.matches,E=[];for(let I=0;I<v.length;I+=2){const T=v[I];E.push(T<0?null:Jd(o,f[T],v[I+1],u.metadata.read))}d.matches=E}return d.matches}function ha(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const v=da(s,o,d,u);for(let E=0;E<f.length;E+=2){const I=f[E];if(I>0)c.push(v[E/2]);else{const T=f[E+1],S=o[-I];for(let N=10;N<S.length;N++){const P=S[N];P[17]===P[3]&&ha(P[1],P,T,c)}if(null!==S[9]){const N=S[9];for(let P=0;P<N.length;P++){const V=N[P];ha(V[1],V,T,c)}}}}}return c}function By(s){const o=Ce(),u=At(),c=Lo();$h(c+1);const d=Pw(u,c);if(s.dirty&&Su(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?ha(u,o,c,[]):da(u,o,d,c);s.reset(f,xd),s.notifyOnChanges()}return!0}return!1}function RD(s,o,u,c){const d=At();if(d.firstCreatePass){const f=mn();(function(s,o,u){null===s.queries&&(s.queries=new uu),s.queries.track(new Uy(o,u))})(d,new ca(o,u,c),f.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function(s,o,u){const c=new Vp(4==(4&u));Nv(s,o,c,c.destroy),null===o[19]&&(o[19]=new Vy),o[19].queries.push(new Up(c))}(d,Ce(),u)}function xD(){return s=Ce(),o=Lo(),s[19].queries[o].queryList;var s,o}function Pw(s,o){return s.queries.getByIndex(o)}const Wp=new dn("Application Initializer");let Mi=(()=>{class s{constructor(u){this.appInits=u,this.resolve=ia,this.reject=ia,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Kf(f))u.push(f);else if(Yf(f)){const v=new Promise((E,I)=>{f.subscribe({complete:E,error:I})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Cn(Wp,8))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();const Kw=new dn("AppId"),Yw={provide:Kw,useFactory:function(){return`${Qw()}${Qw()}${Qw()}`},deps:[]};function Qw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jy=new dn("Platform Initializer"),JD=new dn("Platform ID"),Xy=new dn("appBootstrapListener");let e_=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();const Zp=new dn("LocaleId"),jl=new dn("DefaultCurrencyCode");class Xw{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const e0=function(s){return new Dw(s)},t0=e0,n0=function(s){return Promise.resolve(e0(s))},Hl=function(s){const o=e0(s),c=Zi(hr(s).declarations).reduce((d,f)=>{const v=zn(f);return v&&d.push(new lr(v)),d},[]);return new Xw(o,c)},cu=Hl,th=function(s){return Promise.resolve(Hl(s))};let nh=(()=>{class s{constructor(){this.compileModuleSync=t0,this.compileModuleAsync=n0,this.compileModuleAndAllComponentsSync=cu,this.compileModuleAndAllComponentsAsync=th}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();const JR=(()=>Promise.resolve(0))();function Yp(s){"undefined"==typeof Zone?JR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Jr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eo(!1),this.onMicrotaskEmpty=new Eo(!1),this.onStable=new Eo(!1),this.onError=new Eo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=j.requestAnimationFrame,o=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(j,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qp(s),s.isCheckStableRunning=!0,o0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qp(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,v,E)=>{try{return sT(s),u.invokeTask(d,f,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),u0(s)}},onInvoke:(u,c,d,f,v,E,I)=>{try{return sT(s),u.invoke(d,f,v,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),u0(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Qp(s),o0(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Jr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+d,o,s0,ia,ia);try{return f.runTask(v,u,c)}finally{f.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const s0={};function o0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qp(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function sT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function u0(s){s._nesting--,o0(s)}class ex{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eo,this.onMicrotaskEmpty=new Eo,this.onStable=new Eo,this.onError=new Eo}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}let l0=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jr.assertNotInAngularZone(),Yp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yp(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Cn(Jr))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})(),c0=(()=>{class s{constructor(){this._applications=new Map,d0.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return d0.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();class oT{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function aT(s){d0=s}let d0=new oT,uT=!0,lT=!1;function h0(){return lT=!0,uT}function f0(){if(lT)throw new Error("Cannot enable prod mode after platform setup.");uT=!1}let Oi;const n_=new dn("AllowMultipleToken");class rx{constructor(o,u){this.name=o,this.token=u}}function dT(s,o,u=[]){const c=`Platform: ${o}`,d=new dn(c);return(f=[])=>{let v=r_();if(!v||v.injector.get(n_,!1))if(s)s(u.concat(f).concat({provide:d,useValue:!0}));else{const E=u.concat(f).concat({provide:d,useValue:!0},{provide:qa,useValue:"platform"});!function(s){if(Oi&&!Oi.destroyed&&!Oi.injector.get(n_,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Oi=s.get(i_);const o=s.get(Jy,null);o&&o.forEach(u=>u())}(_n.create({providers:E,name:c}))}return function(s){const o=r_();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function r_(){return Oi&&!Oi.destroyed?Oi:null}let i_=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const E=function(s,o){let u;return u="noop"===s?new ex:("zone.js"===s?void 0:s)||new Jr({enableLongStackTrace:h0(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),I=[{provide:Jr,useValue:E}];return E.run(()=>{const T=_n.create({providers:I,parent:this.injector,name:u.moduleType.name}),S=u.create(T),N=S.injector.get(z,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const P=E.onError.subscribe({next:V=>{N.handleError(V)}});S.onDestroy(()=>{b0(this._modules,S),P.unsubscribe()})}),function(s,o,u){try{const c=u();return Kf(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(N,E,()=>{const P=S.injector.get(Mi);return P.runInitializers(),P.donePromise.then(()=>(UE(S.injector.get(Zp,uy)||uy),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,c=[]){const d=w0({},c);return function(s,o,u){const c=new Dw(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get($l);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${Z(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Cn(_n))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();function w0(s,o){return Array.isArray(o)?o.reduce(w0,s):Object.assign(Object.assign({},s),o)}let $l=(()=>{class s{constructor(u,c,d,f,v){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new B.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),I=new B.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Jr.assertNotInAngularZone(),Yp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Jr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ye.T)(E,I.pipe(s=>(0,fe.x)()(function(s,o){return function(c){let d;d="function"==typeof s?s:function(){return s};const f=Object.create(c,ge.N);return f.source=c,f.subjectFactory=d,f}}(W)(s))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof GI?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Dl),E=d.create(_n.NULL,[],c||d.selector,f),I=E.location.nativeElement,T=E.injector.get(l0,null),S=T&&E.injector.get(c0);return T&&S&&S.registerApplication(I,T),E.onDestroy(()=>{this.detachView(E.hostView),b0(this.components,E),S&&S.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;b0(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Xy,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Cn(Jr),Cn(_n),Cn(z),Cn(Rd),Cn(Mi))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();function b0(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class C0{}class I0{}const sx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let D0=(()=>{class s{constructor(u,c){this._compiler=u,this._config=c||sx}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),L(8255)(c).then(f=>f[d]).then(f=>pT(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),L(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(v=>v[d+f]).then(v=>pT(v,c,d))}}return s.\u0275fac=function(u){return new(u||s)(Cn(nh),Cn(I0,8))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();function pT(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const N0=function(s){return null},IT=dT(null,"core",[{provide:JD,useValue:"unknown"},{provide:i_,deps:[_n]},{provide:c0,deps:[]},{provide:e_,deps:[]}]),dx=[{provide:$l,useClass:$l,deps:[Jr,_n,z,Rd,Mi]},{provide:vo,deps:[Jr],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Mi,useClass:Mi,deps:[[new si,Wp]]},{provide:nh,useClass:nh,deps:[]},Yw,{provide:kd,useFactory:function(){return Iy},deps:[]},{provide:Fd,useFactory:function(){return Dy},deps:[]},{provide:Zp,useFactory:function(s){return UE(s=s||"undefined"!=typeof $localize&&$localize.locale||uy),s},deps:[[new Oa(Zp),new si,new ro]]},{provide:jl,useValue:"USD"}];let hx=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Cn($l))},s.\u0275mod=mu({type:s}),s.\u0275inj=yi({providers:dx}),s})()},8939:(We,we,L)=>{"use strict";L.d(we,{hO:()=>Z,xv:()=>W,Dh:()=>fe,GT:()=>se,on:()=>k,pX:()=>ge});var g=L(3018),ee=L(7841),B=L(9126);We=L.hmd(We);const ye=["ngOnDestroy"],ge=(Y,he,ne,X={})=>new Proxy(Y,{get:(Oe,Ne)=>ne.runOutsideAngular(()=>{var Ae;if(Y[Ne])return(null===(Ae=null==X?void 0:X.spy)||void 0===Ae?void 0:Ae.get)&&X.spy.get(Ne,Y[Ne]),Y[Ne];if(ye.indexOf(Ne)>-1)return()=>{};const Ve=he.toPromise().then(Ue=>{const Fe=Ue&&Ue[Ne];return"function"==typeof Fe?Fe.bind(Ue):Fe&&Fe.then?Fe.then(_t=>ne.run(()=>_t)):ne.run(()=>Fe)});return new Proxy(()=>{},{get:(Ue,Fe)=>Ve[Fe],apply:(Ue,Fe,_t)=>Ve.then(xt=>{var Ee;const ie=xt&&xt(..._t);return(null===(Ee=null==X?void 0:X.spy)||void 0===Ee?void 0:Ee.apply)&&X.spy.apply(Ne,_t,ie),ie})})})}),se=(Y,he)=>{he.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(X=>{Object.defineProperty(Y.prototype,X,Object.getOwnPropertyDescriptor(ne.prototype||ne,X))})})};class ve{constructor(he){return he}}const fe=new g.OlP("angularfire2.app.options"),W=new g.OlP("angularfire2.app.name");function k(Y,he,ne){const Oe="object"==typeof ne&&ne||{};Oe.name=Oe.name||"string"==typeof ne&&ne||"[DEFAULT]";const Ae=ee.Z.apps.filter(Ve=>Ve&&Ve.name===Oe.name)[0]||he.runOutsideAngular(()=>ee.Z.initializeApp(Y,Oe));try{JSON.stringify(Y)!==JSON.stringify(Ae.options)&&F("error",`${Ae.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new ve(Ae)}const F=(Y,...he)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Y](...he)},K={provide:ve,useFactory:k,deps:[fe,g.R0b,[new g.FiY,W]]};let Z=(()=>{class Y{constructor(ne){ee.Z.registerVersion("angularfire",B.q4.full,"core"),ee.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ee.Z.registerVersion("angular",g.q4F.full,ne.toString())}static initializeApp(ne,X){return{ngModule:Y,providers:[{provide:fe,useValue:ne},{provide:W,useValue:X}]}}}return Y.\u0275fac=function(ne){return new(ne||Y)(g.LFG(g.Lbi))},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({providers:[K]}),Y})()},9126:(We,we,L)=>{"use strict";L.d(we,{q4:()=>k,iC:()=>ie,fc:()=>xt,HU:()=>Ve,cc:()=>Z});var g=L(3018);(0,L(5452).registerVersion)("firebase","9.1.0","app");var ge=L(7771),se=L(3637),ve=L(3342),fe=L(309),W=L(3101);We=L.hmd(We);const k=new g.GfV("7.0.4"),F=!!We.hot,K=(le,...Q)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[le](...Q)};function Z(le,Q,xe,Ze,Dt){const[,nt,vt]=globalThis.\u0275AngularfireInstanceCache.find(Kt=>Kt[0]===le)||[];if(nt)return function(le,Q){try{return le.toString()===Q.toString()}catch(xe){return le===Q}}(Dt,vt)||(K("error",`${Q} was already initialized on the ${xe} Firebase App with different settings.${F?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:Dt,was:vt})),nt;{const Kt=Ze();return globalThis.\u0275AngularfireInstanceCache.push([le,Kt,Dt]),Kt}}function Oe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ne{constructor(Q,xe=ge.N){this.zone=Q,this.delegate=xe}now(){return this.delegate.now()}schedule(Q,xe,Ze){const Dt=this.zone;return this.delegate.schedule(function(vt){Dt.runGuarded(()=>{Q.apply(this,[vt])})},xe,Ze)}}class Ae{constructor(Q){this.zone=Q,this.task=null}call(Q,xe){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oe,{},Oe,Oe)),xe.pipe((0,ve.b)({next:Ze,complete:Ze,error:Ze})).subscribe(Q).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class le{constructor(xe){this.ngZone=xe,this.outsideAngular=xe.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=xe.run(()=>new Ne(Zone.current,se.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return le.\u0275fac=function(xe){return new(xe||le)(g.LFG(g.R0b))},le.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function Ue(){const le=globalThis.\u0275AngularFireScheduler;if(!le)throw new Error("AngularFireModule has not been provided");return le}function xt(le){return le.pipe((0,fe.QV)(Ue().outsideAngular))}function ie(le){return Ue(),function(le){return function(xe){return(xe=xe.lift(new Ae(le.ngZone))).pipe((0,W.R)(le.outsideAngular),(0,fe.QV)(le.insideAngular))}}(Ue())(le)}},4486:(We,we,L)=>{"use strict";L.d(we,{Z:()=>he});var g=L(3854),ee=L(6034),B=L(5452),ye=L(5601);class ge{constructor(X,Oe){this._delegate=X,this.firebase=Oe,(0,B._addComponent)(X,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(X,Oe=B._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(X);return!Ae.isInitialized()&&"EXPLICIT"===(null===(Ne=Ae.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:Oe})}_removeServiceInstance(X,Oe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(Oe)}_addComponent(X){(0,B._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,B._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function W(){const ne=function(ne){const X={},Oe={__esModule:!0,initializeApp:function(xt,Ee={}){const ie=B.initializeApp(xt,Ee);if((0,g.r3)(X,ie.name))return X[ie.name];const ae=new ne(ie,Oe);return X[ie.name]=ae,ae},app:Ae,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(xt){const Ee=xt.name,ie=Ee.replace("-compat","");if(B._registerComponent(xt)&&"PUBLIC"===xt.type){const ae=(ce=Ae())=>{if("function"!=typeof ce[ie])throw ve.create("invalid-app-argument",{appName:Ee});return ce[ie]()};void 0!==xt.serviceProps&&(0,g.ZB)(ae,xt.serviceProps),Oe[ie]=ae,ne.prototype[ie]=function(...ce){return this._getService.bind(this,Ee).apply(this,xt.multipleInstances?ce:[])}}return"PUBLIC"===xt.type?Oe[ie]:null},removeApp:function(xt){delete X[xt]},useAsService:function(xt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:B}};function Ae(xt){if(!(0,g.r3)(X,xt=xt||B._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:xt});return X[xt]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function(){return Object.keys(X).map(xt=>X[xt])}}),Ae.App=ne,Oe}(ge);return ne.INTERNAL=Object.assign(Object.assign({},ne.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(Oe){(0,g.ZB)(ne,Oe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ne}(),F=new ye.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const he=k;(0,B.registerVersion)("@firebase/app-compat","0.1.2",undefined)},5452:(We,we,L)=>{"use strict";L.r(we),L.d(we,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>mi,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>fn,_addOrOverwriteComponent:()=>Xr,_apps:()=>vt,_clearComponents:()=>Ot,_components:()=>Kt,_getProvider:()=>sn,_registerComponent:()=>ei,_removeServiceInstance:()=>ot,deleteApp:()=>Bs,getApp:()=>Dr,getApps:()=>wa,initializeApp:()=>yi,onLog:()=>kn,registerVersion:()=>js,setLogLevel:()=>Br});var g=L(8239),ee=L(6034),B=L(5601),ye=L(3854);class ge{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function(ct){const Ie=ct.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(jt)){const an=jt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(jt=>jt).join(" ")}}const ve="@firebase/app",W=new B.Yd("@firebase/app"),Dt="[DEFAULT]",nt={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,Kt=new Map;function fn(ct,Ie){try{ct.container.addComponent(Ie)}catch(jt){W.debug(`Component ${Ie.name} failed to register with FirebaseApp ${ct.name}`,jt)}}function Xr(ct,Ie){ct.container.addOrOverwriteComponent(Ie)}function ei(ct){const Ie=ct.name;if(Kt.has(Ie))return W.debug(`There were multiple attempts to register component ${Ie}.`),!1;Kt.set(Ie,ct);for(const jt of vt.values())fn(jt,ct);return!0}function sn(ct,Ie){return ct.container.getProvider(Ie)}function ot(ct,Ie,jt=Dt){sn(ct,Ie).clearInstance(jt)}function Ot(){Kt.clear()}const us=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class on{constructor(Ie,jt,an){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const mi="9.1.0";function yi(ct,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const jt=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},Ie),an=jt.name;if("string"!=typeof an||!an)throw us.create("bad-app-name",{appName:String(an)});const un=vt.get(an);if(un){if((0,ye.vZ)(ct,un.options)&&(0,ye.vZ)(jt,un.config))return un;throw us.create("duplicate-app",{appName:an})}const Ft=new ee.H0(an);for(const Qe of Kt.values())Ft.addComponent(Qe);const ze=new on(ct,jt,Ft);return vt.set(an,ze),ze}function Dr(ct=Dt){const Ie=vt.get(ct);if(!Ie)throw us.create("no-app",{appName:ct});return Ie}function wa(){return Array.from(vt.values())}function Bs(ct){return To.apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(ct){const Ie=ct.name;vt.has(Ie)&&(vt.delete(Ie),yield Promise.all(ct.container.getProviders().map(jt=>jt.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function js(ct,Ie,jt){var an;let un=null!==(an=nt[ct])&&void 0!==an?an:ct;jt&&(un+=`-${jt}`);const Ft=un.match(/\s|\//),ze=Ie.match(/\s|\//);if(Ft||ze){const Qe=[`Unable to register library "${un}" with version "${Ie}":`];return Ft&&Qe.push(`library name "${un}" contains illegal characters (whitespace or "/")`),Ft&&ze&&Qe.push("and"),ze&&Qe.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void W.warn(Qe.join(" "))}ei(new ee.wA(`${un}-version`,()=>({library:un,version:Ie}),"VERSION"))}function kn(ct,Ie){if(null!==ct&&"function"!=typeof ct)throw us.create("invalid-log-argument");(0,B.Am)(ct,Ie)}function Br(ct){(0,B.Ub)(ct)}ei(new ee.wA("platform-logger",Ie=>new ge(Ie),"PRIVATE")),js(ve,"0.7.1",undefined),js("fire-js","")},6034:(We,we,L)=>{"use strict";L.d(we,{wA:()=>B,H0:()=>fe});var g=L(4762),ee=L(3854),B=function(){function W(k,F,K){this.name=k,this.instanceFactory=F,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return W.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},W.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},W.prototype.setServiceProps=function(k){return this.serviceProps=k,this},W.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},W}(),ye="[DEFAULT]",ge=function(){function W(k,F){this.name=k,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return W.prototype.get=function(k){var F=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(F)){var K=new ee.BH;if(this.instancesDeferred.set(F,K),this.isInitialized(F)||this.shouldAutoInitialize())try{var Z=this.getOrInitializeService({instanceIdentifier:F});Z&&K.resolve(Z)}catch(Y){}}return this.instancesDeferred.get(F).promise},W.prototype.getImmediate=function(k){var F,K=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),Z=null!==(F=null==k?void 0:k.optional)&&void 0!==F&&F;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Y){if(Z)return null;throw Y}},W.prototype.getComponent=function(){return this.component},W.prototype.setComponent=function(k){var F,K;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:ye})}catch(Ae){}try{for(var Z=(0,g.XA)(this.instancesDeferred.entries()),Y=Z.next();!Y.done;Y=Z.next()){var he=(0,g.CR)(Y.value,2),X=he[1],Oe=this.normalizeInstanceIdentifier(he[0]);try{var Ne=this.getOrInitializeService({instanceIdentifier:Oe});X.resolve(Ne)}catch(Ae){}}}catch(Ae){F={error:Ae}}finally{try{Y&&!Y.done&&(K=Z.return)&&K.call(Z)}finally{if(F)throw F.error}}}},W.prototype.clearInstance=function(k){void 0===k&&(k=ye),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},W.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var k;return(0,g.Jh)(this,function(F){switch(F.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(k.filter(function(K){return"INTERNAL"in K}).map(function(K){return K.INTERNAL.delete()}))),(0,g.CR)(k.filter(function(K){return"_delete"in K}).map(function(K){return K._delete()}))))];case 1:return F.sent(),[2]}})})},W.prototype.isComponentSet=function(){return null!=this.component},W.prototype.isInitialized=function(k){return void 0===k&&(k=ye),this.instances.has(k)},W.prototype.getOptions=function(k){return void 0===k&&(k=ye),this.instancesOptions.get(k)||{}},W.prototype.initialize=function(k){var F,K;void 0===k&&(k={});var Z=k.options,Y=void 0===Z?{}:Z,he=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(he))throw Error(this.name+"("+he+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ne=this.getOrInitializeService({instanceIdentifier:he,options:Y});try{for(var X=(0,g.XA)(this.instancesDeferred.entries()),Oe=X.next();!Oe.done;Oe=X.next()){var Ne=(0,g.CR)(Oe.value,2),Ve=Ne[1];he===this.normalizeInstanceIdentifier(Ne[0])&&Ve.resolve(ne)}}catch(Fe){F={error:Fe}}finally{try{Oe&&!Oe.done&&(K=X.return)&&K.call(X)}finally{if(F)throw F.error}}return ne},W.prototype.onInit=function(k,F){var K,Z=this.normalizeInstanceIdentifier(F),Y=null!==(K=this.onInitCallbacks.get(Z))&&void 0!==K?K:new Set;Y.add(k),this.onInitCallbacks.set(Z,Y);var he=this.instances.get(Z);return he&&k(he,Z),function(){Y.delete(k)}},W.prototype.invokeOnInitCallbacks=function(k,F){var K,Z,Y=this.onInitCallbacks.get(F);if(Y)try{for(var he=(0,g.XA)(Y),ne=he.next();!ne.done;ne=he.next()){var X=ne.value;try{X(k,F)}catch(Oe){}}}catch(Oe){K={error:Oe}}finally{try{ne&&!ne.done&&(Z=he.return)&&Z.call(he)}finally{if(K)throw K.error}}},W.prototype.getOrInitializeService=function(k){var F=k.instanceIdentifier,K=k.options,Z=void 0===K?{}:K,Y=this.instances.get(F);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:se(F),options:Z}),this.instances.set(F,Y),this.instancesOptions.set(F,Z),this.invokeOnInitCallbacks(Y,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Y)}catch(he){}return Y||null},W.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=ye),this.component?this.component.multipleInstances?k:ye:k},W.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},W}();function se(W){return W===ye?void 0:W}var fe=function(){function W(k){this.name=k,this.providers=new Map}return W.prototype.addComponent=function(k){var F=this.getProvider(k.name);if(F.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);F.setComponent(k)},W.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},W.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var F=new ge(k,this);return this.providers.set(k,F),F},W.prototype.getProviders=function(){return Array.from(this.providers.values())},W}()},5601:(We,we,L)=>{"use strict";L.d(we,{in:()=>ee,Yd:()=>ve,Ub:()=>fe,Am:()=>W});const g=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const B={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ye=ee.INFO,ge={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},se=(k,F,...K)=>{if(F<k.logLevel)return;const Z=(new Date).toISOString(),Y=ge[F];if(!Y)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[Y](`[${Z}]  ${k.name}:`,...K)};class ve{constructor(F){this.name=F,this._logLevel=ye,this._logHandler=se,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in ee))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?B[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...F),this._logHandler(this,ee.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...F),this._logHandler(this,ee.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...F),this._logHandler(this,ee.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...F),this._logHandler(this,ee.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...F),this._logHandler(this,ee.ERROR,...F)}}function fe(k){g.forEach(F=>{F.setLogLevel(k)})}function W(k,F){for(const K of g){let Z=null;F&&F.level&&(Z=B[F.level]),K.userLogHandler=null===k?null:(Y,he,...ne)=>{const X=ne.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch(Ne){return null}}).filter(Oe=>Oe).join(" ");he>=(null!=Z?Z:Y.logLevel)&&k({level:ee[he].toLowerCase(),message:X,args:ne,type:Y.name})}}}},3854:(We,we,L)=>{"use strict";L.d(we,{BH:()=>Z,LL:()=>Q,ZR:()=>le,tV:()=>W,r3:()=>sn,Sg:()=>Y,ne:()=>Bs,vZ:()=>us,ZB:()=>F,pd:()=>Dr,m9:()=>So,z$:()=>he,jU:()=>Oe,ru:()=>Ne,d:()=>Ve,xb:()=>Ot,w1:()=>Ue,hl:()=>Ee,uI:()=>ne,UG:()=>X,b$:()=>Ae,G6:()=>xt,Mn:()=>Fe,xO:()=>mi,zd:()=>yi});const ye=function($){const G=[];let j=0;for(let be=0;be<$.length;be++){let re=$.charCodeAt(be);re<128?G[j++]=re:re<2048?(G[j++]=re>>6|192,G[j++]=63&re|128):55296==(64512&re)&&be+1<$.length&&56320==(64512&$.charCodeAt(be+1))?(re=65536+((1023&re)<<10)+(1023&$.charCodeAt(++be)),G[j++]=re>>18|240,G[j++]=re>>12&63|128,G[j++]=re>>6&63|128,G[j++]=63&re|128):(G[j++]=re>>12|224,G[j++]=re>>6&63|128,G[j++]=63&re|128)}return G},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,G){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let re=0;re<$.length;re+=3){const He=$[re],je=re+1<$.length,Lt=je?$[re+1]:0,ln=re+2<$.length,zt=ln?$[re+2]:0;let Wt=(15&Lt)<<2|zt>>6,er=63&zt;ln||(er=64,je||(Wt=64)),be.push(j[He>>2],j[(3&He)<<4|Lt>>4],j[Wt],j[er])}return be.join("")},encodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa($):this.encodeByteArray(ye($),G)},decodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?atob($):function($){const G=[];let j=0,be=0;for(;j<$.length;){const re=$[j++];if(re<128)G[be++]=String.fromCharCode(re);else if(re>191&&re<224){const He=$[j++];G[be++]=String.fromCharCode((31&re)<<6|63&He)}else if(re>239&&re<365){const ln=((7&re)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;G[be++]=String.fromCharCode(55296+(ln>>10)),G[be++]=String.fromCharCode(56320+(1023&ln))}else{const He=$[j++],je=$[j++];G[be++]=String.fromCharCode((15&re)<<12|(63&He)<<6|63&je)}}return G.join("")}(this.decodeStringToByteArray($,G))},decodeStringToByteArray($,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let re=0;re<$.length;){const He=j[$.charAt(re++)],Lt=re<$.length?j[$.charAt(re)]:0;++re;const zt=re<$.length?j[$.charAt(re)]:64;++re;const Tt=re<$.length?j[$.charAt(re)]:64;if(++re,null==He||null==Lt||null==zt||null==Tt)throw Error();be.push(He<<2|Lt>>4),64!==zt&&(be.push(Lt<<4&240|zt>>2),64!==Tt&&be.push(zt<<6&192|Tt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},fe=function($){return function($){const G=ye($);return se.encodeByteArray(G,!0)}($).replace(/\./g,"")},W=function($){try{return se.decodeString($,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function F($,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!K(j)||($[j]=F($[j],G[j]));return $}function K($){return"__proto__"!==$}class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,be)=>{j?this.reject(j):this.resolve(be),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,be))}}}function Y($,G){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=G||"demo-project",re=$.iat||0,He=$.sub||$.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:re,exp:re+3600,auth_time:re,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},$);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(je)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function X(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Ne(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return he().indexOf("Electron/")>=0}function Ue(){const $=he();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Fe(){return he().indexOf("MSAppHost/")>=0}function xt(){return!X()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"object"==typeof indexedDB}class le extends Error{constructor(G,j,be){super(j),this.code=G,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(G,j,be){this.service=G,this.serviceName=j,this.errors=be}create(G,...j){const be=j[0]||{},re=`${this.service}/${G}`,He=this.errors[G],je=He?function($,G){return $.replace(Ze,(j,be)=>{const re=G[be];return null!=re?String(re):`<${be}?>`})}(He,be):"Error";return new le(re,`${this.serviceName}: ${je} (${re}).`,be)}}const Ze=/\{\$([^}]+)}/g;function sn($,G){return Object.prototype.hasOwnProperty.call($,G)}function Ot($){for(const G in $)if(Object.prototype.hasOwnProperty.call($,G))return!1;return!0}function us($,G){if($===G)return!0;const j=Object.keys($),be=Object.keys(G);for(const re of j){if(!be.includes(re))return!1;const He=$[re],je=G[re];if(on(He)&&on(je)){if(!us(He,je))return!1}else if(He!==je)return!1}for(const re of be)if(!j.includes(re))return!1;return!0}function on($){return null!==$&&"object"==typeof $}function mi($){const G=[];for(const[j,be]of Object.entries($))Array.isArray(be)?be.forEach(re=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(re))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(be));return G.length?"&"+G.join("&"):""}function yi($){const G={};return $.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[re,He]=be.split("=");G[decodeURIComponent(re)]=decodeURIComponent(He)}}),G}function Dr($){const G=$.indexOf("?");if(!G)return"";const j=$.indexOf("#",G);return $.substring(G,j>0?j:void 0)}function Bs($,G){const j=new To($,G);return j.subscribe.bind(j)}class To{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(be=>{this.error(be)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,be){let re;if(void 0===G&&void 0===j&&void 0===be)throw new Error("Missing Observer.");re=function($,G){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(G)?G:{next:G,error:j,complete:be},void 0===re.next&&(re.next=Br),void 0===re.error&&(re.error=Br),void 0===re.complete&&(re.complete=Br);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(je){}}),this.observers.push(re),He}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Br(){}function So($){return $&&$._delegate?$._delegate:$}},7841:(We,we,L)=>{"use strict";L.d(we,{Z:()=>g.Z});var g=L(4486);g.Z.registerVersion("firebase","9.1.0","app-compat")},670:(We,we,L)=>{"use strict";L.r(we);var g=L(8239),ee=L(4486),B=L(3854),ye=L(5452),ge=L(4762),se=L(5601),ve=L(6034);const he=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ne=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},X=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new se.Yd("@firebase/auth");function Ae(b,...y){Ne.logLevel<=se.in.ERROR&&Ne.error(`Auth (${ye.SDK_VERSION}): ${b}`,...y)}function Ve(b,...y){throw xt(b,...y)}function Ue(b,...y){return xt(b,...y)}function Fe(b,y,_){const C=Object.assign(Object.assign({},ne()),{[y]:_});return new B.LL("auth","Firebase",C).create(y,{appName:b.name})}function _t(b,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&Ve(b,"argument-error"),Fe(b,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(b,...y){if("string"!=typeof b){const _=y[0],C=[...y.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return X.create(b,...y)}function Ee(b,y,..._){if(!b)throw xt(y,..._)}function ie(b){const y="INTERNAL ASSERTION FAILED: "+b;throw Ae(y),new Error(y)}function ae(b,y){b||ie(y)}const ce=new Map;function ue(b){ae(b instanceof Function,"Expected a class definition");let y=ce.get(b);return y?(ae(y instanceof b,"Instance stored in cache mismatched with class"),y):(y=new b,ce.set(b,y),y)}function xe(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ze(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Kt{constructor(y,_){this.shortDelay=y,this.longDelay=_,ae(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ze()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fn(b,y){ae(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class Xr{static initialize(y,_,C){this.fetchImpl=y,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ei={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new Kt(3e4,6e4);function ot(b,y){return b.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:b.tenantId}):y}function Ot(b,y,_,C){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(b,y,_,C,R={}){return us(b,R,()=>{let M={},z={};C&&("GET"===y?z=C:M={body:JSON.stringify(C)});const pe=(0,B.xO)(Object.assign({key:b.config.apiKey},z)).slice(1),Pe=new(Xr.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&Pe.set("X-Firebase-Locale",b.languageCode),Xr.fetch()(Dr(b,b.config.apiHost,_,pe),Object.assign({method:y,headers:Pe,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function us(b,y,_){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(b,y,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},ei),y);try{const R=new wa(b),M=yield Promise.race([_(),R.promise]);R.clearNetworkTimeout();const z=yield M.json();if("needConfirmation"in z)throw Bs(b,"account-exists-with-different-credential",z);if(M.ok&&!("errorMessage"in z))return z;{const pe=M.ok?z.errorMessage:z.error.message,[Pe,qe]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Bs(b,"credential-already-in-use",z);if("EMAIL_EXISTS"===Pe)throw Bs(b,"email-already-in-use",z);const rt=C[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Fe(b,rt,qe);Ve(b,rt)}}catch(R){if(R instanceof B.ZR)throw R;Ve(b,"network-request-failed")}})).apply(this,arguments)}function mi(b,y,_,C){return yi.apply(this,arguments)}function yi(){return(yi=(0,g.Z)(function*(b,y,_,C,R={}){const M=yield Ot(b,y,_,C,R);return"mfaPendingCredential"in M&&Ve(b,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function Dr(b,y,_,C){const R=`${y}${_}?${C}`;return b.config.emulator?fn(b.config,R):`${b.config.apiScheme}://${R}`}class wa{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Ue(this.auth,"timeout")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bs(b,y,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const R=Ue(b,y,C);return R.customData._tokenResponse=_,R}function js(){return(js=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function kn(b,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function gu(b,y){return ct.apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Ie(b){if(b)try{const y=new Date(Number(b));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function un(){return(un=(0,g.Z)(function*(b,y=!1){const _=(0,B.m9)(b),C=yield _.getIdToken(y),R=ze(C);Ee(R&&R.exp&&R.auth_time&&R.iat,_.auth,"internal-error");const M="object"==typeof R.firebase?R.firebase:void 0,z=null==M?void 0:M.sign_in_provider;return{claims:R,token:C,authTime:Ie(Ft(R.auth_time)),issuedAtTime:Ie(Ft(R.iat)),expirationTime:Ie(Ft(R.exp)),signInProvider:z||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Ft(b){return 1e3*Number(b)}function ze(b){const[y,_,C]=b.split(".");if(void 0===y||void 0===_||void 0===C)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,B.tV)(_);return R?JSON.parse(R):(Ae("Failed to decode base64 JWT payload"),null)}catch(R){return Ae("Caught error parsing JWT payload as JSON",R),null}}function pn(b,y){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,g.Z)(function*(b,y,_=!1){if(_)return y;try{return yield y}catch(C){throw C instanceof B.ZR&&ls(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function ls({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class gn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const R=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(y);this.timerId=setTimeout((0,g.Z)(function*(){yield _.iteration()}),C)}iteration(){var y=this;return(0,g.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&y.schedule(!0))}y.schedule()})()}}class Tr{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ie(this.lastLoginAt),this.creationTime=Ie(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function So(b){return $.apply(this,arguments)}function $(){return($=(0,g.Z)(function*(b){var y;const _=b.auth,C=yield b.getIdToken(),R=yield pn(b,gu(_,{idToken:C}));Ee(null==R?void 0:R.users.length,_,"internal-error");const M=R.users[0];b._notifyReloadListener(M);const z=(null===(y=M.providerUserInfo)||void 0===y?void 0:y.length)?re(M.providerUserInfo):[],pe=be(b.providerData,z),rt=!!b.isAnonymous&&!(b.email&&M.passwordHash||(null==pe?void 0:pe.length)),tt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:pe,metadata:new Tr(M.createdAt,M.lastLoginAt),isAnonymous:rt};Object.assign(b,tt)})).apply(this,arguments)}function j(){return(j=(0,g.Z)(function*(b){const y=(0,B.m9)(b);yield So(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function be(b,y){return[...b.filter(C=>!y.some(R=>R.providerId===C.providerId)),...y]}function re(b){return b.map(y=>{var{providerId:_}=y,C=(0,ge._T)(y,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function je(){return(je=(0,g.Z)(function*(b,y){const _=yield us(b,{},()=>{const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:R,apiKey:M}=b.config,z=Dr(b,R,"/v1/token",`key=${M}`);return Xr.fetch()(z,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ee(y.idToken,"internal-error"),Ee(void 0!==y.idToken,"internal-error"),Ee(void 0!==y.refreshToken,"internal-error");const _="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(b){const y=ze(b);return Ee(y,"internal-error"),Ee(void 0!==y.exp,"internal-error"),Ee(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var C=this;return(0,g.Z)(function*(){return Ee(!C.accessToken||C.refreshToken,y,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(y,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var C=this;return(0,g.Z)(function*(){const{accessToken:R,refreshToken:M,expiresIn:z}=yield function(b,y){return je.apply(this,arguments)}(y,_);C.updateTokensAndExpiration(R,M,Number(z))})()}updateTokensAndExpiration(y,_,C){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(y,_){const{refreshToken:C,accessToken:R,expirationTime:M}=_,z=new Lt;return C&&(Ee("string"==typeof C,"internal-error",{appName:y}),z.refreshToken=C),R&&(Ee("string"==typeof R,"internal-error",{appName:y}),z.accessToken=R),M&&(Ee("number"==typeof M,"internal-error",{appName:y}),z.expirationTime=M),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return ie("not implemented")}}function ln(b,y){Ee("string"==typeof b||void 0===b,"internal-error",{appName:y})}class zt{constructor(y){var{uid:_,auth:C,stsTokenManager:R}=y,M=(0,ge._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.metadata=new Tr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,g.Z)(function*(){const C=yield pn(_,_.stsTokenManager.getToken(_.auth,y));return Ee(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(y){return function(b){return un.apply(this,arguments)}(this,y)}reload(){return function(b){return j.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ee(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new zt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var C=this;return(0,g.Z)(function*(){let R=!1;y.idToken&&y.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(y),R=!0),_&&(yield So(C)),yield C.auth._persistUserIfCurrent(C),R&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var y=this;return(0,g.Z)(function*(){const _=yield y.getIdToken();return yield pn(y,function(b,y){return js.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var C,R,M,z,pe,Pe,qe,rt;const tt=null!==(C=_.displayName)&&void 0!==C?C:void 0,nn=null!==(R=_.email)&&void 0!==R?R:void 0,yn=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,Ua=null!==(z=_.photoURL)&&void 0!==z?z:void 0,bf=null!==(pe=_.tenantId)&&void 0!==pe?pe:void 0,Cf=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,If=null!==(qe=_.createdAt)&&void 0!==qe?qe:void 0,tm=null!==(rt=_.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:qc,emailVerified:zc,isAnonymous:As,providerData:Df,stsTokenManager:Zr}=_;Ee(qc&&Zr,y,"internal-error");const Zi=Lt.fromJSON(this.name,Zr);Ee("string"==typeof qc,y,"internal-error"),ln(tt,y.name),ln(nn,y.name),Ee("boolean"==typeof zc,y,"internal-error"),Ee("boolean"==typeof As,y,"internal-error"),ln(yn,y.name),ln(Ua,y.name),ln(bf,y.name),ln(Cf,y.name),ln(If,y.name),ln(tm,y.name);const nm=new zt({uid:qc,auth:y,email:nn,emailVerified:zc,displayName:tt,isAnonymous:As,photoURL:Ua,phoneNumber:yn,tenantId:bf,stsTokenManager:Zi,createdAt:If,lastLoginAt:tm});return Df&&Array.isArray(Df)&&(nm.providerData=Df.map(wb=>Object.assign({},wb))),Cf&&(nm._redirectEventId=Cf),nm}static _fromIdTokenResponse(y,_,C=!1){return(0,g.Z)(function*(){const R=new Lt;R.updateFromServerResponse(_);const M=new zt({uid:_.localId,auth:y,stsTokenManager:R,isAnonymous:C});return yield So(M),M})()}}const Tt=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(_,C){var R=this;return(0,g.Z)(function*(){R.storage[_]=C})()}_get(_){var C=this;return(0,g.Z)(function*(){const R=C.storage[_];return void 0===R?null:R})()}_remove(_){var C=this;return(0,g.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function Wt(b,y,_){return`firebase:${b}:${y}:${_}`}class er{constructor(y,_,C){this.persistence=y,this.auth=_,this.userKey=C;const{config:R,name:M}=this.auth;this.fullUserKey=Wt(this.userKey,R.apiKey,M),this.fullPersistenceKey=Wt("persistence",R.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,g.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?zt._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,g.Z)(function*(){if(_.persistence===y)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,C="authUser"){return(0,g.Z)(function*(){if(!_.length)return new er(ue(Tt),y,C);const R=(yield Promise.all(_.map(function(){var qe=(0,g.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let M=R[0]||ue(Tt);const z=Wt(C,y.config.apiKey,y.name);let pe=null;for(const qe of _)try{const rt=yield qe._get(z);if(rt){const tt=zt._fromJSON(y,rt);qe!==M&&(pe=tt),M=qe;break}}catch(rt){}const Pe=R.filter(qe=>qe._shouldAllowMigration);return M._shouldAllowMigration&&Pe.length?(M=Pe[0],pe&&(yield M._set(z,pe.toJSON())),yield Promise.all(_.map(function(){var qe=(0,g.Z)(function*(rt){if(rt!==M)try{yield rt._remove(z)}catch(tt){}});return function(rt){return qe.apply(this,arguments)}}())),new er(M,y,C)):new er(M,y,C)})()}}function nc(b){const y=b.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ic(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(rc(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(mu(y))return"Blackberry";if(Ca(y))return"Webos";if(bh(y))return"Safari";if((y.includes("chrome/")||Ch(y))&&!y.includes("edge/"))return"Chrome";if(ba(y))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function rc(b=(0,B.z$)()){return/firefox\//i.test(b)}function bh(b=(0,B.z$)()){const y=b.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Ch(b=(0,B.z$)()){return/crios\//i.test(b)}function ic(b=(0,B.z$)()){return/iemobile/i.test(b)}function ba(b=(0,B.z$)()){return/android/i.test(b)}function mu(b=(0,B.z$)()){return/blackberry/i.test(b)}function Ca(b=(0,B.z$)()){return/webos/i.test(b)}function _i(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)}function Ui(b=(0,B.z$)()){return _i(b)||ba(b)||Ca(b)||mu(b)||/windows phone/i.test(b)||ic(b)}function hr(b,y=[]){let _;switch(b){case"Browser":_=nc((0,B.z$)());break;case"Worker":_=`${nc((0,B.z$)())}-${b}`;break;default:_=b}const C=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${ye.SDK_VERSION}/${C}`}class D_{constructor(y,_){this.app=y,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(y,_){var C=this;return _&&(this._popupRedirectResolver=ue(_)),this._initializationPromise=this.queue((0,g.Z)(function*(){var R;C._deleted||(C.persistenceManager=yield er.create(C,y),!C._deleted&&((null===(R=C._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(_),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,g.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_)}})()}initializeCurrentUser(y){var _=this;return(0,g.Z)(function*(){var C;let R=yield _.assertedPersistence.getCurrentUser();if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const M=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,z=null==R?void 0:R._redirectEventId,pe=yield _.tryRedirectSignIn(y);(!M||M===z)&&(null==pe?void 0:pe.user)&&(R=pe.user)}return R?R._redirectEventId?(Ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===R._redirectEventId?_.directlySetCurrentUser(R):_.reloadAndSetCurrentUserOrClear(R)):_.reloadAndSetCurrentUserOrClear(R):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var _=this;return(0,g.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(R){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,g.Z)(function*(){try{yield So(y)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var y=this;return(0,g.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,g.Z)(function*(){const C=y?(0,B.m9)(y):null;return C&&Ee(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(y){var _=this;return(0,g.Z)(function*(){if(!_._deleted)return y&&Ee(_.tenantId===y.tenantId,_,"tenant-id-mismatch"),_.queue((0,g.Z)(function*(){yield _.directlySetCurrentUser(y),_.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,g.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var _=this;return this.queue((0,g.Z)(function*(){yield _.assertedPersistence.setPersistence(ue(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new B.LL("auth","Firebase",y())}onAuthStateChanged(y,_,C){return this.registerStateListener(this.authStateSubscription,y,_,C)}onIdTokenChanged(y,_,C){return this.registerStateListener(this.idTokenSubscription,y,_,C)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var C=this;return(0,g.Z)(function*(){const R=yield C.getOrInitRedirectPersistenceManager(_);return null===y?R.removeCurrentUser():R.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,g.Z)(function*(){if(!_.redirectPersistenceManager){const C=y&&ue(y)||_._popupRedirectResolver;Ee(C,_,"argument-error"),_.redirectPersistenceManager=yield er.create(_,[ue(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,g.Z)(function*(){var C,R;return _._isInitialized&&(yield _.queue((0,g.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===y?_._currentUser:(null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,g.Z)(function*(){if(y===_.currentUser)return _.queue((0,g.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,C,R){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),z=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(z,this,"internal-error"),z.then(()=>M(this.currentUser)),"function"==typeof _?y.addObserver(_,C,R):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,g.Z)(function*(){_.currentUser&&_.currentUser!==y&&(_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh()),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Vt(b){return(0,B.m9)(b)}class Be{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zt(b){const y=b.indexOf(":");return y<0?"":b.substr(0,y+1)}function Hs(b){if(!b)return null;const y=Number(b);return isNaN(y)?null:y}class fr{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return ie("not implemented")}_getIdTokenResponse(y){return ie("not implemented")}_linkToIdToken(y,_){return ie("not implemented")}_getReauthenticationResolver(y){return ie("not implemented")}}function cn(b,y){return xo.apply(this,arguments)}function xo(){return(xo=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:resetPassword",ot(b,y))})).apply(this,arguments)}function Ia(b,y){return ht.apply(this,arguments)}function ht(){return(ht=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function sc(b,y){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",ot(b,y))})).apply(this,arguments)}function Bi(){return(Bi=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signInWithPassword",ot(b,y))})).apply(this,arguments)}function Bn(b,y){return No.apply(this,arguments)}function No(){return(No=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:sendOobCode",ot(b,y))})).apply(this,arguments)}function ji(b,y){return $r.apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(b,y){return Bn(b,y)})).apply(this,arguments)}function Ht(b,y){return yu.apply(this,arguments)}function yu(){return(yu=(0,g.Z)(function*(b,y){return Bn(b,y)})).apply(this,arguments)}function Dh(b,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,g.Z)(function*(b,y){return Bn(b,y)})).apply(this,arguments)}function Th(b,y){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,g.Z)(function*(b,y){return Bn(b,y)})).apply(this,arguments)}function cs(){return(cs=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signInWithEmailLink",ot(b,y))})).apply(this,arguments)}function Ah(){return(Ah=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signInWithEmailLink",ot(b,y))})).apply(this,arguments)}class Gr extends fr{constructor(y,_,C,R=null){super("password",C),this._email=y,this._password=_,this._tenantId=R}static _fromEmailAndPassword(y,_){return new Gr(y,_,"password")}static _fromEmailAndCode(y,_,C=null){return new Gr(y,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,g.Z)(function*(){switch(_.signInMethod){case"password":return function(b,y){return Bi.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(b,y){return cs.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:Ve(y,"internal-error")}})()}_linkToIdToken(y,_){var C=this;return(0,g.Z)(function*(){switch(C.signInMethod){case"password":return Ia(y,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(b,y){return Ah.apply(this,arguments)}(y,{idToken:_,email:C._email,oobCode:C._password});default:Ve(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Ut(b,y){return vu.apply(this,arguments)}function vu(){return(vu=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signInWithIdp",ot(b,y))})).apply(this,arguments)}class qr extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new qr(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):Ve("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:C,signInMethod:R}=_,M=(0,ge._T)(_,["providerId","signInMethod"]);if(!C||!R)return null;const z=new qr(C,R);return Object.assign(z,M),z}_getIdTokenResponse(y){return Ut(y,this.buildRequest())}_linkToIdToken(y,_){const C=this.buildRequest();return C.idToken=_,Ut(y,C)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Ut(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,B.xO)(_)}return y}}function vi(b,y){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:sendVerificationCode",ot(b,y))})).apply(this,arguments)}function Rh(){return(Rh=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signInWithPhoneNumber",ot(b,y))})).apply(this,arguments)}function ug(){return(ug=(0,g.Z)(function*(b,y){const _=yield mi(b,"POST","/v1/accounts:signInWithPhoneNumber",ot(b,y));if(_.temporaryProof)throw Bs(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const A_={USER_NOT_FOUND:"user-not-found"};function lg(){return(lg=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signInWithPhoneNumber",ot(b,Object.assign(Object.assign({},y),{operation:"REAUTH"})),A_)})).apply(this,arguments)}class Aa extends fr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new Aa({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new Aa({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function(b,y){return Rh.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function(b,y){return ug.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(b,y){return lg.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:C,verificationCode:R}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:C,code:R}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:C,phoneNumber:R,temporaryProof:M}=y;return C||_||R||M?new Aa({verificationId:_,verificationCode:C,phoneNumber:R,temporaryProof:M}):null}}class ac{constructor(y){var _,C,R,M,z,pe;const Pe=(0,B.zd)((0,B.pd)(y)),qe=null!==(_=Pe.apiKey)&&void 0!==_?_:null,rt=null!==(C=Pe.oobCode)&&void 0!==C?C:null,tt=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Pe.mode)&&void 0!==R?R:null);Ee(qe&&rt&&tt,"argument-error"),this.apiKey=qe,this.operation=tt,this.code=rt,this.continueUrl=null!==(M=Pe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(z=Pe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(pe=Pe.tenantId)&&void 0!==pe?pe:null}static parseLink(y){const _=function(b){const y=(0,B.zd)((0,B.pd)(b)).link,_=y?(0,B.zd)((0,B.pd)(y)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||_||y||b}(y);try{return new ac(_)}catch(C){return null}}}let cg=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return Gr._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const R=ac.parseLink(C);return Ee(R,"argument-error"),Gr._fromEmailAndCode(_,R.code,R.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Mo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Eu extends Mo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Oo extends Eu{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return Ee("providerId"in _&&"signInMethod"in _,"argument-error"),qr._fromParams(_)}credential(y){return this._credential(y)}_credential(y){return Ee(y.idToken||y.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Oo.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Oo.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:R,pendingToken:M,nonce:z,providerId:pe}=y;if(!C&&!R&&!_&&!M||!pe)return null;try{return new Oo(pe)._credential({idToken:_,accessToken:C,rawNonce:z,pendingToken:M})}catch(Pe){return null}}}let xh=(()=>{class b extends Eu{constructor(){super("facebook.com")}static credential(_){return qr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Nh=(()=>{class b extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return qr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:R}=_;if(!C&&!R)return null;try{return b.credential(C,R)}catch(M){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Mh=(()=>{class b extends Eu{constructor(){super("github.com")}static credential(_){return qr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Sa extends fr{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return Ut(y,this.buildRequest())}_linkToIdToken(y,_){const C=this.buildRequest();return C.idToken=_,Ut(y,C)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Ut(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:C,signInMethod:R,pendingToken:M}=_;return C&&R&&M&&C===R?new Sa(C,M):null}static _create(y,_){return new Sa(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Oh=(()=>{class b extends Eu{constructor(){super("twitter.com")}static credential(_,C){return qr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:R}=_;if(!C||!R)return null;try{return b.credential(C,R)}catch(M){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function uc(b,y){return wu.apply(this,arguments)}function wu(){return(wu=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signUp",ot(b,y))})).apply(this,arguments)}class Ei{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,C,R=!1){return(0,g.Z)(function*(){const M=yield zt._fromIdTokenResponse(y,C,R),z=S_(C);return new Ei({user:M,providerId:z,_tokenResponse:C,operationType:_})})()}static _forOperation(y,_,C){return(0,g.Z)(function*(){yield y._updateTokensIfNecessary(C,!0);const R=S_(C);return new Ei({user:y,providerId:R,_tokenResponse:C,operationType:_})})()}}function S_(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function bu(){return(bu=(0,g.Z)(function*(b){var y;const _=Vt(b);if(yield _._initializationPromise,null===(y=_.currentUser)||void 0===y?void 0:y.isAnonymous)return new Ei({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield uc(_,{returnSecureToken:!0}),R=yield Ei._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class lc extends B.ZR{constructor(y,_,C,R){var M;super(_.code,_.message),this.operationType=C,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,lc.prototype),this.appName=y.name,this.code=_.code,this.tenantId=null!==(M=y.tenantId)&&void 0!==M?M:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(y,_,C,R){return new lc(y,_,C,R)}}function Cu(b,y,_,C){return("reauthenticate"===y?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?lc._fromErrorAndOperation(b,M,y,C):M})}function dg(b){return new Set(b.map(({providerId:y})=>y).filter(y=>!!y))}function Iu(){return(Iu=(0,g.Z)(function*(b,y){const _=(0,B.m9)(b);yield Gs(!0,_,y);const{providerUserInfo:C}=yield kn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),R=dg(C||[]);return _.providerData=_.providerData.filter(M=>R.has(M.providerId)),R.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function cc(b,y){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(b,y,_=!1){const C=yield pn(b,y._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ei._forOperation(b,"link",C)})).apply(this,arguments)}function Gs(b,y,_){return Du.apply(this,arguments)}function Du(){return(Du=(0,g.Z)(function*(b,y,_){yield So(y);const R=!1===b?"provider-already-linked":"no-such-provider";Ee(dg(y.providerData).has(_)===b,y.auth,R)})).apply(this,arguments)}function dc(b,y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,g.Z)(function*(b,y,_=!1){const{auth:C}=b,R="reauthenticate";try{const M=yield pn(b,Cu(C,R,y,b),_);Ee(M.idToken,C,"internal-error");const z=ze(M.idToken);Ee(z,C,"internal-error");const{sub:pe}=z;return Ee(b.uid===pe,C,"user-mismatch"),Ei._forOperation(b,R,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Ve(C,"user-mismatch"),M}})).apply(this,arguments)}function hg(b,y){return hc.apply(this,arguments)}function hc(){return(hc=(0,g.Z)(function*(b,y,_=!1){const C="signIn",R=yield Cu(b,C,y),M=yield Ei._fromIdTokenResponse(b,C,R);return _||(yield b._updateCurrentUser(M.user)),M})).apply(this,arguments)}function fc(b,y){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,g.Z)(function*(b,y){return hg(Vt(b),y)})).apply(this,arguments)}function fg(b,y){return pg.apply(this,arguments)}function pg(){return(pg=(0,g.Z)(function*(b,y){const _=(0,B.m9)(b);return yield Gs(!1,_,y.providerId),cc(_,y)})).apply(this,arguments)}function Tu(b,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(b,y){return dc((0,B.m9)(b),y)})).apply(this,arguments)}function lb(b,y){return qs.apply(this,arguments)}function qs(){return(qs=(0,g.Z)(function*(b,y){return mi(b,"POST","/v1/accounts:signInWithCustomToken",ot(b,y))})).apply(this,arguments)}function pr(){return(pr=(0,g.Z)(function*(b,y){const _=Vt(b),C=yield lb(_,{token:y,returnSecureToken:!0}),R=yield Ei._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class Su{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?Ru._fromServerResponse(y,_):Ve(y,"internal-error")}}class Ru extends Su{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new Ru(_)}}function xu(b,y,_){var C;Ee((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),Ee(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ee(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),y.iosBundleId=_.iOS.bundleId),_.android&&(Ee(_.android.packageName.length>0,b,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function pc(){return(pc=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b),R={requestType:"PASSWORD_RESET",email:y};_&&xu(C,R,_),yield Ht(C,R)})).apply(this,arguments)}function ut(){return(ut=(0,g.Z)(function*(b,y,_){yield cn((0,B.m9)(b),{oobCode:y,newPassword:_})})).apply(this,arguments)}function ko(){return(ko=(0,g.Z)(function*(b,y){yield sc((0,B.m9)(b),{oobCode:y})})).apply(this,arguments)}function Nu(b,y){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,g.Z)(function*(b,y){const _=(0,B.m9)(b),C=yield cn(_,{oobCode:y}),R=C.requestType;switch(Ee(R,_,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(C.mfaInfo,_,"internal-error");default:Ee(C.email,_,"internal-error")}let M=null;return C.mfaInfo&&(M=Su._fromServerResponse(Vt(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:M},operation:R}})).apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(b,y){const{data:_}=yield Nu((0,B.m9)(b),y);return _.email})).apply(this,arguments)}function Ce(){return(Ce=(0,g.Z)(function*(b,y,_){const C=Vt(b),R=yield uc(C,{returnSecureToken:!0,email:y,password:_}),M=yield Ei._fromIdTokenResponse(C,"signIn",R);return yield C._updateCurrentUser(M.user),M})).apply(this,arguments)}function mn(){return(mn=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b),R={requestType:"EMAIL_SIGNIN",email:y};Ee(_.handleCodeInApp,C,"argument-error"),_&&xu(C,R,_),yield Dh(C,R)})).apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b),R=cg.credentialWithLink(y,_||xe());return Ee(R._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),fc(C,R)})).apply(this,arguments)}function Lh(b,y){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:createAuthUri",ot(b,y))})).apply(this,arguments)}function yg(){return(yg=(0,g.Z)(function*(b,y){const C={identifier:y,continueUri:Ze()?xe():"http://localhost"},{signinMethods:R}=yield Lh((0,B.m9)(b),C);return R||[]})).apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(b,y){const _=(0,B.m9)(b),R={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};y&&xu(_.auth,R,y);const{email:M}=yield ji(_.auth,R);M!==b.email&&(yield b.reload())})).apply(this,arguments)}function ni(){return(ni=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:y};_&&xu(C.auth,M,_);const{email:z}=yield Th(C.auth,M);z!==b.email&&(yield b.reload())})).apply(this,arguments)}function Vh(b,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(b,y){return Ot(b,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Uh(){return(Uh=(0,g.Z)(function*(b,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const C=(0,B.m9)(b),M={idToken:yield C.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},z=yield pn(C,Vh(C.auth,M));C.displayName=z.displayName||null,C.photoURL=z.photoUrl||null;const pe=C.providerData.find(({providerId:Pe})=>"password"===Pe);pe&&(pe.displayName=C.displayName,pe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(z)})).apply(this,arguments)}function jh(b,y,_){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,g.Z)(function*(b,y,_){const{auth:C}=b,M={idToken:yield b.getIdToken(),returnSecureToken:!0};y&&(M.email=y),_&&(M.password=_);const z=yield pn(b,Ia(C,M));yield b._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Lo{constructor(y,_,C={}){this.isNewUser=y,this.providerId=_,this.profile=C}}class $h extends Lo{constructor(y,_,C,R){super(y,_,C),this.username=R}}class N_ extends Lo{constructor(y,_){super(y,"facebook.com",_)}}class M_ extends $h{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class ku extends Lo{constructor(y,_){super(y,"google.com",_)}}class vg extends $h{constructor(y,_,C){super(y,"twitter.com",_,C)}}function Eg(b){const{user:y,_tokenResponse:_}=b;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(b){var y,_;if(!b)return null;const{providerId:C}=b,R=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},M=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&(null==b?void 0:b.idToken)){const z=null===(_=null===(y=ze(b.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(z)return new Lo(M,"anonymous"!==z&&"custom"!==z?z:null)}if(!C)return null;switch(C){case"facebook.com":return new N_(M,R);case"github.com":return new M_(M,R);case"google.com":return new ku(M,R);case"twitter.com":return new vg(M,R,b.screenName||null);case"custom":case"anonymous":return new Lo(M,null);default:return new Lo(M,C,R)}}(_)}class fs{constructor(y,_){this.type=y,this.credential=_}static _fromIdtoken(y){return new fs("enroll",y)}static _fromMfaPendingCredential(y){return new fs("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,C;if(null==y?void 0:y.multiFactorSession){if(null===(_=y.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return fs._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(C=y.multiFactorSession)||void 0===C?void 0:C.idToken)return fs._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Gh{constructor(y,_,C){this.session=y,this.hints=_,this.signInResolver=C}static _fromError(y,_){const C=Vt(y),R=(_.serverResponse.mfaInfo||[]).map(z=>Su._fromServerResponse(C,z));Ee(_.serverResponse.mfaPendingCredential,C,"internal-error");const M=fs._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new Gh(M,R,function(){var z=(0,g.Z)(function*(pe){const Pe=yield pe._process(C,M);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const qe=Object.assign(Object.assign({},_.serverResponse),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(_.operationType){case"signIn":const rt=yield Ei._fromIdTokenResponse(C,_.operationType,qe);return yield C._updateCurrentUser(rt.user),rt;case"reauthenticate":return Ee(_.user,C,"internal-error"),Ei._forOperation(_.user,_.operationType,qe);default:Ve(C,"internal-error")}});return function(pe){return z.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,g.Z)(function*(){return _.signInResolver(y)})()}}function O_(b,y){return Ot(b,"POST","/v2/accounts/mfaEnrollment:start",ot(b,y))}class xa{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Su._fromServerResponse(y.auth,C)))})}static _fromUser(y){return new xa(y)}getSession(){var y=this;return(0,g.Z)(function*(){return fs._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,_){var C=this;return(0,g.Z)(function*(){const R=y,M=yield C.getSession(),z=yield pn(C.user,R._process(C.user.auth,M,_));return yield C.user._updateTokensIfNecessary(z),C.user.reload()})()}unenroll(y){var _=this;return(0,g.Z)(function*(){const C="string"==typeof y?y:y.uid,R=yield _.user.getIdToken(),M=yield pn(_.user,function(b,y){return Ot(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(b,y))}(_.user.auth,{idToken:R,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:z})=>z!==C),yield _.user._updateTokensIfNecessary(M);try{yield _.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Na=new WeakMap,Fu="__sak";class Wh{constructor(y,_){this.storage=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const gc=(()=>{class b extends Wh{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,B.z$)();return bh(b)||_i(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const R=this.storage.getItem(C),M=this.localCache[C];R!==M&&_(C,M,R)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((pe,Pe,qe)=>{this.notifyListeners(pe,qe)});const R=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(R);if(_.newValue!==pe)null!==_.newValue?this.storage.setItem(R,_.newValue):this.storage.removeItem(R);else if(this.localCache[R]===_.newValue&&!C)return}const M=()=>{const pe=this.storage.getItem(R);!C&&this.localCache[R]===pe||this.notifyListeners(R,pe)},z=this.storage.getItem(R);(0,B.w1)()&&10===document.documentMode&&z!==_.newValue&&_.newValue!==_.oldValue?setTimeout(M,10):M()}notifyListeners(_,C){this.localCache[_]=C;const R=this.listeners[_];if(R)for(const M of Array.from(R))M(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var R=()=>super._set,M=this;return(0,g.Z)(function*(){yield R().call(M,_,C),M.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,R=this;return(0,g.Z)(function*(){const M=yield C().call(R,_);return R.localCache[_]=JSON.stringify(M),M})()}_remove(_){var C=()=>super._remove,R=this;return(0,g.Z)(function*(){yield C().call(R,_),delete R.localCache[_]})()}}return b.type="LOCAL",b})(),ps=(()=>{class b extends Wh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Qs=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(M=>M.isListeningto(_));if(C)return C;const R=new b(_);return this.receivers.push(R),R}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,g.Z)(function*(){const R=_,{eventId:M,eventType:z,data:pe}=R.data,Pe=C.handlersMap[z];if(!(null==Pe?void 0:Pe.size))return;R.ports[0].postMessage({status:"ack",eventId:M,eventType:z});const qe=Array.from(Pe).map(function(){var tt=(0,g.Z)(function*(nn){return nn(R.origin,pe)});return function(nn){return tt.apply(this,arguments)}}()),rt=yield function(b){return Promise.all(b.map(function(){var y=(0,g.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return y.apply(this,arguments)}}()))}(qe);R.ports[0].postMessage({status:"done",eventId:M,eventType:z,response:rt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function mc(b="",y=10){let _="";for(let C=0;C<y;C++)_+=Math.floor(10*Math.random());return b+_}class hb{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,C=50){var R=this;return(0,g.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let z,pe;return new Promise((Pe,qe)=>{const rt=mc("",20);M.port1.start();const tt=setTimeout(()=>{qe(new Error("unsupported_event"))},C);pe={messageChannel:M,onMessage(nn){const yn=nn;if(yn.data.eventId===rt)switch(yn.data.status){case"ack":clearTimeout(tt),z=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Pe(yn.data.response);break;default:clearTimeout(tt),clearTimeout(z),qe(new Error("invalid_response"))}}},R.handlers.add(pe),M.port1.addEventListener("message",pe.onMessage),R.target.postMessage({eventType:y,eventId:rt,data:_},[M.port2])}).finally(()=>{pe&&R.removeMessageHandler(pe)})})()}}function Xt(){return window}function yc(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function Qh(){return(Qh=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Ig="firebaseLocalStorageDb",Bu="firebaseLocalStorage",_c="fbase_key";class vc{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ec(b,y){return b.transaction([Bu],y?"readwrite":"readonly").objectStore(Bu)}function gr(){const b=indexedDB.open(Ig,1);return new Promise((y,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Bu,{keyPath:_c})}catch(R){_(R)}}),b.addEventListener("success",(0,g.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Bu)?y(C):(C.close(),yield function(){const b=indexedDB.deleteDatabase(Ig);return new vc(b).toPromise()}(),y(yield gr()))}))})}function nr(b,y,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,g.Z)(function*(b,y,_){const C=Ec(b,!0).put({[_c]:y,value:_});return new vc(C).toPromise()})).apply(this,arguments)}function xr(){return(xr=(0,g.Z)(function*(b,y){const _=Ec(b,!1).get(y),C=yield new vc(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ju(b,y){const _=Ec(b,!0).delete(y);return new vc(_).toPromise()}const Uo=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,g.Z)(function*(){return _.db||(_.db=yield gr()),_.db})()}_withRetries(_){var C=this;return(0,g.Z)(function*(){let R=0;for(;;)try{const M=yield C._openDb();return yield _(M)}catch(M){if(R++>3)throw M;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,g.Z)(function*(){return yc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,g.Z)(function*(){_.receiver=Qs._getInstance(yc()?self:null),_.receiver._subscribe("keyChanged",function(){var C=(0,g.Z)(function*(R,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(R,M){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,g.Z)(function*(R,M){return["keyChanged"]});return function(R,M){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,g.Z)(function*(){var C,R;if(_.activeServiceWorker=yield function(){return Qh.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new hb(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);!M||(null===(C=M[0])||void 0===C?void 0:C.fulfilled)&&(null===(R=M[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,g.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const _=yield gr();return yield nr(_,Fu,"1"),yield ju(_,Fu),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,g.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var R=this;return(0,g.Z)(function*(){return R._withPendingWrite((0,g.Z)(function*(){return yield R._withRetries(M=>nr(M,_,C)),R.localCache[_]=C,R.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,g.Z)(function*(){const R=yield C._withRetries(M=>function(b,y){return xr.apply(this,arguments)}(M,_));return C.localCache[_]=R,R})()}_remove(_){var C=this;return(0,g.Z)(function*(){return C._withPendingWrite((0,g.Z)(function*(){return yield C._withRetries(R=>ju(R,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,g.Z)(function*(){const C=yield _._withRetries(z=>{const pe=Ec(z,!1).getAll();return new vc(pe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const R=[],M=new Set;for(const{fbase_key:z,value:pe}of C)M.add(z),JSON.stringify(_.localCache[z])!==JSON.stringify(pe)&&(_.notifyListeners(z,pe),R.push(z));for(const z of Object.keys(_.localCache))_.localCache[z]&&!M.has(z)&&(_.notifyListeners(z,null),R.push(z));return R})()}notifyListeners(_,C){this.localCache[_]=C;const R=this.listeners[_];if(R)for(const M of Array.from(R))M(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Hi(b,y){return Ot(b,"POST","/v2/accounts/mfaSignIn:start",ot(b,y))}function Jh(){return(Jh=(0,g.Z)(function*(b){return(yield Ot(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bo(b){return new Promise((y,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=y,C.onerror=R=>{const M=Ue("internal-error");M.customData=R,_(M)},C.type="text/javascript",C.charset="UTF-8",function(){var b,y;return null!==(y=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==y?y:document}().appendChild(C)})}function Xh(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ms=1e12;class Ag{constructor(y){this.auth=y,this.counter=ms,this._widgets=new Map}render(y,_){const C=this.counter;return this._widgets.set(C,new Cc(y,this.auth.name,_||{})),this.counter++,C}reset(y){var _;const C=y||ms;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(y){var _;return(null===(_=this._widgets.get(y||ms))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,g.Z)(function*(){var C;return null===(C=_._widgets.get(y||ms))||void 0===C||C.execute(),""})()}}class Cc{constructor(y,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof y?document.getElementById(y):y;Ee(R,"argument-error",{appName:_}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}();const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ys=Xh("rcb"),Ma=new Kt(3e4,6e4);class en{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xt().grecaptcha}load(y,_=""){return Ee((b=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Xt().grecaptcha):new Promise((C,R)=>{const M=Xt().setTimeout(()=>{R(Ue(y,"network-request-failed"))},Ma.get());Xt()[ys]=()=>{Xt().clearTimeout(M),delete Xt()[ys];const pe=Xt().grecaptcha;if(!pe)return void R(Ue(y,"internal-error"));const Pe=pe.render;pe.render=(qe,rt)=>{const tt=Pe(qe,rt);return this.counter++,tt},this.hostLanguage=_,C(pe)},Bo(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ys,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),R(Ue(y,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!Xt().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _s{load(y){return(0,g.Z)(function*(){return new Ag(y)})()}clearedOneInstance(){}}const Dc="recaptcha",B_={theme:"light",type:"image"};class ef{constructor(y,_=Object.assign({},B_),C){this.parameters=_,this.type=Dc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(C),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof y?document.getElementById(y):y;Ee(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _s:new en,this.validateStartingState()}verify(){var y=this;return(0,g.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),C=y.getAssertedRecaptcha();return C.getResponse(_)||new Promise(M=>{const z=pe=>{!pe||(y.tokenChangeListeners.delete(z),M(pe))};y.tokenChangeListeners.add(z),y.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof y)y(_);else if("string"==typeof y){const C=Xt()[y];"function"==typeof C&&C(_)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,g.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,g.Z)(function*(){Ee(Ze()&&!yc(),y.auth,"internal-error"),yield function(){let b=null;return new Promise(y=>{"complete"!==document.readyState?(b=()=>y(),window.addEventListener("load",b)):y()}).catch(y=>{throw b&&window.removeEventListener("load",b),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function(b){return Jh.apply(this,arguments)}(y.auth);Ee(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tc{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=Aa._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function tf(){return(tf=(0,g.Z)(function*(b,y,_){const C=Vt(b),R=yield Sg(C,y,(0,B.m9)(_));return new Tc(R,M=>fc(C,M))})).apply(this,arguments)}function $_(){return($_=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b);yield Gs(!1,C,"phone");const R=yield Sg(C.auth,y,(0,B.m9)(_));return new Tc(R,M=>fg(C,M))})).apply(this,arguments)}function G_(){return(G_=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b),R=yield Sg(C.auth,y,(0,B.m9)(_));return new Tc(R,M=>Tu(C,M))})).apply(this,arguments)}function Sg(b,y,_){return q_.apply(this,arguments)}function q_(){return(q_=(0,g.Z)(function*(b,y,_){var C;const R=yield _.verify();try{let M;if(Ee("string"==typeof R,b,"argument-error"),Ee(_.type===Dc,b,"argument-error"),M="string"==typeof y?{phoneNumber:y}:y,"session"in M){const z=M.session;if("phoneNumber"in M)return Ee("enroll"===z.type,b,"internal-error"),(yield O_(b,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Ee("signin"===z.type,b,"internal-error");const pe=(null===(C=M.multiFactorHint)||void 0===C?void 0:C.uid)||M.multiFactorUid;return Ee(pe,b,"missing-multi-factor-info"),(yield Hi(b,{mfaPendingCredential:z.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield vi(b,{phoneNumber:M.phoneNumber,recaptchaToken:R});return z}}finally{_._reset()}})).apply(this,arguments)}function Rg(){return(Rg=(0,g.Z)(function*(b,y){yield cc((0,B.m9)(b),y)})).apply(this,arguments)}let Ac=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Vt(_)}verifyPhoneNumber(_,C){return Sg(this.auth,_,(0,B.m9)(C))}static credential(_,C){return Aa._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:R}=_;return C&&R?Aa._fromTokenResponse(C,R):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function jo(b,y){return y?ue(y):(Ee(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class vs extends fr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Ut(y,this._buildIdpRequest())}_linkToIdToken(y,_){return Ut(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return Ut(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function xg(b){return hg(b.auth,new vs(b),b.bypassAuthState)}function xn(b){const{auth:y,user:_}=b;return Ee(_,y,"internal-error"),dc(_,new vs(b),b.bypassAuthState)}function Sc(b){return Js.apply(this,arguments)}function Js(){return(Js=(0,g.Z)(function*(b){const{auth:y,user:_}=b;return Ee(_,y,"internal-error"),cc(_,new vs(b),b.bypassAuthState)})).apply(this,arguments)}class z_{constructor(y,_,C,R,M=!1){this.auth=y,this.resolver=C,this.user=R,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,g.Z)(function*(C,R){y.pendingPromise={resolve:C,reject:R};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(M){y.reject(M)}});return function(C,R){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,g.Z)(function*(){const{urlResponse:C,sessionId:R,postBody:M,tenantId:z,error:pe,type:Pe}=y;if(pe)return void _.reject(pe);const qe={auth:_.auth,requestUri:C,sessionId:R,tenantId:z||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(qe))}catch(rt){_.reject(rt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return xg;case"linkViaPopup":case"linkViaRedirect":return Sc;case"reauthViaPopup":case"reauthViaRedirect":return xn;default:Ve(this.auth,"internal-error")}}resolve(y){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fb=new Kt(2e3,1e4);function ii(){return(ii=(0,g.Z)(function*(b,y,_){const C=Vt(b);_t(b,y,Mo);const R=jo(C,_);return new $t(C,"signInViaPopup",y,R).executeNotNull()})).apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b);_t(C.auth,y,Mo);const R=jo(C.auth,_);return new $t(C.auth,"reauthViaPopup",y,R,C).executeNotNull()})).apply(this,arguments)}function xc(){return(xc=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b);_t(C.auth,y,Mo);const R=jo(C.auth,_);return new $t(C.auth,"linkViaPopup",y,R,C).executeNotNull()})).apply(this,arguments)}let $t=(()=>{class b extends z_{constructor(_,C,R,M,z){super(_,C,M,z),this.provider=R,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,g.Z)(function*(){const C=yield _.execute();return Ee(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,g.Z)(function*(){ae(1===_.filter.length,"Popup operations only handle one event");const C=mc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(R=>{_.reject(R)}),_.resolver._isIframeWebStorageSupported(_.auth,R=>{R||_.reject(Ue(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,R;this.pollId=(null===(R=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,fb.get())};_()}}return b.currentPopupAction=null,b})();const nf=new Map;class Gi extends z_{constructor(y,_,C=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,g.Z)(function*(){let C=nf.get(_.auth._key());if(!C){try{const M=(yield function(b,y){return Wn.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;C=()=>Promise.resolve(M)}catch(R){C=()=>Promise.reject(R)}nf.set(_.auth._key(),C)}return C()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,C=this;return(0,g.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(C,y);if("unknown"!==y.type){if(y.eventId){const R=yield C.auth._redirectUserForId(y.eventId);if(R)return C.user=R,_().call(C,y);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Wn(){return(Wn=(0,g.Z)(function*(b,y){const _=Ng(y),C="true"===(yield Nc(b)._get(_));return yield Nc(b)._remove(_),C})).apply(this,arguments)}function $u(b,y){return eo.apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(b,y){return Nc(b)._set(Ng(y),"true")})).apply(this,arguments)}function Nc(b){return ue(b._redirectPersistence)}function Ng(b){return Wt("pendingRedirect",b.config.apiKey,b.name)}function sf(){return(sf=(0,g.Z)(function*(b,y,_){const C=Vt(b);_t(b,y,Mo);const R=jo(C,_);return yield $u(R,C),R._openRedirect(C,y,"signInViaRedirect")})).apply(this,arguments)}function to(){return(to=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b);_t(C.auth,y,Mo);const R=jo(C.auth,_);yield $u(R,C.auth);const M=yield Fn(C);return R._openRedirect(C.auth,y,"reauthViaRedirect",M)})).apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(b,y,_){const C=(0,B.m9)(b);_t(C.auth,y,Mo);const R=jo(C.auth,_);yield Gs(!1,C,y.providerId),yield $u(R,C.auth);const M=yield Fn(C);return R._openRedirect(C.auth,y,"linkViaRedirect",M)})).apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(b,y){return yield Vt(b)._initializationPromise,Oc(b,y,!1)})).apply(this,arguments)}function Oc(b,y){return no.apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(b,y,_=!1){const C=Vt(b),R=jo(C,y),z=yield new Gi(C,R,_).execute();return z&&!_&&(delete z.user._redirectEventId,yield C._persistUserIfCurrent(z.user),yield C._setRedirectUser(null,y)),z})).apply(this,arguments)}function Fn(b){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,g.Z)(function*(b){const y=mc(`${b.uid}:::`);return b._redirectEventId=y,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),y})).apply(this,arguments)}class of{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(y,C)&&(_=!0,this.sendToConsumer(y,C),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(b);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var C;if(y.error&&!Cs(y)){const R=(null===(C=y.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Ue(this.auth,R))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const C=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&C}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Go(y))}saveEventToCache(y){this.cachedEventUids.add(Go(y)),this.lastProcessedEventTime=Date.now()}}function Go(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(y=>y).join("-")}function Cs({type:b,error:y}){return"unknown"===b&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Cn(b){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(b,y={}){return Ot(b,"GET","/v1/projects",y)})).apply(this,arguments)}const Pc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zo=/^https?/;function Is(){return(Is=(0,g.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:y}=yield Cn(b);for(const _ of y)try{if(Og(_))return}catch(C){}Ve(b,"unauthorized-domain")})).apply(this,arguments)}function Og(b){const y=xe(),{protocol:_,hostname:C}=new URL(y);if(b.startsWith("chrome-extension://")){const z=new URL(b);return""===z.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&z.hostname===C}if(!zo.test(_))return!1;if(Pc.test(b))return C===b;const R=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(C)}const Pg=new Kt(3e4,6e4);function af(){const b=Xt().___jsl;if(null==b?void 0:b.H)for(const y of Object.keys(b.H))if(b.H[y].r=b.H[y].r||[],b.H[y].L=b.H[y].L||[],b.H[y].r=[...b.H[y].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let si=null;function zu(b){return si=si||function(b){return new Promise((y,_)=>{var C,R,M;function z(){af(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{af(),_(Ue(b,"network-request-failed"))},timeout:Pg.get()})}if(null===(R=null===(C=Xt().gapi)||void 0===C?void 0:C.iframes)||void 0===R?void 0:R.Iframe)y(gapi.iframes.getContext());else{if(!(null===(M=Xt().gapi)||void 0===M?void 0:M.load)){const pe=Xh("iframefcb");return Xt()[pe]=()=>{gapi.load?z():_(Ue(b,"network-request-failed"))},Bo(`https://apis.google.com/js/api.js?onload=${pe}`)}z()}}).catch(y=>{throw si=null,y})}(b),si}const ro=new Kt(5e3,15e3),kc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Fc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fg(b){const y=b.config;Ee(y.authDomain,b,"auth-domain-config-required");const _=y.emulator?fn(y,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:y.apiKey,appName:b.name,v:ye.SDK_VERSION},R=Fc.get(b.config.apiHost);R&&(C.eid=R);const M=b._getFrameworks();return M.length&&(C.fw=M.join(",")),`${_}?${(0,B.xO)(C).slice(1)}`}function uf(){return(uf=(0,g.Z)(function*(b){const y=yield zu(b),_=Xt().gapi;return Ee(_,b,"internal-error"),y.open({where:document.body,url:Fg(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kc,dontclear:!0},C=>new Promise(function(){var R=(0,g.Z)(function*(M,z){yield C.restyle({setHideOnLeave:!1});const pe=Ue(b,"network-request-failed"),Pe=Xt().setTimeout(()=>{z(pe)},ro.get());function qe(){Xt().clearTimeout(Pe),M(C)}C.ping(qe).then(qe,()=>{z(pe)})});return function(M,z){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ug{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Wo(b,y,_,C,R,M){Ee(b.config.authDomain,b,"auth-domain-config-required"),Ee(b.config.apiKey,b,"invalid-api-key");const z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:ye.SDK_VERSION,eventId:R};if(y instanceof Mo){y.setDefaultLanguage(b.languageCode),z.providerId=y.providerId||"",(0,B.xb)(y.getCustomParameters())||(z.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Pe,qe]of Object.entries(M||{}))z[Pe]=qe}if(y instanceof Eu){const Pe=y.getScopes().filter(qe=>""!==qe);Pe.length>0&&(z.scopes=Pe.join(","))}b.tenantId&&(z.tid=b.tenantId);const pe=z;for(const Pe of Object.keys(pe))void 0===pe[Pe]&&delete pe[Pe];return`${function({config:b}){return b.emulator?fn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,B.xO)(pe).slice(1)}`}const io="webStorageSupport";class Pa extends class{constructor(y){this.factorId=y}_process(y,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,C);case"signin":return this._finalizeSignIn(y,_.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Pa(y)}_finalizeEnroll(y,_,C){return function(b,y){return Ot(b,"POST","/v2/accounts/mfaEnrollment:finalize",ot(b,y))}(y,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function(b,y){return Ot(b,"POST","/v2/accounts/mfaSignIn:finalize",ot(b,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lc=(()=>{class b{constructor(){}static assertion(_){return Pa._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var b;class Hg{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,g.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(C=>{var R;y((null===(R=C)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);!_||(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pt(){return window}function ai(){return(ai=(0,g.Z)(function*(b,y,_){var C;const{BuildInfo:R}=pt();ae(y.sessionId,"AuthEvent did not contain a session ID");const M=yield Gg(y.sessionId),z={};return _i()?z.ibi=R.packageName:ba()?z.apn=R.packageName:Ve(b,"operation-not-supported-in-this-environment"),R.displayName&&(z.appDisplayName=R.displayName),z.sessionId=M,Wo(b,_,y.type,void 0,null!==(C=y.eventId)&&void 0!==C?C:void 0,z)})).apply(this,arguments)}function Vc(){return(Vc=(0,g.Z)(function*(b){const{BuildInfo:y}=pt(),_={};_i()?_.iosBundleId=y.packageName:ba()?_.androidPackageName=y.packageName:Ve(b,"operation-not-supported-in-this-environment"),yield Cn(b,_)})).apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(b,y,_){const{cordova:C}=pt();let R=()=>{};try{yield new Promise((M,z)=>{let pe=null;function Pe(){var tt;M();const nn=null===(tt=C.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof nn&&nn(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function qe(){pe||(pe=window.setTimeout(()=>{z(Ue(b,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}y.addPassiveListener(Pe),document.addEventListener("resume",qe,!1),ba()&&document.addEventListener("visibilitychange",rt,!1),R=()=>{y.removePassiveListener(Pe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",rt,!1),pe&&window.clearTimeout(pe)}})}finally{R()}})).apply(this,arguments)}function Gg(b){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,g.Z)(function*(b){const y=vb(b),_=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(_)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vb(b){if(ae(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const y=new ArrayBuffer(b.length),_=new Uint8Array(y);for(let C=0;C<b.length;C++)_[C]=b.charCodeAt(C);return _}b="Browser",(0,ye._registerComponent)(new ve.wA("auth",(y,{options:_})=>{const C=y.getProvider("app").getImmediate(),{apiKey:R,authDomain:M}=C.options;return(z=>{Ee(R&&!R.includes(":"),"invalid-api-key",{appName:z.name}),Ee(!(null==M?void 0:M.includes(":")),"argument-error",{appName:z.name});const pe={apiKey:R,authDomain:M,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hr(b)},Pe=new D_(z,pe);return function(b,y){const _=(null==y?void 0:y.persistence)||[],C=(Array.isArray(_)?_:[_]).map(ue);(null==y?void 0:y.errorMap)&&b._updateErrorMap(y.errorMap),b._initializeWithPersistence(C,null==y?void 0:y.popupRedirectResolver)}(Pe,_),Pe})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,C)=>{y.getProvider("auth-internal").initialize()})),(0,ye._registerComponent)(new ve.wA("auth-internal",y=>{const _=Vt(y.getProvider("auth").getImmediate());return new Hg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ye.registerVersion)("@firebase/auth","0.18.0",void 0);class zi extends of{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(y)),super.onEvent(y)}initialized(){var y=this;return(0,g.Z)(function*(){yield y.initPromise})()}}function hf(b){return oo.apply(this,arguments)}function oo(){return(oo=(0,g.Z)(function*(b){const y=yield Ko()._get(Ku(b));return y&&(yield Ko()._remove(Ku(b))),y})).apply(this,arguments)}function Ci(){const b=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*y.length);b.push(y.charAt(C))}return b.join("")}function Ko(){return ue(gc)}function Ku(b){return Wt("authEvent",b.config.apiKey,b.name)}function Ts(b){if(!(null==b?void 0:b.includes("?")))return{};const[y,..._]=b.split("?");return(0,B.zd)(_.join("?"))}function Wi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function Yo(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function mf(b=(0,B.z$)()){return!("file:"!==Yo()&&"ionic:"!==Yo()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xu(){try{const b=self.localStorage,y=mc();if(b)return b.setItem(y,"1"),b.removeItem(y),!function(b=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,B.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,B.hl)()}catch(b){return jc()&&(0,B.hl)()}return!1}function jc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tn(){return("http:"===Yo()||"https:"===Yo()||(0,B.ru)()||mf())&&!((0,B.b$)()||(0,B.UG)())&&Xu()&&!jc()}function Kg(){return mf()&&"undefined"!=typeof document}function ao(){return(ao=(0,g.Z)(function*(){return!!Kg()&&new Promise(b=>{const y=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),b(!0)})})})).apply(this,arguments)}const Nr={LOCAL:"local",NONE:"none",SESSION:"session"},el=Ee,Yg="persistence";function yf(b){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,g.Z)(function*(b){yield b._initializationPromise;const y=_f(),_=Wt(Yg,b.config.apiKey,b.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(_,b._getPersistence())})).apply(this,arguments)}function _f(){return"undefined"!=typeof window?window:null}const Wr=Ee;class qt{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=Oc}_openPopup(y,_,C,R){var M=this;return(0,g.Z)(function*(){var z;ae(null===(z=M.eventManagers[y._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const pe=Wo(y,_,C,xe(),R);return function(b,y,_,C=500,R=600){const M=Math.max((window.screen.availHeight-R)/2,0).toString(),z=Math.max((window.screen.availWidth-C)/2,0).toString();let pe="";const Pe=Object.assign(Object.assign({},oi),{width:C.toString(),height:R.toString(),top:M,left:z}),qe=(0,B.z$)().toLowerCase();_&&(pe=Ch(qe)?"_blank":_),rc(qe)&&(y=y||"http://localhost",Pe.scrollbars="yes");const rt=Object.entries(Pe).reduce((nn,[yn,Ua])=>`${nn}${yn}=${Ua},`,"");if(function(b=(0,B.z$)()){var y;return _i(b)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(qe)&&"_self"!==pe)return function(b,y){const _=document.createElement("a");_.href=b,_.target=y;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(y||"",pe),new Ug(null);const tt=window.open(y||"",pe,rt);Ee(tt,b,"popup-blocked");try{tt.focus()}catch(nn){}return new Ug(tt)}(y,pe,mc())})()}_openRedirect(y,_,C,R){var M=this;return(0,g.Z)(function*(){return yield M._originValidation(y),b=Wo(y,_,C,xe(),R),Xt().location.href=b,new Promise(()=>{});var b})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:R,promise:M}=this.eventManagers[_];return R?Promise.resolve(R):(ae(M,"If manager is not set, promise should be"),M)}const C=this.initAndGetManager(y);return this.eventManagers[_]={promise:C},C}initAndGetManager(y){var _=this;return(0,g.Z)(function*(){const C=yield function(b){return uf.apply(this,arguments)}(y),R=new of(y);return C.register("authEvent",M=>(Ee(null==M?void 0:M.authEvent,y,"invalid-auth-event"),{status:R.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:R},_.iframes[y._key()]=C,R})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send(io,{type:io},R=>{var M;const z=null===(M=null==R?void 0:R[0])||void 0===M?void 0:M[io];void 0!==z&&_(!!z),Ve(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Is.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ui()||bh()||_i()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Oc}_initialize(y){var _=this;return(0,g.Z)(function*(){const C=y._key();let R=_.eventManagers.get(C);return R||(R=new zi(y),_.eventManagers.set(C,R),_.attachCallbackListeners(y,R)),R})()}_openPopup(y){Ve(y,"operation-not-supported-in-this-environment")}_openRedirect(y,_,C,R){var M=this;return(0,g.Z)(function*(){!function(b){var y,_,C,R,M,z,pe,Pe,qe,rt;const tt=pt();Ee("function"==typeof(null===(y=null==tt?void 0:tt.universalLinks)||void 0===y?void 0:y.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(_=null==tt?void 0:tt.BuildInfo)||void 0===_?void 0:_.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(M=null===(R=null===(C=null==tt?void 0:tt.cordova)||void 0===C?void 0:C.plugins)||void 0===R?void 0:R.browsertab)||void 0===M?void 0:M.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Pe=null===(pe=null===(z=null==tt?void 0:tt.cordova)||void 0===z?void 0:z.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Pe?void 0:Pe.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(rt=null===(qe=null==tt?void 0:tt.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===rt?void 0:rt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const z=yield M._initialize(y);yield z.initialized(),z.resetRedirect(),nf.clear(),yield M._originValidation(y);const pe=function(b,y,_=null){return{type:y,eventId:_,urlResponse:null,sessionId:Ci(),postBody:null,tenantId:b.tenantId,error:Ue(b,"no-auth-event")}}(y,C,R);yield function(b,y){return Ko()._set(Ku(b),y)}(y,pe);const Pe=yield function(b,y,_){return ai.apply(this,arguments)}(y,pe,_),qe=yield function(b){const{cordova:y}=pt();return new Promise(_=>{y.plugins.browsertab.isAvailable(C=>{let R=null;C?y.plugins.browsertab.openUrl(b):R=y.InAppBrowser.open(b,function(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(R)})})}(Pe);return function(b,y,_){return ui.apply(this,arguments)}(y,z,qe)})()}_isIframeWebStorageSupported(y,_){throw new Error("Method not implemented.")}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Vc.apply(this,arguments)}(y)),this.originValidationPromises[_]}attachCallbackListeners(y,_){const{universalLinks:C,handleOpenURL:R,BuildInfo:M}=pt(),z=setTimeout((0,g.Z)(function*(){yield hf(y),_.onEvent(Wi())}),500),pe=function(){var rt=(0,g.Z)(function*(tt){clearTimeout(z);const nn=yield hf(y);let yn=null;nn&&(null==tt?void 0:tt.url)&&(yn=function(b,y){var _,C;const R=function(b){const y=Ts(b),_=y.link?decodeURIComponent(y.link):void 0,C=Ts(_).link,R=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return Ts(R).link||R||C||_||b}(y);if(R.includes("/__/auth/callback")){const M=Ts(R),z=M.firebaseError?function(b){try{return JSON.parse(b)}catch(y){return null}}(decodeURIComponent(M.firebaseError)):null,pe=null===(C=null===(_=null==z?void 0:z.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Pe=pe?Ue(pe):null;return Pe?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:R,postBody:null}}return null}(nn,tt.url)),_.onEvent(yn||Wi())});return function(nn){return rt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,pe);const Pe=R,qe=`${M.packageName.toLowerCase()}://`;pt().handleOpenURL=function(){var rt=(0,g.Z)(function*(tt){if(tt.toLowerCase().startsWith(qe)&&pe({url:tt}),"function"==typeof Pe)try{Pe(tt)}catch(nn){console.error(nn)}});return function(tt){return rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ps,this._completeRedirectFn=Oc}_initialize(y){var _=this;return(0,g.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,_,C,R){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(y,_,C,R)})()}_openRedirect(y,_,C,R){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(y,_,C,R)})()}_isIframeWebStorageSupported(y,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,_)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return Kg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,g.Z)(function*(){if(y.underlyingResolver)return;const _=yield function(){return ao.apply(this,arguments)}();y.underlyingResolver=_?y.cordovaResolver:y.browserResolver})()}}function tl(b){return b.unwrap()}function Jg(b){return Qo(b)}function In(b,y){var _;const C=null===(_=y.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new Xg(b,function(b,y){var _;const C=(0,B.m9)(b),R=y;return Ee(y.operationType,C,"argument-error"),Ee(null===(_=R.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Gh._fromError(C,R)}(b,y));else if(C){const R=Qo(y),M=y;R&&(M.credential=R,M.tenantId=C.tenantId||void 0,M.email=C.email||void 0,M.phoneNumber=C.phoneNumber||void 0)}}function Qo(b){const{_tokenResponse:y}=b instanceof B.ZR?b.customData:b;if(!y)return null;if(!(b instanceof B.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return Ac.credentialFromResult(b);const _=y.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=Nh;break;case"facebook.com":C=xh;break;case"github.com":C=Mh;break;case"twitter.com":C=Oh;break;default:const{oauthIdToken:R,oauthAccessToken:M,oauthTokenSecret:z,pendingToken:pe,nonce:Pe}=y;return M||z||R||pe?pe?_.startsWith("saml.")?Sa._create(_,pe):qr._fromParams({providerId:_,signInMethod:_,pendingToken:pe,idToken:R,accessToken:M}):new Oo(_).credential({idToken:R,accessToken:M,rawNonce:Pe}):null}return b instanceof B.ZR?C.credentialFromError(b):C.credentialFromResult(b)}function rr(b,y){return La.apply(this,arguments)}function La(){return(La=(0,g.Z)(function*(b,y){let _;try{_=yield y}catch(M){throw M instanceof B.ZR&&In(b,M),M}const{operationType:C,user:R}=_;return{operationType:C,credential:Jg(_),additionalUserInfo:Eg(_),user:li.getOrCreate(R)}})).apply(this,arguments)}function $c(b,y){return Va.apply(this,arguments)}function Va(){return(Va=(0,g.Z)(function*(b,y){const _=yield y;return{verificationId:_.verificationId,confirm:C=>rr(b,_.confirm(C))}})).apply(this,arguments)}class Xg{constructor(y,_){this.resolver=_,this.auth=function(b){return b.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return rr(tl(this.auth),this.resolver.resolveSignIn(y))}}class li{constructor(y){this._delegate=y,this.multiFactor=function(b){const y=(0,B.m9)(b);return Na.has(y)||Na.set(y,xa._fromUser(y)),Na.get(y)}(y)}static getOrCreate(y){return li.USER_MAP.has(y)||li.USER_MAP.set(y,new li(y)),li.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var _=this;return(0,g.Z)(function*(){return rr(_.auth,fg(_._delegate,y))})()}linkWithPhoneNumber(y,_){var C=this;return(0,g.Z)(function*(){return $c(C.auth,function(b,y,_){return $_.apply(this,arguments)}(C._delegate,y,_))})()}linkWithPopup(y){var _=this;return(0,g.Z)(function*(){return rr(_.auth,function(b,y,_){return xc.apply(this,arguments)}(_._delegate,y,qt))})()}linkWithRedirect(y){var _=this;return(0,g.Z)(function*(){return yield yf(Vt(_.auth)),function(b,y,_){return function(b,y,_){return ws.apply(this,arguments)}(b,y,_)}(_._delegate,y,qt)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var _=this;return(0,g.Z)(function*(){return rr(_.auth,Tu(_._delegate,y))})()}reauthenticateWithPhoneNumber(y,_){return $c(this.auth,function(b,y,_){return G_.apply(this,arguments)}(this._delegate,y,_))}reauthenticateWithPopup(y){return rr(this.auth,function(b,y,_){return Xs.apply(this,arguments)}(this._delegate,y,qt))}reauthenticateWithRedirect(y){var _=this;return(0,g.Z)(function*(){return yield yf(Vt(_.auth)),function(b,y,_){return function(b,y,_){return to.apply(this,arguments)}(b,y,_)}(_._delegate,y,qt)})()}sendEmailVerification(y){return function(b,y){return Zs.apply(this,arguments)}(this._delegate,y)}unlink(y){var _=this;return(0,g.Z)(function*(){return yield function(b,y){return Iu.apply(this,arguments)}(_._delegate,y),_})()}updateEmail(y){return function(b,y){return jh((0,B.m9)(b),y,null)}(this._delegate,y)}updatePassword(y){return function(b,y){return jh((0,B.m9)(b),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(b,y){return Rg.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(b,y){return Uh.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,_){return function(b,y,_){return ni.apply(this,arguments)}(this._delegate,y,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}li.USER_MAP=new WeakMap;const Jo=Ee;let Ef=(()=>{class b{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=_.options;Jo(R,"invalid-api-key",{appName:_.name});let M=[Tt];if("undefined"!=typeof window){M=function(b,y){const _=_f();if(!(null==_?void 0:_.sessionStorage))return[];const C=Wt(Yg,b,y);switch(_.sessionStorage.getItem(C)){case Nr.NONE:return[Tt];case Nr.LOCAL:return[Uo,ps];case Nr.SESSION:return[ps];default:return[]}}(R,_.name);for(const pe of[Uo,gc,ps])M.includes(pe)||M.push(pe)}Jo(R,"invalid-api-key",{appName:_.name});const z="undefined"!=typeof window?qt:void 0;this._delegate=C.initialize({options:{persistence:M,popupRedirectResolver:z}}),this._delegate._updateErrorMap(he),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?li.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function(b,y,_){const C=Vt(b);Ee(C._canInitEmulator,C,"emulator-config-failed"),Ee(/^https?:\/\//.test(y),C,"invalid-emulator-scheme");const R=!!(null==_?void 0:_.disableWarnings),M=Zt(y),{host:z,port:pe}=function(b){const y=Zt(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(y.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(C);if(R){const M=R[1];return{host:M,port:Hs(C.substr(M.length+1))}}{const[M,z]=C.split(":");return{host:M,port:Hs(z)}}}(y);C.config.emulator={url:`${M}//${z}${null===pe?"":`:${pe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:z,port:pe,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(b){function y(){const _=document.createElement("p"),C=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!b&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(R)}(this._delegate,_,C)}applyActionCode(_){return function(b,y){return ko.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Nu(this._delegate,_)}confirmPasswordReset(_,C){return function(b,y,_){return ut.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var R=this;return(0,g.Z)(function*(){return rr(R._delegate,function(b,y,_){return Ce.apply(this,arguments)}(R._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(b,y){return yg.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(b,y){const _=ac.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,g.Z)(function*(){Jo(tn(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function(b,y){return bs.apply(this,arguments)}(_._delegate,qt);return C?rr(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(b,y){Vt(b)._logFramework(y)}(this._delegate,_)}onAuthStateChanged(_,C,R){const{next:M,error:z,complete:pe}=nl(_,C,R);return this._delegate.onAuthStateChanged(M,z,pe)}onIdTokenChanged(_,C,R){const{next:M,error:z,complete:pe}=nl(_,C,R);return this._delegate.onIdTokenChanged(M,z,pe)}sendSignInLinkToEmail(_,C){return function(b,y,_){return mn.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function(b,y,_){return pc.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,g.Z)(function*(){let R;switch(function(b,y){el(Object.values(Nr).includes(y),b,"invalid-persistence-type"),(0,B.b$)()?el(y!==Nr.SESSION,b,"unsupported-persistence-type"):(0,B.UG)()?el(y===Nr.NONE,b,"unsupported-persistence-type"):jc()?el(y===Nr.NONE||y===Nr.LOCAL&&(0,B.hl)(),b,"unsupported-persistence-type"):el(y===Nr.NONE||Xu(),b,"unsupported-persistence-type")}(C._delegate,_),_){case Nr.SESSION:R=ps;break;case Nr.LOCAL:R=(yield ue(Uo)._isAvailable())?Uo:gc;break;case Nr.NONE:R=Tt;break;default:return Ve("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return rr(this._delegate,function(b){return bu.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return rr(this._delegate,fc(this._delegate,_))}signInWithCustomToken(_){return rr(this._delegate,function(b,y){return pr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return rr(this._delegate,function(b,y,_){return fc((0,B.m9)(b),cg.credential(y,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return rr(this._delegate,function(b,y,_){return ti.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return $c(this._delegate,function(b,y,_){return tf.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,g.Z)(function*(){return Jo(tn(),C._delegate,"operation-not-supported-in-this-environment"),rr(C._delegate,function(b,y,_){return ii.apply(this,arguments)}(C._delegate,_,qt))})()}signInWithRedirect(_){var C=this;return(0,g.Z)(function*(){return Jo(tn(),C._delegate,"operation-not-supported-in-this-environment"),yield yf(C._delegate),function(b,y,_){return function(b,y,_){return sf.apply(this,arguments)}(b,y,_)}(C._delegate,_,qt)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(b,y){return Fo.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Nr,b})();function nl(b,y,_){let C=b;"function"!=typeof b&&({next:C,error:y,complete:_}=b);const R=C;return{next:z=>R(z&&li.getOrCreate(z)),error:y,complete:_}}class Gc{constructor(){this.providerId="phone",this._delegate=new Ac(tl(ee.Z.auth()))}static credential(y,_){return Ac.credential(y,_)}verifyPhoneNumber(y,_){return this._delegate.verifyPhoneNumber(y,_)}unwrap(){return this._delegate}}Gc.PHONE_SIGN_IN_METHOD=Ac.PHONE_SIGN_IN_METHOD,Gc.PROVIDER_ID=Ac.PROVIDER_ID;const lv=Ee;class em{constructor(y,_,C=ee.Z.app()){var R;lv(null===(R=C.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new ef(y,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new ve.wA("auth-compat",y=>{const _=y.getProvider("app-compat").getImmediate(),C=y.getProvider("auth");return new Ef(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:cg,FacebookAuthProvider:xh,GithubAuthProvider:Mh,GoogleAuthProvider:Nh,OAuthProvider:Oo,PhoneAuthProvider:Gc,PhoneMultiFactorGenerator:Lc,RecaptchaVerifier:em,TwitterAuthProvider:Oh,Auth:Ef,AuthCredential:fr,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.1.3")}(ee.Z)},7574:(We,we,L)=>{"use strict";L.d(we,{y:()=>F});var g=L(7393),B=L(9181),ye=L(6490),se=L(6554),ve=L(4487);var k=L(2494);let F=(()=>{class Z{constructor(he){this._isScalar=!1,he&&(this._subscribe=he)}lift(he){const ne=new Z;return ne.source=this,ne.operator=he,ne}subscribe(he,ne,X){const{operator:Oe}=this,Ne=function(Z,Y,he){if(Z){if(Z instanceof g.L)return Z;if(Z[B.b])return Z[B.b]()}return Z||Y||he?new g.L(Z,Y,he):new g.L(ye.c)}(he,ne,X);if(Ne.add(Oe?Oe.call(Ne,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Ne.syncErrorThrowable?this._subscribe(Ne):this._trySubscribe(Ne)),k.v.useDeprecatedSynchronousErrorHandling&&Ne.syncErrorThrowable&&(Ne.syncErrorThrowable=!1,Ne.syncErrorThrown))throw Ne.syncErrorValue;return Ne}_trySubscribe(he){try{return this._subscribe(he)}catch(ne){k.v.useDeprecatedSynchronousErrorHandling&&(he.syncErrorThrown=!0,he.syncErrorValue=ne),function(Z){for(;Z;){const{closed:Y,destination:he,isStopped:ne}=Z;if(Y||ne)return!1;Z=he&&he instanceof g.L?he:null}return!0}(he)?he.error(ne):console.warn(ne)}}forEach(he,ne){return new(ne=K(ne))((X,Oe)=>{let Ne;Ne=this.subscribe(Ae=>{try{he(Ae)}catch(Ve){Oe(Ve),Ne&&Ne.unsubscribe()}},Oe,X)})}_subscribe(he){const{source:ne}=this;return ne&&ne.subscribe(he)}[se.L](){return this}pipe(...he){return 0===he.length?this:function(Z){return 0===Z.length?ve.y:1===Z.length?Z[0]:function(he){return Z.reduce((ne,X)=>X(ne),he)}}(he)(this)}toPromise(he){return new(he=K(he))((ne,X)=>{let Oe;this.subscribe(Ne=>Oe=Ne,Ne=>X(Ne),()=>ne(Oe))})}}return Z.create=Y=>new Z(Y),Z})();function K(Z){if(Z||(Z=k.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},6490:(We,we,L)=>{"use strict";L.d(we,{c:()=>B});var g=L(2494),ee=L(4449);const B={closed:!0,next(ye){},error(ye){if(g.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,ee.z)(ye)},complete(){}}},9765:(We,we,L)=>{"use strict";L.d(we,{Yc:()=>ve,xQ:()=>fe});var g=L(7574),ee=L(7393),B=L(5319),ye=L(7971),ge=L(8858),se=L(9181);class ve extends ee.L{constructor(F){super(F),this.destination=F}}let fe=(()=>{class k extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new ve(this)}lift(K){const Z=new W(this,this);return Z.operator=K,Z}next(K){if(this.closed)throw new ye.N;if(!this.isStopped){const{observers:Z}=this,Y=Z.length,he=Z.slice();for(let ne=0;ne<Y;ne++)he[ne].next(K)}}error(K){if(this.closed)throw new ye.N;this.hasError=!0,this.thrownError=K,this.isStopped=!0;const{observers:Z}=this,Y=Z.length,he=Z.slice();for(let ne=0;ne<Y;ne++)he[ne].error(K);this.observers.length=0}complete(){if(this.closed)throw new ye.N;this.isStopped=!0;const{observers:K}=this,Z=K.length,Y=K.slice();for(let he=0;he<Z;he++)Y[he].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(K){if(this.closed)throw new ye.N;return super._trySubscribe(K)}_subscribe(K){if(this.closed)throw new ye.N;return this.hasError?(K.error(this.thrownError),B.w.EMPTY):this.isStopped?(K.complete(),B.w.EMPTY):(this.observers.push(K),new ge.W(this,K))}asObservable(){const K=new g.y;return K.source=this,K}}return k.create=(F,K)=>new W(F,K),k})();class W extends fe{constructor(F,K){super(),this.destination=F,this.source=K}next(F){const{destination:K}=this;K&&K.next&&K.next(F)}error(F){const{destination:K}=this;K&&K.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:K}=this;return K?this.source.subscribe(F):B.w.EMPTY}}},8858:(We,we,L)=>{"use strict";L.d(we,{W:()=>ee});var g=L(5319);class ee extends g.w{constructor(ye,ge){super(),this.subject=ye,this.subscriber=ge,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ye=this.subject,ge=ye.observers;if(this.subject=null,!ge||0===ge.length||ye.isStopped||ye.closed)return;const se=ge.indexOf(this.subscriber);-1!==se&&ge.splice(se,1)}}},7393:(We,we,L)=>{"use strict";L.d(we,{L:()=>ve});var g=L(9105),ee=L(6490),B=L(5319),ye=L(9181),ge=L(2494),se=L(4449);class ve extends B.w{constructor(k,F,K){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof ve?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,k,F,K)}}[ye.b](){return this}static create(k,F,K){const Z=new ve(k,F,K);return Z.syncErrorThrowable=!1,Z}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class fe extends ve{constructor(k,F,K,Z){super(),this._parentSubscriber=k;let Y,he=this;(0,g.m)(F)?Y=F:F&&(Y=F.next,K=F.error,Z=F.complete,F!==ee.c&&(he=Object.create(F),(0,g.m)(he.unsubscribe)&&this.add(he.unsubscribe.bind(he)),he.unsubscribe=this.unsubscribe.bind(this))),this._context=he,this._next=Y,this._error=K,this._complete=Z}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;ge.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:K}=ge.v;if(this._error)K&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(F.syncErrorThrowable)K?(F.syncErrorValue=k,F.syncErrorThrown=!0):(0,se.z)(k),this.unsubscribe();else{if(this.unsubscribe(),K)throw k;(0,se.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const F=()=>this._complete.call(this._context);ge.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,F){try{k.call(this._context,F)}catch(K){if(this.unsubscribe(),ge.v.useDeprecatedSynchronousErrorHandling)throw K;(0,se.z)(K)}}__tryOrSetError(k,F,K){if(!ge.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,K)}catch(Z){return ge.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=Z,k.syncErrorThrown=!0,!0):((0,se.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(We,we,L)=>{"use strict";L.d(we,{w:()=>se});var g=L(9796),ee=L(1555),B=L(9105);const ge=(()=>{function fe(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((k,F)=>`${F+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return fe.prototype=Object.create(Error.prototype),fe})();class se{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:F,_unsubscribe:K,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof se)k.remove(this);else if(null!==k)for(let Y=0;Y<k.length;++Y)k[Y].remove(this);if((0,B.m)(K)){F&&(this._unsubscribe=void 0);try{K.call(this)}catch(Y){W=Y instanceof ge?ve(Y.errors):[Y]}}if((0,g.k)(Z)){let Y=-1,he=Z.length;for(;++Y<he;){const ne=Z[Y];if((0,ee.K)(ne))try{ne.unsubscribe()}catch(X){W=W||[],X instanceof ge?W=W.concat(ve(X.errors)):W.push(X)}}}if(W)throw new ge(W)}add(W){let k=W;if(!W)return se.EMPTY;switch(typeof W){case"function":k=new se(W);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof se)){const Z=k;k=new se,k._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:F}=k;if(null===F)k._parentOrParents=this;else if(F instanceof se){if(F===this)return k;k._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return k;F.push(this)}const K=this._subscriptions;return null===K?this._subscriptions=[k]:K.push(k),k}remove(W){const k=this._subscriptions;if(k){const F=k.indexOf(W);-1!==F&&k.splice(F,1)}}}var fe;function ve(fe){return fe.reduce((W,k)=>W.concat(k instanceof ge?k.errors:k),[])}se.EMPTY=((fe=new se).closed=!0,fe)},2494:(We,we,L)=>{"use strict";L.d(we,{v:()=>ee});let g=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const ye=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ye.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=B},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(We,we,L)=>{"use strict";L.d(we,{IY:()=>ye,Ds:()=>se,ft:()=>fe});var g=L(7393),ee=L(7574),B=L(7444);class ye extends g.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends g.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function fe(W,k){if(k.closed)return;if(W instanceof ee.y)return W.subscribe(k);let F;try{F=(0,B.s)(W)(k)}catch(K){k.error(K)}return F}},2441:(We,we,L)=>{"use strict";L.d(we,{c:()=>ge,N:()=>se});var g=L(9765),ee=L(7574),B=L(5319),ye=L(1307);class ge extends ee.y{constructor(F,K){super(),this.source=F,this.subjectFactory=K,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new B.w,F.add(this.source.subscribe(new ve(this.getSubject(),this))),F.closed&&(this._connection=null,F=B.w.EMPTY)),F}refCount(){return(0,ye.x)()(this)}}const se=(()=>{const k=ge.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class ve extends g.Yc{constructor(F,K){super(F),this.connectable=K}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const K=F._connection;F._refCount=0,F._subject=null,F._connection=null,K&&K.unsubscribe()}}}},9193:(We,we,L)=>{"use strict";L.d(we,{E:()=>ee,c:()=>B});var g=L(7574);const ee=new g.y(ge=>ge.complete());function B(ge){return ge?function(ge){return new g.y(se=>ge.schedule(()=>se.complete()))}(ge):ee}},4402:(We,we,L)=>{"use strict";L.d(we,{D:()=>he});var g=L(7574),ee=L(7444),B=L(5319),ye=L(6554),ve=L(4087),fe=L(377),F=L(4072),K=L(9489);function he(ne,X){return X?function(ne,X){if(null!=ne){if(function(ne){return ne&&"function"==typeof ne[ye.L]}(ne))return function(ne,X){return new g.y(Oe=>{const Ne=new B.w;return Ne.add(X.schedule(()=>{const Ae=ne[ye.L]();Ne.add(Ae.subscribe({next(Ve){Ne.add(X.schedule(()=>Oe.next(Ve)))},error(Ve){Ne.add(X.schedule(()=>Oe.error(Ve)))},complete(){Ne.add(X.schedule(()=>Oe.complete()))}}))})),Ne})}(ne,X);if((0,F.t)(ne))return function(ne,X){return new g.y(Oe=>{const Ne=new B.w;return Ne.add(X.schedule(()=>ne.then(Ae=>{Ne.add(X.schedule(()=>{Oe.next(Ae),Ne.add(X.schedule(()=>Oe.complete()))}))},Ae=>{Ne.add(X.schedule(()=>Oe.error(Ae)))}))),Ne})}(ne,X);if((0,K.z)(ne))return(0,ve.r)(ne,X);if(function(ne){return ne&&"function"==typeof ne[fe.hZ]}(ne)||"string"==typeof ne)return function(ne,X){if(!ne)throw new Error("Iterable cannot be null");return new g.y(Oe=>{const Ne=new B.w;let Ae;return Ne.add(()=>{Ae&&"function"==typeof Ae.return&&Ae.return()}),Ne.add(X.schedule(()=>{Ae=ne[fe.hZ](),Ne.add(X.schedule(function(){if(Oe.closed)return;let Ve,Ue;try{const Fe=Ae.next();Ve=Fe.value,Ue=Fe.done}catch(Fe){return void Oe.error(Fe)}Ue?Oe.complete():(Oe.next(Ve),this.schedule())}))})),Ne})}(ne,X)}throw new TypeError((null!==ne&&typeof ne||ne)+" is not observable")}(ne,X):ne instanceof g.y?ne:new g.y((0,ee.s)(ne))}},6693:(We,we,L)=>{"use strict";L.d(we,{n:()=>ye});var g=L(7574),ee=L(5015),B=L(4087);function ye(ge,se){return se?(0,B.r)(ge,se):new g.y((0,ee.V)(ge))}},6682:(We,we,L)=>{"use strict";L.d(we,{T:()=>ge});var g=L(7574),ee=L(4869),B=L(3282),ye=L(6693);function ge(...se){let ve=Number.POSITIVE_INFINITY,fe=null,W=se[se.length-1];return(0,ee.K)(W)?(fe=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(ve=se.pop())):"number"==typeof W&&(ve=se.pop()),null===fe&&1===se.length&&se[0]instanceof g.y?se[0]:(0,B.J)(ve)((0,ye.n)(se,fe))}},5917:(We,we,L)=>{"use strict";L.d(we,{of:()=>ye});var g=L(4869),ee=L(6693),B=L(4087);function ye(...ge){let se=ge[ge.length-1];return(0,g.K)(se)?(ge.pop(),(0,B.r)(ge,se)):(0,ee.n)(ge)}},8002:(We,we,L)=>{"use strict";L.d(we,{U:()=>ee});var g=L(7393);function ee(ge,se){return function(fe){if("function"!=typeof ge)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new B(ge,se))}}class B{constructor(se,ve){this.project=se,this.thisArg=ve}call(se,ve){return ve.subscribe(new ye(se,this.project,this.thisArg))}}class ye extends g.L{constructor(se,ve,fe){super(se),this.project=ve,this.count=0,this.thisArg=fe||this}_next(se){let ve;try{ve=this.project.call(this.thisArg,se,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(ve)}}},3282:(We,we,L)=>{"use strict";L.d(we,{J:()=>B});var g=L(9773),ee=L(4487);function B(ye=Number.POSITIVE_INFINITY){return(0,g.zg)(ee.y,ye)}},9773:(We,we,L)=>{"use strict";L.d(we,{zg:()=>ye});var g=L(8002),ee=L(4402),B=L(5345);function ye(fe,W,k=Number.POSITIVE_INFINITY){return"function"==typeof W?F=>F.pipe(ye((K,Z)=>(0,ee.D)(fe(K,Z)).pipe((0,g.U)((Y,he)=>W(K,Y,Z,he))),k)):("number"==typeof W&&(k=W),F=>F.lift(new ge(fe,k)))}class ge{constructor(W,k=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=k}call(W,k){return k.subscribe(new se(W,this.project,this.concurrent))}}class se extends B.Ds{constructor(W,k,F=Number.POSITIVE_INFINITY){super(W),this.project=k,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let k;const F=this.index++;try{k=this.project(W,F)}catch(K){return void this.destination.error(K)}this.active++,this._innerSub(k)}_innerSub(W){const k=new B.IY(this),F=this.destination;F.add(k);const K=(0,B.ft)(W,k);K!==k&&F.add(K)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(We,we,L)=>{"use strict";L.d(we,{ht:()=>F,QV:()=>W});var g=L(7393),ee=L(9193),B=L(5917),ye=L(7574);class fe{constructor(Y,he,ne){this.kind=Y,this.value=he,this.error=ne,this.hasValue="N"===Y}observe(Y){switch(this.kind){case"N":return Y.next&&Y.next(this.value);case"E":return Y.error&&Y.error(this.error);case"C":return Y.complete&&Y.complete()}}do(Y,he,ne){switch(this.kind){case"N":return Y&&Y(this.value);case"E":return he&&he(this.error);case"C":return ne&&ne()}}accept(Y,he,ne){return Y&&"function"==typeof Y.next?this.observe(Y):this.do(Y,he,ne)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return Z=this.error,new ye.y(he=>he.error(Z));case"C":return(0,ee.c)()}var Z;throw new Error("unexpected notification kind value")}static createNext(Y){return void 0!==Y?new fe("N",Y):fe.undefinedValueNotification}static createError(Y){return new fe("E",void 0,Y)}static createComplete(){return fe.completeNotification}}function W(Z,Y=0){return function(ne){return ne.lift(new k(Z,Y))}}fe.completeNotification=new fe("C"),fe.undefinedValueNotification=new fe("N",void 0);class k{constructor(Y,he=0){this.scheduler=Y,this.delay=he}call(Y,he){return he.subscribe(new F(Y,this.scheduler,this.delay))}}class F extends g.L{constructor(Y,he,ne=0){super(Y),this.scheduler=he,this.delay=ne}static dispatch(Y){const{notification:he,destination:ne}=Y;he.observe(ne),this.unsubscribe()}scheduleMessage(Y){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new K(Y,this.destination)))}_next(Y){this.scheduleMessage(fe.createNext(Y))}_error(Y){this.scheduleMessage(fe.createError(Y)),this.unsubscribe()}_complete(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()}}class K{constructor(Y,he){this.notification=Y,this.destination=he}}},1307:(We,we,L)=>{"use strict";L.d(we,{x:()=>ee});var g=L(7393);function ee(){return function(se){return se.lift(new B(se))}}class B{constructor(se){this.connectable=se}call(se,ve){const{connectable:fe}=this;fe._refCount++;const W=new ye(se,fe),k=ve.subscribe(W);return W.closed||(W.connection=fe.connect()),k}}class ye extends g.L{constructor(se,ve){super(se),this.connectable=ve}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const ve=se._refCount;if(ve<=0)return void(this.connection=null);if(se._refCount=ve-1,ve>1)return void(this.connection=null);const{connection:fe}=this,W=se._connection;this.connection=null,W&&(!fe||W===fe)&&W.unsubscribe()}}},3101:(We,we,L)=>{"use strict";L.d(we,{R:()=>X});var g=L(7574);let ee=1;const B=Promise.resolve(),ye={};function ge(Ne){return Ne in ye&&(delete ye[Ne],!0)}const se={setImmediate(Ne){const Ae=ee++;return ye[Ae]=!0,B.then(()=>ge(Ae)&&Ne()),Ae},clearImmediate(Ne){ge(Ne)}};var fe=L(6465),k=L(6102);const Z=new class extends k.v{flush(Ae){this.active=!0,this.scheduled=void 0;const{actions:Ve}=this;let Ue,Fe=-1,_t=Ve.length;Ae=Ae||Ve.shift();do{if(Ue=Ae.execute(Ae.state,Ae.delay))break}while(++Fe<_t&&(Ae=Ve.shift()));if(this.active=!1,Ue){for(;++Fe<_t&&(Ae=Ve.shift());)Ae.unsubscribe();throw Ue}}}(class extends fe.o{constructor(Ae,Ve){super(Ae,Ve),this.scheduler=Ae,this.work=Ve}requestAsyncId(Ae,Ve,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(Ae,Ve,Ue):(Ae.actions.push(this),Ae.scheduled||(Ae.scheduled=se.setImmediate(Ae.flush.bind(Ae,null))))}recycleAsyncId(Ae,Ve,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(Ae,Ve,Ue);0===Ae.actions.length&&(se.clearImmediate(Ve),Ae.scheduled=void 0)}});var Y=L(9796);class ne extends g.y{constructor(Ae,Ve=0,Ue=Z){var Ne;super(),this.source=Ae,this.delayTime=Ve,this.scheduler=Ue,(!(!(0,Y.k)(Ne=Ve)&&Ne-parseFloat(Ne)+1>=0)||Ve<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=Z)}static create(Ae,Ve=0,Ue=Z){return new ne(Ae,Ve,Ue)}static dispatch(Ae){const{source:Ve,subscriber:Ue}=Ae;return this.add(Ve.subscribe(Ue))}_subscribe(Ae){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:Ae})}}function X(Ne,Ae=0){return function(Ue){return Ue.lift(new Oe(Ne,Ae))}}class Oe{constructor(Ae,Ve){this.scheduler=Ae,this.delay=Ve}call(Ae,Ve){return new ne(Ve,this.delay,this.scheduler).subscribe(Ae)}}},3342:(We,we,L)=>{"use strict";L.d(we,{b:()=>ye});var g=L(7393);function ee(){}var B=L(9105);function ye(ve,fe,W){return function(F){return F.lift(new ge(ve,fe,W))}}class ge{constructor(fe,W,k){this.nextOrObserver=fe,this.error=W,this.complete=k}call(fe,W){return W.subscribe(new se(fe,this.nextOrObserver,this.error,this.complete))}}class se extends g.L{constructor(fe,W,k,F){super(fe),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=F||ee,(0,B.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||ee,this._tapError=W.error||ee,this._tapComplete=W.complete||ee)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(W){return void this.destination.error(W)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(W){return void this.destination.error(W)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4087:(We,we,L)=>{"use strict";L.d(we,{r:()=>B});var g=L(7574),ee=L(5319);function B(ye,ge){return new g.y(se=>{const ve=new ee.w;let fe=0;return ve.add(ge.schedule(function(){fe!==ye.length?(se.next(ye[fe++]),se.closed||ve.add(this.schedule())):se.complete()})),ve})}},6465:(We,we,L)=>{"use strict";L.d(we,{o:()=>B});var g=L(5319);class ee extends g.w{constructor(ge,se){super()}schedule(ge,se=0){return this}}class B extends ee{constructor(ge,se){super(ge,se),this.scheduler=ge,this.work=se,this.pending=!1}schedule(ge,se=0){if(this.closed)return this;this.state=ge;const ve=this.id,fe=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(fe,ve,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(fe,this.id,se),this}requestAsyncId(ge,se,ve=0){return setInterval(ge.flush.bind(ge,this),ve)}recycleAsyncId(ge,se,ve=0){if(null!==ve&&this.delay===ve&&!1===this.pending)return se;clearInterval(se)}execute(ge,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(ge,se);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,se){let fe,ve=!1;try{this.work(ge)}catch(W){ve=!0,fe=!!W&&W||new Error(W)}if(ve)return this.unsubscribe(),fe}_unsubscribe(){const ge=this.id,se=this.scheduler,ve=se.actions,fe=ve.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&ve.splice(fe,1),null!=ge&&(this.id=this.recycleAsyncId(se,ge,null)),this.delay=null}}},6102:(We,we,L)=>{"use strict";L.d(we,{v:()=>ee});let g=(()=>{class B{constructor(ge,se=B.now){this.SchedulerAction=ge,this.now=se}schedule(ge,se=0,ve){return new this.SchedulerAction(this,ge).schedule(ve,se)}}return B.now=()=>Date.now(),B})();class ee extends g{constructor(ye,ge=g.now){super(ye,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ge()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ye,ge=0,se){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(ye,ge,se):super.schedule(ye,ge,se)}flush(ye){const{actions:ge}=this;if(this.active)return void ge.push(ye);let se;this.active=!0;do{if(se=ye.execute(ye.state,ye.delay))break}while(ye=ge.shift());if(this.active=!1,se){for(;ye=ge.shift();)ye.unsubscribe();throw se}}}},3637:(We,we,L)=>{"use strict";L.d(we,{z:()=>B,P:()=>ye});var g=L(6465);const B=new(L(6102).v)(g.o),ye=B},7771:(We,we,L)=>{"use strict";L.d(we,{c:()=>se,N:()=>ge});var g=L(6465),B=L(6102);const ge=new class extends B.v{}(class extends g.o{constructor(fe,W){super(fe,W),this.scheduler=fe,this.work=W}schedule(fe,W=0){return W>0?super.schedule(fe,W):(this.delay=W,this.state=fe,this.scheduler.flush(this),this)}execute(fe,W){return W>0||this.closed?super.execute(fe,W):this._execute(fe,W)}requestAsyncId(fe,W,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(fe,W,k):fe.flush(this)}}),se=ge},377:(We,we,L)=>{"use strict";L.d(we,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,we,L)=>{"use strict";L.d(we,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,we,L)=>{"use strict";L.d(we,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,we,L)=>{"use strict";L.d(we,{N:()=>ee});const ee=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(We,we,L)=>{"use strict";function g(ee){setTimeout(()=>{throw ee},0)}L.d(we,{z:()=>g})},4487:(We,we,L)=>{"use strict";function g(ee){return ee}L.d(we,{y:()=>g})},9796:(We,we,L)=>{"use strict";L.d(we,{k:()=>g});const g=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(We,we,L)=>{"use strict";L.d(we,{z:()=>g});const g=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(We,we,L)=>{"use strict";function g(ee){return"function"==typeof ee}L.d(we,{m:()=>g})},1555:(We,we,L)=>{"use strict";function g(ee){return null!==ee&&"object"==typeof ee}L.d(we,{K:()=>g})},4072:(We,we,L)=>{"use strict";function g(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}L.d(we,{t:()=>g})},4869:(We,we,L)=>{"use strict";function g(ee){return ee&&"function"==typeof ee.schedule}L.d(we,{K:()=>g})},7444:(We,we,L)=>{"use strict";L.d(we,{s:()=>F});var g=L(5015),ee=L(4449),ye=L(377),se=L(6554),fe=L(9489),W=L(4072),k=L(1555);const F=K=>{if(K&&"function"==typeof K[se.L])return(K=>Z=>{const Y=K[se.L]();if("function"!=typeof Y.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Y.subscribe(Z)})(K);if((0,fe.z)(K))return(0,g.V)(K);if((0,W.t)(K))return(K=>Z=>(K.then(Y=>{Z.closed||(Z.next(Y),Z.complete())},Y=>Z.error(Y)).then(null,ee.z),Z))(K);if(K&&"function"==typeof K[ye.hZ])return(K=>Z=>{const Y=K[ye.hZ]();for(;;){let he;try{he=Y.next()}catch(ne){return Z.error(ne),Z}if(he.done){Z.complete();break}if(Z.next(he.value),Z.closed)break}return"function"==typeof Y.return&&Z.add(()=>{Y.return&&Y.return()}),Z})(K);{const Y=`You provided ${(0,k.K)(K)?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Y)}}},5015:(We,we,L)=>{"use strict";L.d(we,{V:()=>g});const g=ee=>B=>{for(let ye=0,ge=ee.length;ye<ge&&!B.closed;ye++)B.next(ee[ye]);B.complete()}},4019:(We,we,L)=>{"use strict";var g=L(3018);let ee=null;function B(){return ee}const ve=new g.OlP("DocumentToken");let fe=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:W,token:i,providedIn:"platform"}),i})();function W(){return(0,g.LFG)(F)}const k=new g.OlP("Location Initialized");let F=(()=>{class i extends fe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(r){const a=B().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=B().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,l){K()?this._history.pushState(r,a,l):this.location.hash=l}replaceState(r,a,l){K()?this._history.replaceState(r,a,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=(0,g.Yz7)({factory:Z,token:i,providedIn:"platform"}),i})();function K(){return!!window.history.pushState}function Z(){return new F((0,g.LFG)(ve))}function Y(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function he(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ne(i){return i&&"?"!==i[0]?"?"+i:i}let X=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Oe,token:i,providedIn:"root"}),i})();function Oe(i){const n=(0,g.LFG)(ve).location;return new Ae((0,g.LFG)(fe),n&&n.origin||"")}const Ne=new g.OlP("appBaseHref");let Ae=(()=>{class i extends X{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Y(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+ne(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${a}${l}`:a}pushState(r,a,l,h){const m=this.prepareExternalUrl(l+ne(h));this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,h){const m=this.prepareExternalUrl(l+ne(h));this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(fe),g.LFG(Ne,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ve=(()=>{class i extends X{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=Y(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,l,h){let m=this.prepareExternalUrl(l+ne(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,h){let m=this.prepareExternalUrl(l+ne(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(fe),g.LFG(Ne,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ue=(()=>{class i{constructor(r,a){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=he(xt(l)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+ne(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,xt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",l=null){this._platformStrategy.pushState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(a)),l)}replaceState(r,a="",l=null){this._platformStrategy.replaceState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(a)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformStrategy).historyGo)||void 0===l||l.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(l=>l(r,a))}subscribe(r,a,l){return this._subject.subscribe({next:r,error:a,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(X),g.LFG(fe))},i.normalizeQueryParams=ne,i.joinWithSlash=Y,i.stripTrailingSlash=he,i.\u0275prov=(0,g.Yz7)({factory:Fe,token:i,providedIn:"root"}),i})();function Fe(){return new Ue((0,g.LFG)(X),(0,g.LFG)(fe))}function xt(i){return i.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))(),ce=(()=>((ce=ce||{})[ce.Format=0]="Format",ce[ce.Standalone=1]="Standalone",ce))(),ue=(()=>((ue=ue||{})[ue.Narrow=0]="Narrow",ue[ue.Abbreviated=1]="Abbreviated",ue[ue.Wide=2]="Wide",ue[ue.Short=3]="Short",ue))(),le=(()=>((le=le||{})[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function ei(i,n){return kn((0,g.cg1)(i)[g.wAp.DateFormat],n)}function sn(i,n){return kn((0,g.cg1)(i)[g.wAp.TimeFormat],n)}function ot(i,n){return kn((0,g.cg1)(i)[g.wAp.DateTimeFormat],n)}function Ot(i,n){const r=(0,g.cg1)(i),a=r[g.wAp.NumberSymbols][n];if(void 0===a){if(n===Q.CurrencyDecimal)return r[g.wAp.NumberSymbols][Q.Decimal];if(n===Q.CurrencyGroup)return r[g.wAp.NumberSymbols][Q.Group]}return a}const Dr=g.kL8;function wa(i){if(!i[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kn(i,n){for(let r=n;r>-1;r--)if(void 0!==i[r])return i[r];throw new Error("Locale data API: locale data undefined")}function Br(i){const[n,r]=i.split(":");return{hours:+n,minutes:+r}}const jt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,an={},un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ft=(()=>((Ft=Ft||{})[Ft.Short=0]="Short",Ft[Ft.ShortGMT=1]="ShortGMT",Ft[Ft.Long=2]="Long",Ft[Ft.Extended=3]="Extended",Ft))(),ze=(()=>((ze=ze||{})[ze.FullYear=0]="FullYear",ze[ze.Month=1]="Month",ze[ze.Date=2]="Date",ze[ze.Hours=3]="Hours",ze[ze.Minutes=4]="Minutes",ze[ze.Seconds=5]="Seconds",ze[ze.FractionalSeconds=6]="FractionalSeconds",ze[ze.Day=7]="Day",ze))(),Qe=(()=>((Qe=Qe||{})[Qe.DayPeriods=0]="DayPeriods",Qe[Qe.Days=1]="Days",Qe[Qe.Months=2]="Months",Qe[Qe.Eras=3]="Eras",Qe))();function pn(i,n,r,a){let l=function(i){if(ic(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[l,h=1,m=1]=i.split("-").map(w=>+w);return Ao(l,h-1,m)}const r=parseFloat(i);if(!isNaN(i-r))return new Date(r);let a;if(a=i.match(jt))return function(i){const n=new Date(0);let r=0,a=0;const l=i[8]?n.setUTCFullYear:n.setFullYear,h=i[8]?n.setUTCHours:n.setHours;i[9]&&(r=Number(i[9]+i[10]),a=Number(i[9]+i[11])),l.call(n,Number(i[1]),Number(i[2])-1,Number(i[3]));const m=Number(i[4]||0)-r,w=Number(i[5]||0)-a,D=Number(i[6]||0),A=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return h.call(n,m,w,D,A),n}(a)}const n=new Date(i);if(!ic(n))throw new Error(`Unable to convert "${i}" into a date`);return n}(i);n=ls(r,n)||n;let w,m=[];for(;n;){if(w=un.exec(n),!w){m.push(n);break}{m=m.concat(w.slice(1));const x=m.pop();if(!x)break;n=x}}let D=l.getTimezoneOffset();a&&(D=er(a,D),l=function(i,n,r){const l=i.getTimezoneOffset();return function(i,n){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+n),i}(i,-1*(er(n,l)-l))}(l,a));let A="";return m.forEach(x=>{const O=function(i){if(Tt[i])return Tt[i];let n;switch(i){case"G":case"GG":case"GGG":n=j(Qe.Eras,ue.Abbreviated);break;case"GGGG":n=j(Qe.Eras,ue.Wide);break;case"GGGGG":n=j(Qe.Eras,ue.Narrow);break;case"y":n=$(ze.FullYear,1,0,!1,!0);break;case"yy":n=$(ze.FullYear,2,0,!0,!0);break;case"yyy":n=$(ze.FullYear,3,0,!1,!0);break;case"yyyy":n=$(ze.FullYear,4,0,!1,!0);break;case"Y":n=jr(1);break;case"YY":n=jr(2,!0);break;case"YYY":n=jr(3);break;case"YYYY":n=jr(4);break;case"M":case"L":n=$(ze.Month,1,1);break;case"MM":case"LL":n=$(ze.Month,2,1);break;case"MMM":n=j(Qe.Months,ue.Abbreviated);break;case"MMMM":n=j(Qe.Months,ue.Wide);break;case"MMMMM":n=j(Qe.Months,ue.Narrow);break;case"LLL":n=j(Qe.Months,ue.Abbreviated,ce.Standalone);break;case"LLLL":n=j(Qe.Months,ue.Wide,ce.Standalone);break;case"LLLLL":n=j(Qe.Months,ue.Narrow,ce.Standalone);break;case"w":n=zt(1);break;case"ww":n=zt(2);break;case"W":n=zt(1,!0);break;case"d":n=$(ze.Date,1);break;case"dd":n=$(ze.Date,2);break;case"c":case"cc":n=$(ze.Day,1);break;case"ccc":n=j(Qe.Days,ue.Abbreviated,ce.Standalone);break;case"cccc":n=j(Qe.Days,ue.Wide,ce.Standalone);break;case"ccccc":n=j(Qe.Days,ue.Narrow,ce.Standalone);break;case"cccccc":n=j(Qe.Days,ue.Short,ce.Standalone);break;case"E":case"EE":case"EEE":n=j(Qe.Days,ue.Abbreviated);break;case"EEEE":n=j(Qe.Days,ue.Wide);break;case"EEEEE":n=j(Qe.Days,ue.Narrow);break;case"EEEEEE":n=j(Qe.Days,ue.Short);break;case"a":case"aa":case"aaa":n=j(Qe.DayPeriods,ue.Abbreviated);break;case"aaaa":n=j(Qe.DayPeriods,ue.Wide);break;case"aaaaa":n=j(Qe.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":n=j(Qe.DayPeriods,ue.Abbreviated,ce.Standalone,!0);break;case"bbbb":n=j(Qe.DayPeriods,ue.Wide,ce.Standalone,!0);break;case"bbbbb":n=j(Qe.DayPeriods,ue.Narrow,ce.Standalone,!0);break;case"B":case"BB":case"BBB":n=j(Qe.DayPeriods,ue.Abbreviated,ce.Format,!0);break;case"BBBB":n=j(Qe.DayPeriods,ue.Wide,ce.Format,!0);break;case"BBBBB":n=j(Qe.DayPeriods,ue.Narrow,ce.Format,!0);break;case"h":n=$(ze.Hours,1,-12);break;case"hh":n=$(ze.Hours,2,-12);break;case"H":n=$(ze.Hours,1);break;case"HH":n=$(ze.Hours,2);break;case"m":n=$(ze.Minutes,1);break;case"mm":n=$(ze.Minutes,2);break;case"s":n=$(ze.Seconds,1);break;case"ss":n=$(ze.Seconds,2);break;case"S":n=$(ze.FractionalSeconds,1);break;case"SS":n=$(ze.FractionalSeconds,2);break;case"SSS":n=$(ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=re(Ft.Short);break;case"ZZZZZ":n=re(Ft.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=re(Ft.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=re(Ft.Long);break;default:return null}return Tt[i]=n,n}(x);A+=O?O(l,r,D):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),A}function Ao(i,n,r){const a=new Date(0);return a.setFullYear(i,n,r),a.setHours(0,0,0),a}function ls(i,n){const r=function(i){return(0,g.cg1)(i)[g.wAp.LocaleId]}(i);if(an[r]=an[r]||{},an[r][n])return an[r][n];let a="";switch(n){case"shortDate":a=ei(i,le.Short);break;case"mediumDate":a=ei(i,le.Medium);break;case"longDate":a=ei(i,le.Long);break;case"fullDate":a=ei(i,le.Full);break;case"shortTime":a=sn(i,le.Short);break;case"mediumTime":a=sn(i,le.Medium);break;case"longTime":a=sn(i,le.Long);break;case"fullTime":a=sn(i,le.Full);break;case"short":const l=ls(i,"shortTime"),h=ls(i,"shortDate");a=gn(ot(i,le.Short),[l,h]);break;case"medium":const m=ls(i,"mediumTime"),w=ls(i,"mediumDate");a=gn(ot(i,le.Medium),[m,w]);break;case"long":const D=ls(i,"longTime"),A=ls(i,"longDate");a=gn(ot(i,le.Long),[D,A]);break;case"full":const x=ls(i,"fullTime"),O=ls(i,"fullDate");a=gn(ot(i,le.Full),[x,O])}return a&&(an[r][n]=a),a}function gn(i,n){return n&&(i=i.replace(/\{([^}]+)}/g,function(r,a){return null!=n&&a in n?n[a]:r})),i}function Tr(i,n,r="-",a,l){let h="";(i<0||l&&i<=0)&&(l?i=1-i:(i=-i,h=r));let m=String(i);for(;m.length<n;)m="0"+m;return a&&(m=m.substr(m.length-n)),h+m}function $(i,n,r=0,a=!1,l=!1){return function(h,m){let w=function(i,n){switch(i){case ze.FullYear:return n.getFullYear();case ze.Month:return n.getMonth();case ze.Date:return n.getDate();case ze.Hours:return n.getHours();case ze.Minutes:return n.getMinutes();case ze.Seconds:return n.getSeconds();case ze.FractionalSeconds:return n.getMilliseconds();case ze.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,h);if((r>0||w>-r)&&(w+=r),i===ze.Hours)0===w&&-12===r&&(w=12);else if(i===ze.FractionalSeconds)return function(i,n){return Tr(i,3).substr(0,n)}(w,n);const D=Ot(m,Q.MinusSign);return Tr(w,n,D,a,l)}}function j(i,n,r=ce.Format,a=!1){return function(l,h){return function(i,n,r,a,l,h){switch(r){case Qe.Months:return function(i,n,r){const a=(0,g.cg1)(i),h=kn([a[g.wAp.MonthsFormat],a[g.wAp.MonthsStandalone]],n);return kn(h,r)}(n,l,a)[i.getMonth()];case Qe.Days:return function(i,n,r){const a=(0,g.cg1)(i),h=kn([a[g.wAp.DaysFormat],a[g.wAp.DaysStandalone]],n);return kn(h,r)}(n,l,a)[i.getDay()];case Qe.DayPeriods:const m=i.getHours(),w=i.getMinutes();if(h){const A=function(i){const n=(0,g.cg1)(i);return wa(n),(n[g.wAp.ExtraData][2]||[]).map(a=>"string"==typeof a?Br(a):[Br(a[0]),Br(a[1])])}(n),x=function(i,n,r){const a=(0,g.cg1)(i);wa(a);const h=kn([a[g.wAp.ExtraData][0],a[g.wAp.ExtraData][1]],n)||[];return kn(h,r)||[]}(n,l,a),O=A.findIndex(H=>{if(Array.isArray(H)){const[U,te]=H,Se=m>=U.hours&&w>=U.minutes,ke=m<te.hours||m===te.hours&&w<te.minutes;if(U.hours<te.hours){if(Se&&ke)return!0}else if(Se||ke)return!0}else if(H.hours===m&&H.minutes===w)return!0;return!1});if(-1!==O)return x[O]}return function(i,n,r){const a=(0,g.cg1)(i),h=kn([a[g.wAp.DayPeriodsFormat],a[g.wAp.DayPeriodsStandalone]],n);return kn(h,r)}(n,l,a)[m<12?0:1];case Qe.Eras:return function(i,n){return kn((0,g.cg1)(i)[g.wAp.Eras],n)}(n,a)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${r}`)}}(l,h,i,n,r,a)}}function re(i){return function(n,r,a){const l=-1*a,h=Ot(r,Q.MinusSign),m=l>0?Math.floor(l/60):Math.ceil(l/60);switch(i){case Ft.Short:return(l>=0?"+":"")+Tr(m,2,h)+Tr(Math.abs(l%60),2,h);case Ft.ShortGMT:return"GMT"+(l>=0?"+":"")+Tr(m,1,h);case Ft.Long:return"GMT"+(l>=0?"+":"")+Tr(m,2,h)+":"+Tr(Math.abs(l%60),2,h);case Ft.Extended:return 0===a?"Z":(l>=0?"+":"")+Tr(m,2,h)+":"+Tr(Math.abs(l%60),2,h);default:throw new Error(`Unknown zone width "${i}"`)}}}function ln(i){return Ao(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function zt(i,n=!1){return function(r,a){let l;if(n){const h=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,m=r.getDate();l=1+Math.floor((m+h)/7)}else{const h=ln(r),m=function(i){const n=Ao(i,0,1).getDay();return Ao(i,0,1+(n<=4?4:11)-n)}(h.getFullYear()),w=h.getTime()-m.getTime();l=1+Math.round(w/6048e5)}return Tr(l,i,Ot(a,Q.MinusSign))}}function jr(i,n=!1){return function(r,a){return Tr(ln(r).getFullYear(),i,Ot(a,Q.MinusSign),n)}}const Tt={};function er(i,n){i=i.replace(/:/g,"");const r=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(r)?n:r}function ic(i){return i instanceof Date&&!isNaN(i.valueOf())}class fr{}let xo=(()=>{class i extends fr{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(Dr(a||this.locale)(r)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.soG))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function ht(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[l,h]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(l.trim()===n)return decodeURIComponent(h)}return null}class Ih{constructor(n,r,a,l){this.$implicit=n,this.ngForOf=r,this.index=a,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class i{constructor(r,a,l){this._viewContainer=r,this._template=a,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=[];r.forEachOperation((l,h,m)=>{if(null==l.previousIndex){const w=this._viewContainer.createEmbeddedView(this._template,new Ih(null,this._ngForOf,-1,-1),null===m?void 0:m),D=new Bn(l,w);a.push(D)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const w=this._viewContainer.get(h);this._viewContainer.move(w,m);const D=new Bn(l,w);a.push(D)}});for(let l=0;l<a.length;l++)this._perViewChange(a[l].view,a[l].record);for(let l=0,h=this._viewContainer.length;l<h;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=h,m.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,a){r.context.$implicit=a.item}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Bn{constructor(n,r){this.record=n,this.view=r}}let ji=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new $r,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ht("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ht("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class $r{constructor(){this.$implicit=null,this.ngIf=null}}function Ht(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,g.AaK)(n)}'.`)}let A_=(()=>{class i{constructor(r){this.locale=r}transform(r,a="mediumDate",l,h){if(null==r||""===r||r!=r)return null;try{return pn(r,a,h||this.locale,l)}catch(m){throw function(i,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${(0,g.AaK)(i)}'`)}(i,m.message)}}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.soG,16))},i.\u0275pipe=g.Yjl({name:"date",type:i,pure:!0}),i})(),ab=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[{provide:fr,useClass:xo}]}),i})();function wu(i){return"server"===i}let bu=(()=>{class i{}return i.\u0275prov=(0,g.Yz7)({token:i,providedIn:"root",factory:()=>new lc((0,g.LFG)(ve),window)}),i})();class lc{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=a.currentNode;for(;l;){const h=l.shadowRoot;if(h){const m=h.getElementById(n)||h.querySelector(`[name="${n}"]`);if(m)return m}l=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(a-h[0],l-h[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Cu(this.window.history)||Cu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Cu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Iu{}class Po extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Po,ee||(ee=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null);return null==r?null:function(i){dc=dc||document.createElement("a"),dc.setAttribute("href",i);const n=dc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ht(document.cookie,n)}}let dc,Gs=null;const hg=new g.OlP("TRANSITION_ID"),fc=[{provide:g.ip1,useFactory:function(i,n,r){return()=>{r.get(g.CZH).donePromise.then(()=>{const a=B(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<l.length;h++)a.remove(l[h])})}},deps:[hg,ve,g.zs3],multi:!0}];class Qt{static init(){(0,g.VLi)(new Qt)}addToWindow(n){g.dqk.getAngularTestability=(a,l=!0)=>{const h=n.findTestabilityInTree(a,l);if(null==h)throw new Error("Could not find testability for element.");return h},g.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(a=>{const l=g.dqk.getAllAngularTestabilities();let h=l.length,m=!1;const w=function(D){m=m||D,h--,0==h&&a(m)};l.forEach(function(D){D.whenStable(w)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:a?B().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let fg=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const ko=new g.OlP("EventManagerPlugins");let Nu=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}addGlobalEventListener(r,a,l){return this._findPluginFor(a).addGlobalEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const l=this._plugins;for(let h=0;h<l.length;h++){const m=l[h];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ko),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Mu{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const l=B().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,a)}}let kh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),a.add(l))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Fo=(()=>{class i extends kh{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,l){r.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,l.push(a.appendChild(m))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(gg),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,l)=>{this._addStylesToHost(r,l,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(gg))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function gg(i){B().remove(i)}const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function Ws(i,n,r){for(let a=0;a<n.length;a++){let l=n[a];Array.isArray(l)?Ws(i,l,r):(l=l.replace(At,i),r.push(l))}return r}function x_(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let Ra=(()=>{class i{constructor(r,a,l){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Zs(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case g.ifc.Emulated:{let l=this.rendererByCompId.get(a.id);return l||(l=new Ks(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,l)),l.applyToHost(r),l}case 1:case g.ifc.ShadowDom:return new hs(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const l=Ws(a.id,a.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Nu),g.LFG(Fo),g.LFG(g.AFp))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Zs{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ce[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,l){if(l){r=l+":"+r;const h=Ce[l];h?n.setAttributeNS(h,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const l=Ce[a];l?n.removeAttributeNS(l,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,l){l&(g.JOm.DashCase|g.JOm.Important)?n.style.setProperty(r,a,l&g.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&g.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,x_(a)):this.eventManager.addEventListener(n,r,x_(a))}}class Ks extends Zs{constructor(n,r,a,l){super(n),this.component=a;const h=Ws(l+"-"+a.id,a.styles,[]);r.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(At,l+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(At,i)}(l+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class hs extends Zs{constructor(n,r,a,l){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Ws(l.id,l.styles,[]);for(let m=0;m<h.length;m++){const w=document.createElement("style");w.textContent=h[m],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Uh=(()=>{class i extends Mu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const ku=["alt","control","meta","shift"],Eg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Vo=(()=>{class i extends Mu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,l){const h=i.parseEventName(a),m=i.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(r,h.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const h=i._normalizeKey(a.pop());let m="";if(ku.forEach(D=>{const A=a.indexOf(D);A>-1&&(a.splice(A,1),m+=D+".")}),m+=h,0!=a.length||0===h.length)return null;const w={};return w.domEventName=l,w.fullKey=m,w}static getEventFullKey(r){let a="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&wg.hasOwnProperty(n)&&(n=wg[n]))}return Eg[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),ku.forEach(h=>{h!=l&&Sr[h](r)&&(a+=h+".")}),a+=l,a}static eventCallback(r,a,l){return h=>{i.getEventFullKey(h)===r&&l.runGuarded(()=>a(h))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const F_=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){Po.makeCurrent(),Qt.init()},multi:!0},{provide:ve,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Ys=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:ko,useClass:Uh,multi:!0,deps:[ve,g.R0b,g.Lbi]},{provide:ko,useClass:Vo,multi:!0,deps:[ve]},[],{provide:Ra,useClass:Ra,deps:[Nu,Fo,g.AFp]},{provide:g.FYo,useExisting:Ra},{provide:kh,useExisting:Fo},{provide:Fo,useClass:Fo,deps:[ve]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Nu,useClass:Nu,deps:[ko,g.R0b]},{provide:Iu,useClass:fg,deps:[]},[]];let Lu=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:g.AFp,useValue:r.appId},{provide:hg,useExisting:g.AFp},fc]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(i,12))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:Ys,imports:[ab,g.hGG]}),i})();"undefined"!=typeof window&&window;var et=L(5917),gr=L(7574),nr=L(9773);function ri(i,n){return(0,nr.zg)(i,n,1)}var Rr=L(7393);function xr(i,n){return function(a){return a.lift(new ju(i,n))}}class ju{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new wc(n,this.predicate,this.thisArg))}}class wc extends Rr.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}var ft=L(8002);class Dg{}class Uo{}class Hi{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(r=>{const a=r.indexOf(":");if(a>0){const l=r.slice(0,a),h=l.toLowerCase(),m=r.slice(a+1).trim();this.maybeSetNormalizedName(l,h),this.headers.has(h)?this.headers.get(h).push(m):this.headers.set(h,[m])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(r=>{let a=n[r];const l=r.toLowerCase();"string"==typeof a&&(a=[a]),a.length>0&&(this.headers.set(l,a),this.maybeSetNormalizedName(r,l))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof Hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new Hi;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Hi?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let a=n.value;if("string"==typeof a&&(a=[a]),0===a.length)return;this.maybeSetNormalizedName(n.name,r);const l=("a"===n.op?this.headers.get(r):void 0)||[];l.push(...a),this.headers.set(r,l);break;case"d":const h=n.value;if(h){let m=this.headers.get(r);if(!m)return;m=m.filter(w=>-1===h.indexOf(w)),0===m.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,m)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class Tg{encodeKey(n){return Bo(n)}encodeValue(n){return Bo(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Jh=/%(\d[a-f0-9])/gi,bc={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Bo(i){return encodeURIComponent(i).replace(Jh,(n,r)=>{var a;return null!==(a=bc[r])&&void 0!==a?a:n})}function Xh(i){return`${i}`}class gs{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Tg,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,n){const r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(l=>{const h=l.indexOf("="),[m,w]=-1==h?[n.decodeKey(l),""]:[n.decodeKey(l.slice(0,h)),n.decodeValue(l.slice(h+1))],D=r.get(m)||[];D.push(w),r.set(m,D)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const a=n.fromObject[r];this.map.set(r,Array.isArray(a)?a:[a])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(a=>{const l=n[a];Array.isArray(l)?l.forEach(h=>{r.push({param:a,value:h,op:"a"})}):r.push({param:a,value:l,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(a=>r+"="+this.encoder.encodeValue(a)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new gs({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(Xh(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let a=this.map.get(n.param)||[];const l=a.indexOf(Xh(n.value));-1!==l&&a.splice(l,1),a.length>0?this.map.set(n.param,a):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class ms{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function Cc(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function Ic(i){return"undefined"!=typeof Blob&&i instanceof Blob}function ys(i){return"undefined"!=typeof FormData&&i instanceof FormData}class $i{constructor(n,r,a,l){let h;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==a?a:null,h=l):h=a,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new Hi),this.context||(this.context=new ms),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=r;else{const w=r.indexOf("?");this.urlWithParams=r+(-1===w?"?":w<r.length-1?"&":"")+m}}else this.params=new gs,this.urlWithParams=r}serializeBody(){return null===this.body?null:Cc(this.body)||Ic(this.body)||ys(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof gs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ys(this.body)?null:Ic(this.body)?this.body.type||null:Cc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var r;const a=n.method||this.method,l=n.url||this.url,h=n.responseType||this.responseType,m=void 0!==n.body?n.body:this.body,w=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,D=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let A=n.headers||this.headers,x=n.params||this.params;const O=null!==(r=n.context)&&void 0!==r?r:this.context;return void 0!==n.setHeaders&&(A=Object.keys(n.setHeaders).reduce((H,U)=>H.set(U,n.setHeaders[U]),A)),n.setParams&&(x=Object.keys(n.setParams).reduce((H,U)=>H.set(U,n.setParams[U]),x)),new $i(a,l,m,{params:x,headers:A,context:O,reportProgress:D,responseType:h,withCredentials:w})}}var en=(()=>((en=en||{})[en.Sent=0]="Sent",en[en.UploadProgress=1]="UploadProgress",en[en.ResponseHeader=2]="ResponseHeader",en[en.DownloadProgress=3]="DownloadProgress",en[en.Response=4]="Response",en[en.User=5]="User",en))();class Hu{constructor(n,r=200,a="OK"){this.headers=n.headers||new Hi,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||a,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class _s extends Hu{constructor(n={}){super(n),this.type=en.ResponseHeader}clone(n={}){return new _s({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Dc extends Hu{constructor(n={}){super(n),this.type=en.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Dc({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class B_ extends Hu{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function ef(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let j_=(()=>{class i{constructor(r){this.handler=r}request(r,a,l={}){let h;if(r instanceof $i)h=r;else{let D,A;D=l.headers instanceof Hi?l.headers:new Hi(l.headers),l.params&&(A=l.params instanceof gs?l.params:new gs({fromObject:l.params})),h=new $i(r,a,void 0!==l.body?l.body:null,{headers:D,context:l.context,params:A,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const m=(0,et.of)(h).pipe(ri(D=>this.handler.handle(D)));if(r instanceof $i||"events"===l.observe)return m;const w=m.pipe(xr(D=>D instanceof Dc));switch(l.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return w.pipe((0,ft.U)(D=>{if(null!==D.body&&!(D.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return D.body}));case"blob":return w.pipe((0,ft.U)(D=>{if(null!==D.body&&!(D.body instanceof Blob))throw new Error("Response is not a Blob.");return D.body}));case"text":return w.pipe((0,ft.U)(D=>{if(null!==D.body&&"string"!=typeof D.body)throw new Error("Response is not a string.");return D.body}));case"json":default:return w.pipe((0,ft.U)(D=>D.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(r,a={}){return this.request("DELETE",r,a)}get(r,a={}){return this.request("GET",r,a)}head(r,a={}){return this.request("HEAD",r,a)}jsonp(r,a){return this.request("JSONP",r,{params:(new gs).append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,a={}){return this.request("OPTIONS",r,a)}patch(r,a,l={}){return this.request("PATCH",r,ef(l,a))}post(r,a,l={}){return this.request("POST",r,ef(l,a))}put(r,a,l={}){return this.request("PUT",r,ef(l,a))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Dg))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Tc{constructor(n,r){this.next=n,this.interceptor=r}handle(n){return this.interceptor.intercept(n,this.next)}}const dn=new g.OlP("HTTP_INTERCEPTORS");let tf=(()=>{class i{intercept(r,a){return a.handle(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Rg=/^\)\]\}',?\n/;let jo=(()=>{class i{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gr.y(a=>{const l=this.xhrFactory.build();if(l.open(r.method,r.urlWithParams),r.withCredentials&&(l.withCredentials=!0),r.headers.forEach((U,te)=>l.setRequestHeader(U,te.join(","))),r.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const U=r.detectContentTypeHeader();null!==U&&l.setRequestHeader("Content-Type",U)}if(r.responseType){const U=r.responseType.toLowerCase();l.responseType="json"!==U?U:"text"}const h=r.serializeBody();let m=null;const w=()=>{if(null!==m)return m;const U=1223===l.status?204:l.status,te=l.statusText||"OK",Se=new Hi(l.getAllResponseHeaders()),ke=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||r.url;return m=new _s({headers:Se,status:U,statusText:te,url:ke}),m},D=()=>{let{headers:U,status:te,statusText:Se,url:ke}=w(),Ye=null;204!==te&&(Ye=void 0===l.response?l.responseText:l.response),0===te&&(te=Ye?200:0);let mt=te>=200&&te<300;if("json"===r.responseType&&"string"==typeof Ye){const st=Ye;Ye=Ye.replace(Rg,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(dt){Ye=st,mt&&(mt=!1,Ye={error:dt,text:Ye})}}mt?(a.next(new Dc({body:Ye,headers:U,status:te,statusText:Se,url:ke||void 0})),a.complete()):a.error(new B_({error:Ye,headers:U,status:te,statusText:Se,url:ke||void 0}))},A=U=>{const{url:te}=w(),Se=new B_({error:U,status:l.status||0,statusText:l.statusText||"Unknown Error",url:te||void 0});a.error(Se)};let x=!1;const O=U=>{x||(a.next(w()),x=!0);let te={type:en.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(te.total=U.total),"text"===r.responseType&&!!l.responseText&&(te.partialText=l.responseText),a.next(te)},H=U=>{let te={type:en.UploadProgress,loaded:U.loaded};U.lengthComputable&&(te.total=U.total),a.next(te)};return l.addEventListener("load",D),l.addEventListener("error",A),l.addEventListener("timeout",A),l.addEventListener("abort",A),r.reportProgress&&(l.addEventListener("progress",O),null!==h&&l.upload&&l.upload.addEventListener("progress",H)),l.send(h),a.next({type:en.Sent}),()=>{l.removeEventListener("error",A),l.removeEventListener("abort",A),l.removeEventListener("load",D),l.removeEventListener("timeout",A),r.reportProgress&&(l.removeEventListener("progress",O),null!==h&&l.upload&&l.upload.removeEventListener("progress",H)),l.readyState!==l.DONE&&l.abort()}})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Iu))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const vs=new g.OlP("XSRF_COOKIE_NAME"),xg=new g.OlP("XSRF_HEADER_NAME");class xn{}let Sc=(()=>{class i{constructor(r,a,l){this.doc=r,this.platform=a,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=ht(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve),g.LFG(g.Lbi),g.LFG(vs))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Js=(()=>{class i{constructor(r,a){this.tokenService=r,this.headerName=a}intercept(r,a){const l=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||l.startsWith("http://")||l.startsWith("https://"))return a.handle(r);const h=this.tokenService.getToken();return null!==h&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,h)})),a.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(xn),g.LFG(xg))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),z_=(()=>{class i{constructor(r,a){this.backend=r,this.injector=a,this.chain=null}handle(r){if(null===this.chain){const a=this.injector.get(dn,[]);this.chain=a.reduceRight((l,h)=>new Tc(l,h),this.backend)}return this.chain.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Uo),g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),ii=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:Js,useClass:tf}]}}static withOptions(r={}){return{ngModule:i,providers:[r.cookieName?{provide:vs,useValue:r.cookieName}:[],r.headerName?{provide:xg,useValue:r.headerName}:[]]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[Js,{provide:dn,useExisting:Js,multi:!0},{provide:xn,useClass:Sc},{provide:vs,useValue:"XSRF-TOKEN"},{provide:xg,useValue:"X-XSRF-TOKEN"}]}),i})(),Rc=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[j_,{provide:Dg,useClass:z_},jo,{provide:Uo,useExisting:jo}],imports:[[ii.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),xc=(()=>{class i{constructor(r,a){this.document=r,this.platformId=a,this.documentIsAccessible=function(i){return"browser"===i}(this.platformId)}check(r){return!!this.documentIsAccessible&&(r=encodeURIComponent(r),this.getCookieRegExp(r).test(this.document.cookie))}get(r){if(this.documentIsAccessible&&this.check(r)){r=encodeURIComponent(r);const l=this.getCookieRegExp(r).exec(this.document.cookie);return decodeURIComponent(l[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const r={},a=this.document;if(a.cookie&&""!==a.cookie){const l=a.cookie.split(";");for(let h=0;h<l.length;h+=1){const m=l[h].split("=");m[0]=m[0].replace(/^ /,""),r[decodeURIComponent(m[0])]=decodeURIComponent(m[1])}}return r}set(r,a,l,h,m,w,D="None"){if(!this.documentIsAccessible)return;let A=encodeURIComponent(r)+"="+encodeURIComponent(a)+";";l&&(A+="number"==typeof l?"expires="+new Date((new Date).getTime()+1e3*l*60*60*24).toUTCString()+";":"expires="+l.toUTCString()+";"),h&&(A+="path="+h+";"),m&&(A+="domain="+m+";"),w&&(A+="secure;"),A+="sameSite="+D+";",this.document.cookie=A}delete(r,a,l){!this.documentIsAccessible||this.set(r,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),a,l,void 0,"Lax")}deleteAll(r,a){if(!this.documentIsAccessible)return;const l=this.getAll();for(const h in l)l.hasOwnProperty(h)&&this.delete(h,r,a)}getCookieRegExp(r){const a=r.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+a+"|;\\s*"+a+")=(.*?)(?:;|$)","g")}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve),g.LFG(g.Lbi))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();var $t=L(4402),Es=L(9765),nf=L(7971);class Gi extends Es.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nf.N;return this._value}next(n){super.next(this._value=n)}}var rf=L(4869),Wn=L(9796);class $u extends Rr.L{notifyNext(n,r,a,l,h){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class eo extends Rr.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var pb=L(7444);function Nc(i,n,r,a,l=new eo(i,r,a)){if(!l.closed)return n instanceof gr.y?n.subscribe(l):(0,pb.s)(n)(l)}var Ng=L(6693);const Mg={};class sf{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Z_(n,this.resultSelector))}}class Z_ extends $u{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Mg),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(Nc(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const l=this.values,m=this.toRespond?l[a]===Mg?--this.toRespond:this.toRespond:0;l[a]=r,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const to=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var $o=L(3282);function ws(...i){return(0,$o.J)(1)((0,et.of)(...i))}var qi=L(9193);function bs(i){return new gr.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,$t.D)(r):(0,qi.c)()).subscribe(n)})}var Oc=L(2441),no=L(5345);function Fn(i,n){return"function"==typeof n?r=>r.pipe(Fn((a,l)=>(0,$t.D)(i(a,l)).pipe((0,ft.U)((h,m)=>n(a,h,l,m))))):r=>r.lift(new Gu(i))}class Gu{constructor(n){this.project=n}call(n,r){return r.subscribe(new mb(n,this.project))}}class mb extends no.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new no.IY(this),l=this.destination;l.add(a),this.innerSubscription=(0,no.ft)(n,a),this.innerSubscription!==a&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Go=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Cs(i){return n=>0===i?(0,qi.c)():n.lift(new K_(i))}class K_{constructor(n){if(this.total=n,this.total<0)throw new Go}call(n,r){return r.subscribe(new Cn(n,this.total))}}class Cn extends Rr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function qo(...i){const n=i[i.length-1];return(0,rf.K)(n)?(i.pop(),r=>ws(i,r,n)):r=>ws(i,r)}function Pc(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new zo(i,n,r))}}class zo{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new qu(n,this.accumulator,this.seed,this.hasSeed))}}class qu extends Rr.L{constructor(n,r,a,l){super(n),this.accumulator=r,this._seed=a,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=a,this.destination.next(a)}}function Is(i){return function(r){const a=new Og(i),l=r.lift(a);return a.caught=l}}class Og{constructor(n){this.selector=n}call(n,r){return r.subscribe(new Pg(n,this.selector,this.caught))}}class Pg extends no.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const a=new no.IY(this);this.add(a);const l=(0,no.ft)(r,a);l!==a&&this.add(l)}}}function af(i){return function(r){return 0===i?(0,qi.c)():r.lift(new Oa(i))}}class Oa{constructor(n){if(this.total=n,this.total<0)throw new Go}call(n,r){return r.subscribe(new si(n,this.total))}}class si extends Rr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,l=this.count++;r.length<a?r.push(n):r[l%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,l=this.ring;for(let h=0;h<a;h++){const m=r++%a;n.next(l[m])}}n.complete()}}function zu(i=kg){return n=>n.lift(new ro(i))}class ro{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new Y_(n,this.errorFactory))}}class Y_ extends Rr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function kg(){return new to}function kc(i=null){return n=>n.lift(new Fc(i))}class Fc{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new Fg(n,this.defaultValue))}}class Fg extends Rr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Lg=L(4487);function oi(i,n){const r=arguments.length>=2;return a=>a.pipe(i?xr((l,h)=>i(l,h,a)):Lg.y,Cs(1),r?kc(n):zu(()=>new to))}var Zn=L(3342),Q_=L(1307),J_=L(5319);class Ug{constructor(n){this.callback=n}call(n,r){return r.subscribe(new yb(n,this.callback))}}class yb extends Rr.L{constructor(n,r){super(n),this.add(new J_.w(r))}}class Ds{constructor(n,r){this.id=n,this.url=r}}class lf extends Ds{constructor(n,r,a="imperative",l=null){super(n,r),this.navigationTrigger=a,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wu extends Ds{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wo extends Ds{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cf extends Ds{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class io extends Ds{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X_ extends Ds{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bg extends Ds{constructor(n,r,a,l,h){super(n,r),this.urlAfterRedirects=a,this.state=l,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _b extends Ds{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pa extends Ds{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lc{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class df{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jg{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hg{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ev{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tv{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pt="primary";class nv{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function ka(i){return new nv(i)}const ai="ngNavigationCancelingError";function so(i){const n=Error("NavigationCancelingError: "+i);return n[ai]=!0,n}function rv(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const l={};for(let h=0;h<a.length;h++){const m=a[h],w=i[h];if(m.startsWith(":"))l[m.substring(1)]=w;else if(m!==w.path)return null}return{consumed:i.slice(0,a.length),posParams:l}}function ui(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let l;for(let h=0;h<r.length;h++)if(l=r[h],!$g(i[l],n[l]))return!1;return!0}function $g(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((l,h)=>a[h]===l)}return i===n}function Gg(i){return Array.prototype.concat.apply([],i)}function Zu(i){return i.length>0?i[i.length-1]:null}function Kn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function zi(i){return(0,g.CqO)(i)?i:(0,g.QGY)(i)?(0,$t.D)(Promise.resolve(i)):(0,et.of)(i)}const Eb={exact:function Ci(i,n,r){if(!Wi(i.segments,n.segments)||!Yu(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!Ci(i.children[a],n.children[a],r))return!1;return!0},subset:Ku},hf={exact:function(i,n){return ui(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>$g(i[r],n[r]))},ignored:()=>!0};function oo(i,n,r){return Eb[r.paths](i.root,n.root,r.matrixParams)&&hf[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Ku(i,n,r){return ff(i,n,n.segments,r)}function ff(i,n,r,a){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!Wi(l,r)||n.hasChildren()||!Yu(l,r,a))}if(i.segments.length===r.length){if(!Wi(i.segments,r)||!Yu(i.segments,r,a))return!1;for(const l in n.children)if(!i.children[l]||!Ku(i.children[l],n.children[l],a))return!1;return!0}{const l=r.slice(0,i.segments.length),h=r.slice(i.segments.length);return!!(Wi(i.segments,l)&&Yu(i.segments,l,a)&&i.children[pt])&&ff(i.children[pt],n,h,a)}}function Yu(i,n,r){return n.every((a,l)=>hf[r](i[l].parameters,a.parameters))}class Ts{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return Wg.serialize(this)}}class Nt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Kn(r,(a,l)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yo(this)}}class Uc{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=ka(this.parameters)),this._parameterMap}toString(){return jc(this)}}function Wi(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class zg{}class ov{parse(n){const r=new yf(n);return new Ts(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${Qu(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(l=>`${Bc(r)}=${Bc(l)}`).join("&"):`${Bc(r)}=${Bc(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const Wg=new ov;function Yo(i){return i.segments.map(n=>jc(n)).join("/")}function Qu(i,n){if(!i.hasChildren())return Yo(i);if(n){const r=i.children[pt]?Qu(i.children[pt],!1):"",a=[];return Kn(i.children,(l,h)=>{h!==pt&&a.push(`${h}:${Qu(l,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return Kn(i.children,(a,l)=>{l===pt&&(r=r.concat(n(a,l)))}),Kn(i.children,(a,l)=>{l!==pt&&(r=r.concat(n(a,l)))}),r}(i,(a,l)=>l===pt?[Qu(i.children[pt],!1)]:[`${l}:${Qu(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[pt]?`${Yo(i)}/${r[0]}`:`${Yo(i)}/(${r.join("//")})`}}function mf(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bc(i){return mf(i).replace(/%3B/gi,";")}function Fa(i){return mf(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(i){return decodeURIComponent(i)}function Xu(i){return Ju(i.replace(/\+/g,"%20"))}function jc(i){return`${Fa(i.path)}${function(i){return Object.keys(i).map(n=>`;${Fa(n)}=${Fa(i[n])}`).join("")}(i.parameters)}`}const av=/^[^\/()?;=#]+/;function ao(i){const n=i.match(av);return n?n[0]:""}const Nr=/^[^=?&#]+/,Yg=/^[^?&#]+/;class yf{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[pt]=new Nt(n,r)),a}parseSegment(){const n=ao(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Uc(Ju(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=ao(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const l=ao(this.remaining);l&&(a=l,this.capture(a))}n[Ju(r)]=Ju(a)}parseQueryParam(n){const r=function(i){const n=i.match(Nr);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const m=function(i){const n=i.match(Yg);return n?n[0]:""}(this.remaining);m&&(a=m,this.capture(a))}const l=Xu(r),h=Xu(a);if(n.hasOwnProperty(l)){let m=n[l];Array.isArray(m)||(m=[m],n[l]=m),m.push(h)}else n[l]=h}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=ao(this.remaining),l=this.remaining[a.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let h;a.indexOf(":")>-1?(h=a.substr(0,a.indexOf(":")),this.capture(h),this.capture(":")):n&&(h=pt);const m=this.parseChildren();r[h]=1===Object.keys(m).length?m[pt]:new Nt([],m),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Hc{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=Qg(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=Qg(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=_f(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return _f(n,this._root).map(r=>r.value)}}function Qg(i,n){if(i===n.value)return n;for(const r of n.children){const a=Qg(i,r);if(a)return a}return null}function _f(i,n){if(i===n.value)return[n];for(const r of n.children){const a=_f(i,r);if(a.length)return a.unshift(n),a}return[]}class Wr{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function qt(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class tl extends Hc{constructor(n,r){super(n),this.snapshot=r,Va(this,n)}toString(){return this.snapshot.toString()}}function vf(i,n){const r=function(i,n){const m=new La([],{},{},"",{},pt,n,null,i.root,-1,{});return new $c("",new Wr(m,[]))}(i,n),a=new Gi([new Uc("",{})]),l=new Gi({}),h=new Gi({}),m=new Gi({}),w=new Gi(""),D=new In(a,l,m,w,h,pt,n,r.root);return D.snapshot=r.root,new tl(new Wr(D,[]),r)}class In{constructor(n,r,a,l,h,m,w,D){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=m,this.component=w,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(n=>ka(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(n=>ka(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qo(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const l=r[a],h=r[a-1];if(l.routeConfig&&""===l.routeConfig.path)a--;else{if(h.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class La{constructor(n,r,a,l,h,m,w,D,A,x,O){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=m,this.component=w,this.routeConfig=D,this._urlSegment=A,this._lastPathIndex=x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $c extends Hc{constructor(n,r){super(r),this.url=n,Va(this,r)}toString(){return Xg(this._root)}}function Va(i,n){n.value._routerState=i,n.children.forEach(r=>Va(i,r))}function Xg(i){const n=i.children.length>0?` { ${i.children.map(Xg).join(", ")} } `:"";return`${i.value}${n}`}function li(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,ui(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),ui(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!ui(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),ui(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Jo(i,n){return ui(i.params,n.params)&&function(i,n){return Wi(i,n)&&i.every((r,a)=>ui(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||Jo(i.parent,n.parent))}function nl(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(a=>{for(const l of r.children)if(i.shouldReuseRoute(a.value,l.value.snapshot))return nl(i,a,l);return nl(i,a)})}(i,n,r);return new Wr(a,l)}{if(i.shouldAttach(n.value)){const h=i.retrieve(n.value);if(null!==h){const m=h.route;return Gc(n,m),m}}const a=function(i){return new In(new Gi(i.url),new Gi(i.params),new Gi(i.queryParams),new Gi(i.fragment),new Gi(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(h=>nl(i,h));return new Wr(a,l)}}function Gc(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Gc(i.children[r],n.children[r])}function rl(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function b(i){return"object"==typeof i&&null!=i&&i.outlets}function y(i,n,r,a,l){let h={};return a&&Kn(a,(m,w)=>{h[w]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),new Ts(r.root===i?n:_(r.root,i,n),h,l)}function _(i,n,r){const a={};return Kn(i.children,(l,h)=>{a[h]=l===n?r:_(l,n,r)}),new Nt(i.segments,a)}class C{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&rl(a[0]))throw new Error("Root segment cannot have matrix parameters");const l=a.find(b);if(l&&l!==Zu(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class M{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function qe(i,n,r){if(i||(i=new Nt([],{})),0===i.segments.length&&i.hasChildren())return rt(i,n,r);const a=function(i,n,r){let a=0,l=n;const h={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(a>=r.length)return h;const m=i.segments[l],w=r[a];if(b(w))break;const D=`${w}`,A=a<r.length-1?r[a+1]:null;if(l>0&&void 0===D)break;if(D&&A&&"object"==typeof A&&void 0===A.outlets){if(!bf(D,A,m))return h;a+=2}else{if(!bf(D,{},m))return h;a++}l++}return{match:!0,pathIndex:l,commandIndex:a}}(i,n,r),l=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const h=new Nt(i.segments.slice(0,a.pathIndex),{});return h.children[pt]=new Nt(i.segments.slice(a.pathIndex),i.children),rt(h,0,l)}return a.match&&0===l.length?new Nt(i.segments,{}):a.match&&!i.hasChildren()?nn(i,n,r):a.match?rt(i,0,l):nn(i,n,r)}function rt(i,n,r){if(0===r.length)return new Nt(i.segments,{});{const a=function(i){return b(i[0])?i[0].outlets:{[pt]:i}}(r),l={};return Kn(a,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(l[m]=qe(i.children[m],n,h))}),Kn(i.children,(h,m)=>{void 0===a[m]&&(l[m]=h)}),new Nt(i.segments,l)}}function nn(i,n,r){const a=i.segments.slice(0,n);let l=0;for(;l<r.length;){const h=r[l];if(b(h)){const D=yn(h.outlets);return new Nt(a,D)}if(0===l&&rl(r[0])){a.push(new Uc(i.segments[n].path,Ua(r[0]))),l++;continue}const m=b(h)?h.outlets[pt]:`${h}`,w=l<r.length-1?r[l+1]:null;m&&w&&rl(w)?(a.push(new Uc(m,Ua(w))),l+=2):(a.push(new Uc(m,{})),l++)}return new Nt(a,{})}function yn(i){const n={};return Kn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=nn(new Nt([],{}),0,r))}),n}function Ua(i){const n={};return Kn(i,(r,a)=>n[a]=`${r}`),n}function bf(i,n,r){return i==r.path&&ui(n,r.parameters)}class If{constructor(n,r,a,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=l}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),li(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const l=qt(r);n.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,l[m],a),delete l[m]}),Kn(l,(h,m)=>{this.deactivateRouteAndItsChildren(h,a)})}deactivateRoutes(n,r,a){const l=n.value,h=r?r.value:null;if(l===h)if(l.component){const m=a.getContext(l.outlet);m&&this.deactivateChildRoutes(n,r,m.children)}else this.deactivateChildRoutes(n,r,a);else h&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const l=a.outlet.detach(),h=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:h})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),l=a&&n.value.component?a.children:r,h=qt(n);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],l);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const l=qt(r);n.children.forEach(h=>{this.activateRoutes(h,l[h.value.outlet],a),this.forwardEvent(new ev(h.value.snapshot))}),n.children.length&&this.forwardEvent(new Hg(n.value.snapshot))}activateRoutes(n,r,a){const l=n.value,h=r?r.value:null;if(li(l),l===h)if(l.component){const m=a.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,m.children)}else this.activateChildRoutes(n,r,a);else if(l.component){const m=a.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const w=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(w.contexts),m.attachRef=w.componentRef,m.route=w.route.value,m.outlet&&m.outlet.attach(w.componentRef,w.route.value),tm(w.route)}else{const w=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),D=w?w.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=D,m.outlet&&m.outlet.activateWith(l,D),this.activateChildRoutes(n,null,m.children)}}else this.activateChildRoutes(n,null,a)}}function tm(i){li(i.value),i.children.forEach(tm)}class zc{constructor(n,r){this.routes=n,this.module=r}}function As(i){return"function"==typeof i}function Zr(i){return i instanceof Ts}const rm=Symbol("INITIAL_VALUE");function ci(){return Fn(i=>function(...i){let n,r;return(0,rf.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,Wn.k)(i[0])&&(i=i[0]),(0,Ng.n)(i,r).lift(new sf(n))}(i.map(n=>n.pipe(Cs(1),qo(rm)))).pipe(Pc((n,r)=>{let a=!1;return r.reduce((l,h,m)=>l!==rm?l:(h===rm&&(a=!0),a||!1!==h&&m!==r.length-1&&!Zr(h)?l:h),n)},rm),xr(n=>n!==rm),(0,ft.U)(n=>Zr(n)?n:!0===n),Cs(1)))}let im=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&g._UZ(0,"router-outlet")},directives:function(){return[Rs]},encapsulation:2}),i})();function sm(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];dA(a,Cb(n,a))}}function dA(i,n){i.children&&sm(i.children,n)}function Cb(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function il(i){const n=i.children&&i.children.map(il),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==pt&&(r.component=im),r}function Ii(i){return i.outlet||pt}function cv(i,n){const r=i.filter(a=>Ii(a)===n);return r.push(...i.filter(a=>Ii(a)!==n)),r}const om={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wc(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},om):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(n.matcher||rv)(r,i,n);if(!h)return Object.assign({},om);const m={};Kn(h.posParams,(D,A)=>{m[A]=D.path});const w=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:w,positionalParamSegments:null!==(a=h.posParams)&&void 0!==a?a:{}}}function Tf(i,n,r,a,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>am(i,n,a)&&Ii(a)!==pt)}(i,r,a)){const m=new Nt(n,function(i,n,r,a){const l={};l[pt]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const h of r)if(""===h.path&&Ii(h)!==pt){const m=new Nt([],{});m._sourceSegment=i,m._segmentIndexShift=n.length,l[Ii(h)]=m}return l}(i,n,a,new Nt(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>am(i,n,a))}(i,r,a)){const m=new Nt(i.segments,function(i,n,r,a,l,h){const m={};for(const w of a)if(am(i,r,w)&&!l[Ii(w)]){const D=new Nt([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===h?i.segments.length:n.length,m[Ii(w)]=D}return Object.assign(Object.assign({},l),m)}(i,n,r,a,i.children,l));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:r}}const h=new Nt(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:r}}function am(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function um(i,n,r,a){return!!(Ii(i)===a||a!==pt&&am(n,r,i))&&("**"===i.path||Wc(n,i,r).matched)}function Db(i,n,r){return 0===n.length&&!i.children[r]}class Af{constructor(n){this.segmentGroup=n||null}}class Tb{constructor(n){this.urlTree=n}}function lm(i){return new gr.y(n=>n.error(new Af(i)))}function Ab(i){return new gr.y(n=>n.error(new Tb(i)))}function hA(i){return new gr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class Rb{constructor(n,r,a,l,h){this.configLoader=r,this.urlSerializer=a,this.urlTree=l,this.config=h,this.allowRedirects=!0,this.ngModule=n.get(g.h0i)}apply(){const n=Tf(this.urlTree.root,[],[],this.config).segmentGroup,r=new Nt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,pt).pipe((0,ft.U)(h=>this.createUrlTree(pv(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Is(h=>{if(h instanceof Tb)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Af?this.noMatchError(h):h}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,pt).pipe((0,ft.U)(l=>this.createUrlTree(pv(l),n.queryParams,n.fragment))).pipe(Is(l=>{throw l instanceof Af?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const l=n.segments.length>0?new Nt([],{[pt]:n}):n;return new Ts(l,r,a)}expandSegmentGroup(n,r,a,l){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,ft.U)(h=>new Nt([],h))):this.expandSegment(n,a,r,a.segments,l,!0)}expandChildren(n,r,a){const l=[];for(const h of Object.keys(a.children))"primary"===h?l.unshift(h):l.push(h);return(0,$t.D)(l).pipe(ri(h=>{const m=a.children[h],w=cv(r,h);return this.expandSegmentGroup(n,w,m,h).pipe((0,ft.U)(D=>({segment:D,outlet:h})))}),Pc((h,m)=>(h[m.outlet]=m.segment,h),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?xr((l,h)=>i(l,h,a)):Lg.y,af(1),r?kc(n):zu(()=>new to))}())}expandSegment(n,r,a,l,h,m){return(0,$t.D)(a).pipe(ri(w=>this.expandSegmentAgainstRoute(n,r,a,w,l,h,m).pipe(Is(A=>{if(A instanceof Af)return(0,et.of)(null);throw A}))),oi(w=>!!w),Is((w,D)=>{if(w instanceof to||"EmptyError"===w.name){if(Db(r,l,h))return(0,et.of)(new Nt([],{}));throw new Af(r)}throw w}))}expandSegmentAgainstRoute(n,r,a,l,h,m,w){return um(l,r,h,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,h,m):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m):lm(r):lm(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,l){const h=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?Ab(h):this.lineralizeSegments(a,h).pipe((0,nr.zg)(m=>{const w=new Nt(m,{});return this.expandSegment(n,w,r,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m){const{matched:w,consumedSegments:D,lastChild:A,positionalParamSegments:x}=Wc(r,l,h);if(!w)return lm(r);const O=this.applyRedirectCommands(D,l.redirectTo,x);return l.redirectTo.startsWith("/")?Ab(O):this.lineralizeSegments(l,O).pipe((0,nr.zg)(H=>this.expandSegment(n,r,a,H.concat(h.slice(A)),m,!1)))}matchSegmentAgainstRoute(n,r,a,l,h){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,et.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,ft.U)(H=>(a._loadedConfig=H,new Nt(l,{})))):(0,et.of)(new Nt(l,{}));const{matched:m,consumedSegments:w,lastChild:D}=Wc(r,a,l);if(!m)return lm(r);const A=l.slice(D);return this.getChildConfig(n,a,l).pipe((0,nr.zg)(O=>{const H=O.module,U=O.routes,{segmentGroup:te,slicedSegments:Se}=Tf(r,w,A,U),ke=new Nt(te.segments,te.children);if(0===Se.length&&ke.hasChildren())return this.expandChildren(H,U,ke).pipe((0,ft.U)(dt=>new Nt(w,dt)));if(0===U.length&&0===Se.length)return(0,et.of)(new Nt(w,{}));const Ye=Ii(a)===h;return this.expandSegment(H,ke,U,Se,Ye?pt:h,!0).pipe((0,ft.U)(st=>new Nt(w.concat(st.segments),st.children)))}))}getChildConfig(n,r,a){return r.children?(0,et.of)(new zc(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,et.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,nr.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,ft.U)(h=>(r._loadedConfig=h,h))):(i=r,new gr.y(n=>n.error(so(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,et.of)(new zc([],n))}runCanLoadGuards(n,r,a){const l=r.canLoad;if(!l||0===l.length)return(0,et.of)(!0);const h=l.map(m=>{const w=n.get(m);let D;if((i=w)&&As(i.canLoad))D=w.canLoad(r,a);else{if(!As(w))throw new Error("Invalid CanLoad guard");D=w(r,a)}var i;return zi(D)});return(0,et.of)(h).pipe(ci(),(0,Zn.b)(m=>{if(!Zr(m))return;const w=so(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw w.url=m,w}),(0,ft.U)(m=>!0===m))}lineralizeSegments(n,r){let a=[],l=r.root;for(;;){if(a=a.concat(l.segments),0===l.numberOfChildren)return(0,et.of)(a);if(l.numberOfChildren>1||!l.children[pt])return hA(n.redirectTo);l=l.children[pt]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,l){const h=this.createSegmentGroup(n,r.root,a,l);return new Ts(h,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return Kn(n,(l,h)=>{if("string"==typeof l&&l.startsWith(":")){const w=l.substring(1);a[h]=r[w]}else a[h]=l}),a}createSegmentGroup(n,r,a,l){const h=this.createSegments(n,r.segments,a,l);let m={};return Kn(r.children,(w,D)=>{m[D]=this.createSegmentGroup(n,w,a,l)}),new Nt(h,m)}createSegments(n,r,a,l){return r.map(h=>h.path.startsWith(":")?this.findPosParam(n,h,l):this.findOrReturn(h,a))}findPosParam(n,r,a){const l=a[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let a=0;for(const l of r){if(l.path===n.path)return r.splice(a),l;a++}return n}}function pv(i){const n={};for(const a of Object.keys(i.children)){const h=pv(i.children[a]);(h.segments.length>0||h.hasChildren())&&(n[a]=h)}return function(i){if(1===i.numberOfChildren&&i.children[pt]){const n=i.children[pt];return new Nt(i.segments.concat(n.segments),n.children)}return i}(new Nt(i.segments,n))}class gv{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Sf{constructor(n,r){this.component=n,this.route=r}}function sl(i,n,r){const a=i._root;return Ba(a,n?n._root:null,r,[a.value])}function Rf(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function Ba(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=qt(n);return i.children.forEach(m=>{(function(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,m=n?n.value:null,w=r?r.getContext(i.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const D=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Wi(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Wi(i.url,n.url)||!ui(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jo(i,n)||!ui(i.queryParams,n.queryParams);case"paramsChange":default:return!Jo(i,n)}}(m,h,h.routeConfig.runGuardsAndResolvers);D?l.canActivateChecks.push(new gv(a)):(h.data=m.data,h._resolvedData=m._resolvedData),Ba(i,n,h.component?w?w.children:null:r,a,l),D&&w&&w.outlet&&w.outlet.isActivated&&l.canDeactivateChecks.push(new Sf(w.outlet.component,m))}else m&&Kc(n,w,l),l.canActivateChecks.push(new gv(a)),Ba(i,null,h.component?w?w.children:null:r,a,l)})(m,h[m.value.outlet],r,a.concat([m.value]),l),delete h[m.value.outlet]}),Kn(h,(m,w)=>Kc(m,r.getContext(w),l)),l}function Kc(i,n,r){const a=qt(i),l=i.value;Kn(a,(h,m)=>{Kc(h,l.component?n?n.children.getContext(m):null:n,r)}),r.canDeactivateChecks.push(new Sf(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class _v{}function Yc(i){return new gr.y(n=>n.error(i))}class Fb{constructor(n,r,a,l,h,m){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const n=Tf(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,pt);if(null===r)return null;const a=new La([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Wr(a,r),h=new $c(this.url,l);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(n){const r=n.value,a=Qo(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const h of Object.keys(r.children)){const m=r.children[h],w=cv(n,h),D=this.processSegmentGroup(w,m,h);if(null===D)return null;a.push(...D)}const l=hm(a);return l.sort((n,r)=>n.value.outlet===pt?-1:r.value.outlet===pt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,a,l){for(const h of n){const m=this.processSegmentAgainstRoute(h,r,a,l);if(null!==m)return m}return Db(r,a,l)?[]:null}processSegmentAgainstRoute(n,r,a,l){if(n.redirectTo||!um(n,r,a,l))return null;let h,m=[],w=[];if("**"===n.path){const U=a.length>0?Zu(a).parameters:{};h=new La(a,U,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(n),Ii(n),n.component,n,EA(r),vv(r)+a.length,Ev(n))}else{const U=Wc(r,n,a);if(!U.matched)return null;m=U.consumedSegments,w=a.slice(U.lastChild),h=new La(m,U.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(n),Ii(n),n.component,n,EA(r),vv(r)+m.length,Ev(n))}const D=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:x}=Tf(r,m,w,D.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);var i;if(0===x.length&&A.hasChildren()){const U=this.processChildren(D,A);return null===U?null:[new Wr(h,U)]}if(0===D.length&&0===x.length)return[new Wr(h,[])];const O=Ii(n)===l,H=this.processSegment(D,A,x,O?pt:l);return null===H?null:[new Wr(h,H)]}}function Lb(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function hm(i){const n=[],r=new Set;for(const a of i){if(!Lb(a)){n.push(a);continue}const l=n.find(h=>a.value.routeConfig===h.value.routeConfig);void 0!==l?(l.children.push(...a.children),r.add(l)):n.push(a)}for(const a of r){const l=hm(a.children);n.push(new Wr(a.value,l))}return n.filter(a=>!r.has(a))}function EA(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function vv(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function Vb(i){return i.data||{}}function Ev(i){return i.resolve||{}}function wv(i){return Fn(n=>{const r=i(n);return r?(0,$t.D)(r).pipe((0,ft.U)(()=>n)):(0,et.of)(n)})}class TA extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const fm=new g.OlP("ROUTES");class Bb{constructor(n,r,a,l){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,ft.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=h.create(n);return new zc(Gg(m.injector.get(fm,void 0,g.XFs.Self|g.XFs.Optional)).map(il),m)}),Is(h=>{throw r._loader$=void 0,h}));return r._loader$=new Oc.c(l,()=>new Es.xQ).pipe((0,Q_.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,$t.D)(this.loader.load(n)):zi(n()).pipe((0,nr.zg)(r=>r instanceof g.YKP?(0,et.of)(r):(0,$t.D)(this.compiler.compileModuleAsync(r))))}}class AA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qc,this.attachRef=null}}class Qc{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new AA,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class jb{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function Hb(i){throw i}function pm(i,n,r){return n.parse("/")}function Ki(i,n){return(0,et.of)(null)}const $b={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class i{constructor(r,a,l,h,m,w,D,A){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=l,this.location=h,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Es.xQ,this.errorHandler=Hb,this.malformedUriErrorHandler=pm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ki,afterPreactivation:Ki},this.urlHandlingStrategy=new jb,this.routeReuseStrategy=new TA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(g.h0i),this.console=m.get(g.c2e);const H=m.get(g.R0b);this.isNgZoneEnabled=H instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new Ts(new Nt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bb(w,D,U=>this.triggerEvent(new Lc(U)),U=>this.triggerEvent(new df(U))),this.routerState=vf(this.currentUrlTree,this.rootComponentType),this.transitions=new Gi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(xr(l=>0!==l.id),(0,ft.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Fn(l=>{let h=!1,m=!1;return(0,et.of)(l).pipe((0,Zn.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fn(w=>{const D=this.browserUrlTree.toString(),A=!this.navigated||w.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return Jc(w.source)&&(this.browserUrlTree=w.extractedUrl),(0,et.of)(w).pipe(Fn(O=>{const H=this.transitions.getValue();return a.next(new lf(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),H!==this.transitions.getValue()?qi.E:Promise.resolve(O)}),function(i,n,r,a){return Fn(l=>function(i,n,r,a,l){return new Rb(i,n,r,a,l).apply()}(i,n,r,l.extractedUrl,a).pipe((0,ft.U)(h=>Object.assign(Object.assign({},l),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(i,n,r,a,l){return(0,nr.zg)(h=>function(i,n,r,a,l="emptyOnly",h="legacy"){try{const m=new Fb(i,n,r,a,l,h).recognize();return null===m?Yc(new _v):(0,et.of)(m)}catch(m){return Yc(m)}}(i,n,h.urlAfterRedirects,r(h.urlAfterRedirects),a,l).pipe((0,ft.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const H=new io(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);a.next(H)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:U,source:te,restoredState:Se,extras:ke}=w,Ye=new lf(H,this.serializeUrl(U),te,Se);a.next(Ye);const mt=vf(U,this.rootComponentType).snapshot;return(0,et.of)(Object.assign(Object.assign({},w),{targetSnapshot:mt,urlAfterRedirects:U,extras:Object.assign(Object.assign({},ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),qi.E}),wv(w=>{const{targetSnapshot:D,id:A,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:U}}=w;return this.hooks.beforePreactivation(D,{navigationId:A,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!U})}),(0,Zn.b)(w=>{const D=new X_(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),(0,ft.U)(w=>Object.assign(Object.assign({},w),{guards:sl(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(i,n){return(0,nr.zg)(r=>{const{targetSnapshot:a,currentSnapshot:l,guards:{canActivateChecks:h,canDeactivateChecks:m}}=r;return 0===m.length&&0===h.length?(0,et.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,$t.D)(i).pipe((0,nr.zg)(l=>function(i,n,r,a,l){const h=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,et.of)(!0);const m=h.map(w=>{const D=Rf(w,n,l);let A;if(function(i){return i&&As(i.canDeactivate)}(D))A=zi(D.canDeactivate(i,n,r,a));else{if(!As(D))throw new Error("Invalid CanDeactivate guard");A=zi(D(i,n,r,a))}return A.pipe(oi())});return(0,et.of)(m).pipe(ci())}(l.component,l.route,r,n,a)),oi(l=>!0!==l,!0))}(m,a,l,i).pipe((0,nr.zg)(w=>w&&function(i){return"boolean"==typeof i}(w)?function(i,n,r,a){return(0,$t.D)(n).pipe(ri(l=>ws(function(i,n){return null!==i&&n&&n(new jg(i)),(0,et.of)(!0)}(l.route.parent,a),function(i,n){return null!==i&&n&&n(new Zo(i)),(0,et.of)(!0)}(l.route,a),function(i,n,r){const a=n[n.length-1],h=n.slice(0,n.length-1).reverse().map(m=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(m)).filter(m=>null!==m).map(m=>bs(()=>{const w=m.guards.map(D=>{const A=Rf(D,m.node,r);let x;if(function(i){return i&&As(i.canActivateChild)}(A))x=zi(A.canActivateChild(a,i));else{if(!As(A))throw new Error("Invalid CanActivateChild guard");x=zi(A(a,i))}return x.pipe(oi())});return(0,et.of)(w).pipe(ci())}));return(0,et.of)(h).pipe(ci())}(i,l.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,et.of)(!0);const l=a.map(h=>bs(()=>{const m=Rf(h,n,r);let w;if(function(i){return i&&As(i.canActivate)}(m))w=zi(m.canActivate(n,i));else{if(!As(m))throw new Error("Invalid CanActivate guard");w=zi(m(n,i))}return w.pipe(oi())}));return(0,et.of)(l).pipe(ci())}(i,l.route,r))),oi(l=>!0!==l,!0))}(a,h,i,n):(0,et.of)(w)),(0,ft.U)(w=>Object.assign(Object.assign({},r),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,Zn.b)(w=>{if(Zr(w.guardsResult)){const A=so(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw A.url=w.guardsResult,A}const D=new Bg(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(D)}),xr(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),wv(w=>{if(w.guards.canActivateChecks.length)return(0,et.of)(w).pipe((0,Zn.b)(D=>{const A=new _b(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}),Fn(D=>{let A=!1;return(0,et.of)(D).pipe(function(i,n){return(0,nr.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,et.of)(r);let h=0;return(0,$t.D)(l).pipe(ri(m=>function(i,n,r,a){return function(i,n,r,a){const l=Object.keys(i);if(0===l.length)return(0,et.of)({});const h={};return(0,$t.D)(l).pipe((0,nr.zg)(m=>function(i,n,r,a){const l=Rf(i,n,a);return zi(l.resolve?l.resolve(n,r):l(n,r))}(i[m],n,r,a).pipe((0,Zn.b)(w=>{h[m]=w}))),af(1),(0,nr.zg)(()=>Object.keys(h).length===l.length?(0,et.of)(h):qi.E))}(i._resolve,i,n,a).pipe((0,ft.U)(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),Qo(i,r).resolve),null)))}(m.route,a,i,n)),(0,Zn.b)(()=>h++),af(1),(0,nr.zg)(m=>h===l.length?(0,et.of)(r):qi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,Zn.b)(D=>{const A=new Pa(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}))}),wv(w=>{const{targetSnapshot:D,id:A,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:U}}=w;return this.hooks.afterPreactivation(D,{navigationId:A,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!U})}),(0,ft.U)(w=>{const D=function(i,n,r){const a=nl(i,n._root,r?r._root:void 0);return new tl(a,n)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:D})}),(0,Zn.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((i,n,r)=>(0,ft.U)(a=>(new If(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,Zn.b)({next(){h=!0},complete(){h=!0}}),function(i){return n=>n.lift(new Ug(i))}(()=>{if(!h&&!m){const w=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,w)):this.cancelNavigationTransition(l,w)}this.currentNavigation=null}),Is(w=>{if(m=!0,function(i){return i&&i[ai]}(w)){const D=Zr(w.url);D||(this.navigated=!0,this.restoreHistory(l,!0));const A=new Wo(l.id,this.serializeUrl(l.extractedUrl),w.message);a.next(A),D?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),O={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jc(l.source)};this.scheduleNavigation(x,"imperative",null,O,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const D=new cf(l.id,this.serializeUrl(l.extractedUrl),w);a.next(D);try{l.resolve(this.errorHandler(w))}catch(A){l.reject(A)}}return qi.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:l,state:h,urlTree:m}=a,w={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(w.state=D)}this.scheduleNavigation(m,l,h,w)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const l=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!l||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){sm(r),this.config=r.map(il),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:l,queryParams:h,fragment:m,queryParamsHandling:w,preserveFragment:D}=a,A=l||this.routerState.root,x=D?this.currentUrlTree.fragment:m;let O=null;switch(w){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=h||null}return null!==O&&(O=this.removeEmptyProps(O)),function(i,n,r,a,l){if(0===r.length)return y(n.root,n.root,n,a,l);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new C(!0,0,i);let n=0,r=!1;const a=i.reduce((l,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const w={};return Kn(h.outlets,(D,A)=>{w[A]="string"==typeof D?D.split("/"):D}),[...l,{outlets:w}]}if(h.segmentPath)return[...l,h.segmentPath]}return"string"!=typeof h?[...l,h]:0===m?(h.split("/").forEach((w,D)=>{0==D&&"."===w||(0==D&&""===w?r=!0:".."===w?n++:""!=w&&l.push(w))}),l):[...l,h]},[]);return new C(r,n,a)}(r);if(h.toRoot())return y(n.root,new Nt([],{}),n,a,l);const m=function(i,n,r){if(i.isAbsolute)return new M(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const h=r.snapshot._urlSegment;return new M(h,h===n.root,0)}const a=rl(i.commands[0])?0:1;return function(i,n,r){let a=i,l=n,h=r;for(;h>l;){if(h-=l,a=a.parent,!a)throw new Error("Invalid number of '../'");l=a.segments.length}return new M(a,!1,l-h)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(h,n,i),w=m.processChildren?rt(m.segmentGroup,m.index,h.commands):qe(m.segmentGroup,m.index,h.commands);return y(m.segmentGroup,w,n,a,l)}(A,this.currentUrlTree,r,O,null!=x?x:null)}navigateByUrl(r,a={skipLocationChange:!1}){const l=Zr(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(l){a=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return a}isActive(r,a){let l;if(l=!0===a?Object.assign({},$b):!1===a?Object.assign({},SA):a,Zr(r))return oo(this.currentUrlTree,r,l);const h=this.parseUrl(r);return oo(this.currentUrlTree,h,l)}removeEmptyProps(r){return Object.keys(r).reduce((a,l)=>{const h=r[l];return null!=h&&(a[l]=h),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Wu(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,l,h,m){var w,D;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),x=Jc(a)&&A&&!Jc(A.source),U=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===r.toString();if(x&&U)return Promise.resolve(!0);let te,Se,ke;m?(te=m.resolve,Se=m.reject,ke=m.promise):ke=new Promise((st,dt)=>{te=st,Se=dt});const Ye=++this.navigationId;let mt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),mt=l&&l.\u0275routerPageId?l.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):mt=0,this.setTransition({id:Ye,targetPageId:mt,source:a,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:h,resolve:te,reject:Se,promise:ke,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ke.catch(st=>Promise.reject(st))}setBrowserUrl(r,a){const l=this.urlSerializer.serialize(r),h=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(l)||a.extras.replaceUrl?this.location.replaceState(l,"",h):this.location.go(l,"",h)}restoreHistory(r,a=!1){var l,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const l=new Wo(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.DyG),g.LFG(zg),g.LFG(Qc),g.LFG(Ue),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function Jc(i){return"imperative"!==i}let gm=(()=>{class i{constructor(r,a,l,h,m){this.router=r,this.route=a,this.commands=[],this.onChanges=new Es.xQ,null==l&&h.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(r){this.onChanges.next(this)}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}onClick(){const r={skipLocationChange:xf(this.skipLocationChange),replaceUrl:xf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xf(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Yn),g.Y36(In),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,a){1&r&&g.NdJ("click",function(){return a.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),i})(),Xc=(()=>{class i{constructor(r,a,l){this.router=r,this.route=a,this.locationStrategy=l,this.commands=[],this.onChanges=new Es.xQ,this.subscription=r.events.subscribe(h=>{h instanceof Wu&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,a,l,h,m){if(0!==r||a||l||h||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const w={skipLocationChange:xf(this.skipLocationChange),replaceUrl:xf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xf(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Yn),g.Y36(In),g.Y36(X))},i.\u0275dir=g.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,a){1&r&&g.NdJ("click",function(h){return a.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&r&&(g.Ikx("href",a.href,g.LSH),g.uIk("target",a.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),i})();function xf(i){return""===i||!!i}let bv=(()=>{class i{constructor(r,a,l,h,m,w){this.router=r,this.element=a,this.renderer=l,this.cdr=h,this.link=m,this.linkWithHref=w,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=r.events.subscribe(D=>{D instanceof Wu&&this.update()})}ngAfterContentInit(){(0,et.of)(this.links.changes,this.linksWithHrefs.changes,(0,et.of)(null)).pipe((0,$o.J)()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var r;null===(r=this.linkInputChangesSubscription)||void 0===r||r.unsubscribe();const a=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,$t.D)(a).pipe((0,$o.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(r){const a=Array.isArray(r)?r:r.split(" ");this.classes=a.filter(l=>!!l)}ngOnChanges(r){this.update()}ngOnDestroy(){var r;this.routerEventsSubscription.unsubscribe(),null===(r=this.linkInputChangesSubscription)||void 0===r||r.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const r=this.hasActiveLinks();this.isActive!==r&&(this.isActive=r,this.cdr.markForCheck(),this.classes.forEach(a=>{r?this.renderer.addClass(this.element.nativeElement,a):this.renderer.removeClass(this.element.nativeElement,a)}))})}isLinkActive(r){const a=function(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>r.isActive(l.urlTree,a)}hasActiveLinks(){const r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.linkWithHref&&r(this.linkWithHref)||this.links.some(r)||this.linksWithHrefs.some(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Yn),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(gm,8),g.Y36(Xc,8))},i.\u0275dir=g.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(r,a,l){if(1&r&&(g.Suo(l,gm,5),g.Suo(l,Xc,5)),2&r){let h;g.iGM(h=g.CRH())&&(a.links=h),g.iGM(h=g.CRH())&&(a.linksWithHrefs=h)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[g.TTD]}),i})(),Rs=(()=>{class i{constructor(r,a,l,h,m){this.parentContexts=r,this.location=a,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=h||pt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,D=new mm(r,w,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Qc),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},i.\u0275dir=g.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class mm{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===In?this.route:n===Qc?this.childContexts:this.parent.get(n,r)}}class Nf{}class RA{preload(n,r){return(0,et.of)(null)}}let Gb=(()=>{class i{constructor(r,a,l,h,m){this.router=r,this.injector=h,this.preloadingStrategy=m,this.loader=new Bb(a,l,A=>r.triggerEvent(new Lc(A)),A=>r.triggerEvent(new df(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(xr(r=>r instanceof Wu),ri(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(g.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const l=[];for(const h of a)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?l.push(this.preloadConfig(r,h)):h.children&&l.push(this.processRoutes(r,h.children));return(0,$t.D)(l).pipe((0,$o.J)(),(0,ft.U)(h=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,et.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,nr.zg)(h=>(a._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Yn),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Nf))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),ym=(()=>{class i{constructor(r,a,l={}){this.router=r,this.viewportScroller=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof lf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Wu&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof tv&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new tv(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Yn),g.LFG(bu),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const ol=new g.OlP("ROUTER_CONFIGURATION"),xA=new g.OlP("ROUTER_FORROOT_GUARD"),zb=[Ue,{provide:zg,useClass:ov},{provide:Yn,useFactory:function(i,n,r,a,l,h,m,w={},D,A){const x=new Yn(null,i,n,r,a,l,h,Gg(m));return D&&(x.urlHandlingStrategy=D),A&&(x.routeReuseStrategy=A),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(w,x),w.enableTracing&&x.events.subscribe(O=>{var H,U;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(U=console.groupEnd)||void 0===U||U.call(console)}),x},deps:[zg,Qc,Ue,g.zs3,g.v3s,g.Sil,fm,ol,[class{},new g.FiY],[class{},new g.FiY]]},Qc,{provide:In,useFactory:function(i){return i.routerState.root},deps:[Yn]},{provide:g.v3s,useClass:g.EAV},Gb,RA,class{preload(n,r){return r().pipe(Is(()=>(0,et.of)(null)))}},{provide:ol,useValue:{enableTracing:!1}}];function NA(){return new g.PXZ("Router",Yn)}let _m=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[zb,MA(r),{provide:xA,useFactory:fN,deps:[[Yn,new g.FiY,new g.tp0]]},{provide:ol,useValue:a||{}},{provide:X,useFactory:hN,deps:[fe,[new g.tBr(Ne),new g.FiY],ol]},{provide:ym,useFactory:dN,deps:[Yn,bu,ol]},{provide:Nf,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:RA},{provide:g.PXZ,multi:!0,useFactory:NA},[Wb,{provide:g.ip1,multi:!0,useFactory:yN,deps:[Wb]},{provide:OA,useFactory:_N,deps:[Wb]},{provide:g.tb,multi:!0,useExisting:OA}]]}}static forChild(r){return{ngModule:i,providers:[MA(r)]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(xA,8),g.LFG(Yn,8))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();function dN(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new ym(i,n,r)}function hN(i,n,r={}){return r.useHash?new Ve(i,n):new Ae(i,n)}function fN(i){return"guarded"}function MA(i){return[{provide:g.deG,multi:!0,useValue:i},{provide:fm,multi:!0,useValue:i}]}let Wb=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Es.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const l=new Promise(w=>a=w),h=this.injector.get(Yn),m=this.injector.get(ol);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),a(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,et.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),h.initialNavigation()):a(!0),l})}bootstrapListener(r){const a=this.injector.get(ol),l=this.injector.get(Gb),h=this.injector.get(ym),m=this.injector.get(Yn),w=this.injector.get(g.z2F);r===w.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),h.init(),m.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function yN(i){return i.appInitializer.bind(i)}function _N(i){return i.bootstrapListener.bind(i)}const OA=new g.OlP("Router Initializer");let ed=(()=>{class i{constructor(){}storeData(r,a){localStorage.setItem(r,a)}getData(r){return localStorage.getItem(r)}removeData(r){localStorage.removeItem(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Iv=(()=>{class i{constructor(r,a){this.route=r,this.ls=a}canActivate(r,a){return null===this.ls.getData("useremail")||(this.route.navigate(["/"]),!1)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Yn),g.LFG(ed))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Mf=(()=>{class i{constructor(r){this.httpData=r,this.apiPath="https://doctorapp-324906-default-rtdb.firebaseio.com/"}getData(r){return this.httpData.get(this.apiPath+r)}postData(r,a){return this.httpData.post(this.apiPath+r,a)}updateData(r,a){return this.httpData.put(this.apiPath+r,a)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(j_))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Kb(i,n){1&i&&(g.TgZ(0,"div"),g._uU(1," No appointments for today\n"),g.qZA())}function Dv(i,n){if(1&i&&(g.TgZ(0,"div",3),g.TgZ(1,"div",4),g.TgZ(2,"div",5),g._uU(3),g.qZA(),g.TgZ(4,"div",6),g.TgZ(5,"blockquote",7),g.TgZ(6,"p"),g._uU(7),g.qZA(),g.TgZ(8,"p"),g._uU(9),g.qZA(),g.TgZ(10,"p"),g._uU(11),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i){const r=n.$implicit;g.xp6(3),g.hij(" Name : ",r.patientName," "),g.xp6(4),g.hij("Mobile Number : ",r.mobile,""),g.xp6(2),g.hij("Date : ",r.slotDate,""),g.xp6(2),g.hij("Time : ",r.slotTime,"")}}function PA(i,n){if(1&i&&(g.TgZ(0,"div"),g.TgZ(1,"h2"),g._uU(2,"All bookings"),g.qZA(),g.TgZ(3,"div",1),g.YNc(4,Dv,12,4,"div",2),g.qZA(),g.qZA()),2&i){const r=g.oxw();g.xp6(4),g.Q6J("ngForOf",r.appointmentList)}}let Ha=(()=>{class i{constructor(r,a){this.crud=r,this.ls=a}ngOnInit(){this.userid=this.ls.getData("userid"),this.crud.getData(`bookingInfo?docId=${this.userid}`).subscribe(r=>{r>0?this.bookedSlot=!1:(this.appointmentList=r,this.appointmentList.sort((a,l)=>a.slotDate-l.slotDate),this.bookedSlot=!0)},r=>{})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Mf),g.Y36(ed))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-appointments"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],["class","col-sm-4",4,"ngFor","ngForOf"],[1,"col-sm-4"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"blockquote","mb-0"]],template:function(r,a){1&r&&(g.YNc(0,Kb,2,0,"div",0),g.YNc(1,PA,5,1,"div",0)),2&r&&(g.Q6J("ngIf",!a.bookedSlot),g.xp6(1),g.Q6J("ngIf",a.bookedSlot))},directives:[ji,Bi],styles:["p[_ngcontent-%COMP%]{font-size:13px}p[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]}),i})();var Yb=L(1555);function Tv(i,n){return new gr.y(r=>{const a=i.length;if(0===a)return void r.complete();const l=new Array(a);let h=0,m=0;for(let w=0;w<a;w++){const D=(0,$t.D)(i[w]);let A=!1;r.add(D.subscribe({next:x=>{A||(A=!0,m++),l[w]=x},error:x=>r.error(x),complete:()=>{h++,(h===a||!A)&&(m===a&&r.next(n?n.reduce((x,O,H)=>(x[O]=l[H],x),{}):l),r.complete())}}))}})}let vm=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i}),i})(),al=(()=>{class i extends vm{}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();const xs=new g.OlP("NgValueAccessor"),Of={provide:xs,useExisting:(0,g.Gpc)(()=>uo),multi:!0},Av=new g.OlP("CompositionEventMode");let uo=(()=>{class i extends vm{constructor(r,a,l){super(r,a),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=B()?B().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Av,8))},i.\u0275dir=g.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&g.NdJ("input",function(h){return a._handleInput(h.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(h){return a._compositionEnd(h.target.value)})},features:[g._Bn([Of]),g.qOj]}),i})();function Yi(i){return null==i||0===i.length}function ul(i){return null!=i&&"number"==typeof i.length}const Mr=new g.OlP("NgValidators"),ea=new g.OlP("NgAsyncValidators"),Jb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Dn{static min(n){return function(i){return n=>{if(Yi(n.value)||Yi(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(Yi(n.value)||Yi(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return function(i){return Yi(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return Yi(i.value)||Jb.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function(i){return n=>Yi(n.value)||!ul(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(i){return n=>ul(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(i){if(!i)return $a;let n,r;return"string"==typeof i?(r="","^"!==i.charAt(0)&&(r+="^"),r+=i,"$"!==i.charAt(i.length-1)&&(r+="$"),n=new RegExp(r)):(r=i.toString(),n=i),a=>{if(Yi(a.value))return null;const l=a.value;return n.test(l)?null:{pattern:{requiredPattern:r,actualValue:l}}}}(n)}static nullValidator(n){return null}static compose(n){return UA(n)}static composeAsync(n){return Ov(n)}}function $a(i){return null}function Mv(i){return null!=i}function eC(i){const n=(0,g.QGY)(i)?(0,$t.D)(i):i;return(0,g.CqO)(n),n}function tC(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function di(i,n){return n.map(r=>r(i))}function nC(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function UA(i){if(!i)return null;const n=i.filter(Mv);return 0==n.length?null:function(r){return tC(di(r,n))}}function rC(i){return null!=i?UA(nC(i)):null}function Ov(i){if(!i)return null;const n=i.filter(Mv);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,Wn.k)(n))return Tv(n,null);if((0,Yb.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return Tv(r.map(a=>n[a]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return Tv(i=1===i.length&&(0,Wn.k)(i[0])?i[0]:i,null).pipe((0,ft.U)(r=>n(...r)))}return Tv(i,null)}(di(r,n).map(eC)).pipe((0,ft.U)(tC))}}function iC(i){return null!=i?Ov(nC(i)):null}function sC(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function wm(i){return i._rawValidators}function Pv(i){return i._rawAsyncValidators}function kv(i){return i?Array.isArray(i)?i:[i]:[]}function bm(i,n){return Array.isArray(i)?i.includes(n):i===n}function oC(i,n){const r=kv(n);return kv(i).forEach(l=>{bm(r,l)||r.push(l)}),r}function Fv(i,n){return kv(n).filter(r=>!bm(i,r))}let aC=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=rC(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=iC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i}),i})(),Or=(()=>{class i extends aC{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();class Ga extends aC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uC{constructor(n){this._cd=n}is(n){var r,a,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===l?void 0:l[n])}}let Lv=(()=>{class i extends uC{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Ga,2))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&g.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[g.qOj]}),i})(),Qi=(()=>{class i extends uC{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Or,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){2&r&&g.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))("ng-submitted",a.is("submitted"))},features:[g.qOj]}),i})();function Ff(i,n){Vv(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&fC(i,n)})}(i,n),function(i,n){const r=(a,l)=>{n.valueAccessor.writeValue(a),l&&n.viewToModelUpdate(a)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&fC(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function rd(i,n,r=!0){const a=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(a),n.valueAccessor.registerOnTouched(a)),Dm(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function id(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Vv(i,n){const r=wm(i);null!==n.validator?i.setValidators(sC(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const a=Pv(i);null!==n.asyncValidator?i.setAsyncValidators(sC(a,n.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const l=()=>i.updateValueAndValidity();id(n._rawValidators,l),id(n._rawAsyncValidators,l)}function Dm(i,n){let r=!1;if(null!==i){if(null!==n.validator){const l=wm(i);if(Array.isArray(l)&&l.length>0){const h=l.filter(m=>m!==n.validator);h.length!==l.length&&(r=!0,i.setValidators(h))}}if(null!==n.asyncValidator){const l=Pv(i);if(Array.isArray(l)&&l.length>0){const h=l.filter(m=>m!==n.asyncValidator);h.length!==l.length&&(r=!0,i.setAsyncValidators(h))}}}const a=()=>{};return id(n._rawValidators,a),id(n._rawAsyncValidators,a),r}function fC(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Hv(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const sd="VALID",qa="INVALID",lo="PENDING",Vf="DISABLED";function Am(i){return(Uf(i)?i.validators:i)||null}function _C(i){return Array.isArray(i)?rC(i):i||null}function Sm(i,n){return(Uf(n)?n.asyncValidators:i)||null}function vC(i){return Array.isArray(i)?iC(i):i||null}function Uf(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Gv{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=_C(this._rawValidators),this._composedAsyncValidatorFn=vC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===sd}get invalid(){return this.status===qa}get pending(){return this.status==lo}get disabled(){return this.status===Vf}get enabled(){return this.status!==Vf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=_C(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=vC(n)}addValidators(n){this.setValidators(oC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(oC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Fv(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Fv(n,this._rawAsyncValidators))}hasValidator(n){return bm(this._rawValidators,n)}hasAsyncValidator(n){return bm(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=lo,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Vf,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=sd,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sd||this.status===lo)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vf:sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=lo,this._hasOwnPendingAsyncValidator=!0;const r=eC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let a=i;return n.forEach(l=>{a=a instanceof ad?a.controls.hasOwnProperty(l)?a.controls[l]:null:a instanceof za&&a.at(l)||null}),a}(this,n)}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Vf:this.errors?qa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lo)?lo:this._anyControlsHaveStatus(qa)?qa:sd}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Uf(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class od extends Gv{constructor(n=null,r,a){super(Am(r),Sm(a,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Hv(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Hv(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class ad extends Gv{constructor(n,r,a){super(Am(r),Sm(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=r instanceof od?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((l,h)=>{a=r(a,l,h)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class za extends Gv{constructor(n,r,a){super(Am(r),Sm(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((a,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,l)=>{this.at(l)&&this.at(l).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof od?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let jf=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const WA={provide:xs,useExisting:(0,g.Gpc)(()=>Rm),multi:!0};let Wv=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})(),CC=(()=>{class i{constructor(){this._accessors=[]}add(r,a){this._accessors.push([r,a])}remove(r){for(let a=this._accessors.length-1;a>=0;--a)if(this._accessors[a][1]===r)return void this._accessors.splice(a,1)}select(r){this._accessors.forEach(a=>{this._isSameGroup(a,r)&&a[1]!==r&&a[1].fireUncheck(r.value)})}_isSameGroup(r,a){return!!r[0].control&&r[0]._parent===a._control._parent&&r[1].name===a.name}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:function(){return new i},token:i,providedIn:Wv}),i})(),Rm=(()=>{class i extends al{constructor(r,a,l,h){super(r,a),this._registry=l,this._injector=h,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ga),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}fireUncheck(r){this.writeValue(r)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(CC),g.Y36(g.zs3))},i.\u0275dir=g.lG2({type:i,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,a){1&r&&g.NdJ("change",function(){return a.onChange()})("blur",function(){return a.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[g._Bn([WA]),g.qOj]}),i})();const Zv=new g.OlP("NgModelWithFormControlWarning"),TC={provide:Or,useExisting:(0,g.Gpc)(()=>ud)};let ud=(()=>{class i extends Or{constructor(r,a){super(),this.validators=r,this.asyncValidators=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(r),this._setAsyncValidators(a)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const a=this.form.get(r.path);return Ff(a,r),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),a}getControl(r){return this.form.get(r.path)}removeControl(r){rd(r.control||null,r,!1),Hv(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,a){this.form.get(r.path).setValue(a)}onSubmit(r){return this.submitted=!0,function(i,n){i._syncPendingControls(),n.forEach(r=>{const a=r.control;"submit"===a.updateOn&&a._pendingChange&&(r.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const a=r.control,l=this.form.get(r.path);a!==l&&(rd(a||null,r),l instanceof od&&(Ff(l,r),r.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const a=this.form.get(r.path);(function(i,n){Vv(i,n)})(a,r),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const a=this.form.get(r.path);a&&function(i,n){return Dm(i,n)}(a,r)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vv(this.form,this),this._oldForm&&Dm(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Mr,10),g.Y36(ea,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,a){1&r&&g.NdJ("submit",function(h){return a.onSubmit(h)})("reset",function(){return a.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([TC]),g.qOj,g.TTD]}),i})();const KA={provide:Ga,useExisting:(0,g.Gpc)(()=>$f)};let $f=(()=>{class i extends Ga{constructor(r,a,l,h,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(a),this._setAsyncValidators(l),this.valueAccessor=function(i,n){if(!n)return null;let r,a,l;return Array.isArray(n),n.forEach(h=>{h.constructor===uo?r=h:function(i){return Object.getPrototypeOf(i.constructor)===al}(h)?a=h:l=h}),l||a||r||null}(0,h)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function(i,n){return[...n.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Or,13),g.Y36(Mr,10),g.Y36(ea,10),g.Y36(xs,10),g.Y36(Zv,8))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([KA]),g.qOj,g.TTD]}),i._ngModelWarningSentOnce=!1,i})();const xN={provide:xs,useExisting:(0,g.Gpc)(()=>Mm),multi:!0};function Yv(i,n){return null==i?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${i}: ${n}`.slice(0,50))}let Mm=(()=>{class i extends al{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const a=this._getOptionId(r);null==a&&this.setProperty("selectedIndex",-1);const l=Yv(a,r);this.setProperty("value",l)}registerOnChange(r){this.onChange=a=>{this.value=this._getOptionValue(a),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const a of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(a),r))return a;return null}_getOptionValue(r){const a=function(i){return i.split(":")[0]}(r);return this._optionMap.has(a)?this._optionMap.get(a):r}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,a){1&r&&g.NdJ("change",function(h){return a.onChange(h.target.value)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([xN]),g.qOj]}),i})(),QA=(()=>{class i{constructor(r,a,l){this._element=r,this._renderer=a,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(Yv(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Mm,9))},i.\u0275dir=g.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const NN={provide:xs,useExisting:(0,g.Gpc)(()=>Pm),multi:!0};function Om(i,n){return null==i?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${i}: ${n}`.slice(0,50))}let Pm=(()=>{class i extends al{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let a;if(this.value=r,Array.isArray(r)){const l=r.map(h=>this._getOptionId(h));a=(h,m)=>{h._setSelected(l.indexOf(m.toString())>-1)}}else a=(l,h)=>{l._setSelected(!1)};this._optionMap.forEach(a)}registerOnChange(r){this.onChange=a=>{const l=[];if(void 0!==a.selectedOptions){const h=a.selectedOptions;for(let m=0;m<h.length;m++){const w=h.item(m),D=this._getOptionValue(w.value);l.push(D)}}else{const h=a.options;for(let m=0;m<h.length;m++){const w=h.item(m);if(w.selected){const D=this._getOptionValue(w.value);l.push(D)}}}this.value=l,r(l)}}_registerOption(r){const a=(this._idCounter++).toString();return this._optionMap.set(a,r),a}_getOptionId(r){for(const a of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(a)._value,r))return a;return null}_getOptionValue(r){const a=function(i){return i.split(":")[0]}(r);return this._optionMap.has(a)?this._optionMap.get(a)._value:r}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,a){1&r&&g.NdJ("change",function(h){return a.onChange(h.target)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([NN]),g.qOj]}),i})(),eS=(()=>{class i{constructor(r,a,l){this._element=r,this._renderer=a,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(Om(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Om(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Pm,9))},i.\u0275dir=g.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})(),nE=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[Wv]]}),i})(),ld=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:Zv,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[nE]}),i})(),FC=(()=>{class i{group(r,a=null){const l=this._reduceControls(r);let w,h=null,m=null;return null!=a&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(a)?(h=null!=a.validators?a.validators:null,m=null!=a.asyncValidators?a.asyncValidators:null,w=null!=a.updateOn?a.updateOn:void 0):(h=null!=a.validator?a.validator:null,m=null!=a.asyncValidator?a.asyncValidator:null)),new ad(l,{asyncValidators:m,updateOn:w,validators:h})}control(r,a,l){return new od(r,a,l)}array(r,a,l){const h=r.map(m=>this._createControl(m));return new za(h,a,l)}_reduceControls(r){const a={};return Object.keys(r).forEach(l=>{a[l]=this._createControl(r[l])}),a}_createControl(r){return r instanceof od||r instanceof ad||r instanceof za?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:function(){return new i},token:i,providedIn:ld}),i})();function fo(i,n){1&i&&(g.TgZ(0,"small",26),g._uU(1,"Patient Name is required"),g.qZA())}function qf(i,n){1&i&&(g.TgZ(0,"small",26),g._uU(1,"Mobile number required"),g.qZA())}function Pr(i,n){if(1&i&&(g.TgZ(0,"option",27),g._uU(1),g.qZA()),2&i){const r=n.$implicit;g.s9C("value",r.id),g.xp6(1),g.Oqu(r.fullName)}}function ll(i,n){1&i&&(g.TgZ(0,"small",26),g._uU(1,"Please Select Doctor"),g.qZA())}function km(i,n){1&i&&(g.TgZ(0,"small",26),g._uU(1,"Please Select Date"),g.qZA())}function Xi(i,n){1&i&&(g.TgZ(0,"small",26),g._uU(1,"Please Select Time"),g.qZA())}function rE(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"form",2),g.NdJ("ngSubmit",function(l){g.CHM(r);const h=g.MAs(10),m=g.MAs(17),w=g.MAs(23),D=g.MAs(32),A=g.MAs(38);return g.oxw().bookNow(l,h.value,m.value,w.value,D.value,A.value)}),g.TgZ(1,"div",3),g.TgZ(2,"div",4),g.TgZ(3,"h3",5),g._uU(4,"Book your appointment now."),g.qZA(),g.qZA(),g._UZ(5,"div",6),g.TgZ(6,"div",4),g.TgZ(7,"label"),g._uU(8,"Enter Patient Name"),g.qZA(),g._UZ(9,"input",7,8),g.YNc(11,fo,2,0,"small",9),g.qZA(),g.TgZ(12,"div",4),g.TgZ(13,"div",10),g.TgZ(14,"label",11),g._uU(15,"Mobile Number"),g.qZA(),g._UZ(16,"input",12,13),g.YNc(18,qf,2,0,"small",9),g.qZA(),g.qZA(),g.TgZ(19,"div",4),g.TgZ(20,"label"),g._uU(21,"Select Doctor"),g.qZA(),g.TgZ(22,"select",14,15),g.TgZ(24,"option",16),g._uU(25,"Select"),g.qZA(),g.YNc(26,Pr,2,2,"option",17),g.qZA(),g.YNc(27,ll,2,0,"small",9),g.qZA(),g.TgZ(28,"div",4),g.TgZ(29,"label"),g._uU(30,"Select Date"),g.qZA(),g._UZ(31,"input",18,19),g.YNc(33,km,2,0,"small",9),g.qZA(),g.TgZ(34,"div",4),g.TgZ(35,"label"),g._uU(36,"Select Time"),g.qZA(),g.TgZ(37,"select",20,21),g.TgZ(39,"option",16),g._uU(40,"Select"),g.qZA(),g.TgZ(41,"option",22),g._uU(42,"10:00 AM to 11:00 AM"),g.qZA(),g.TgZ(43,"option",23),g._uU(44,"11:00 AM to 12:00 PM"),g.qZA(),g.TgZ(45,"option",24),g._uU(46,"12:00 PM to 01:00 PM"),g.qZA(),g.qZA(),g.YNc(47,Xi,2,0,"small",9),g.qZA(),g.TgZ(48,"div",4),g.TgZ(49,"button",25),g._uU(50,"Book Now"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&i){const r=g.oxw();g.Q6J("formGroup",r.bookingForm),g.xp6(11),g.Q6J("ngIf",r.bookingForm.controls.patientName.invalid&&(r.bookingForm.controls.patientName.dirty||r.bookingForm.controls.patientName.touched)),g.xp6(7),g.Q6J("ngIf",r.bookingForm.controls.mobile.invalid&&(r.bookingForm.controls.mobile.dirty||r.bookingForm.controls.mobile.touched)),g.xp6(8),g.Q6J("ngForOf",r.doctorList),g.xp6(1),g.Q6J("ngIf",r.bookingForm.controls.selectDoctor.invalid&&(r.bookingForm.controls.selectDoctor.dirty||r.bookingForm.controls.selectDoctor.touched)),g.xp6(6),g.Q6J("ngIf",r.bookingForm.controls.slotDate.invalid&&(r.bookingForm.controls.slotDate.dirty||r.bookingForm.controls.slotDate.touched)),g.xp6(14),g.Q6J("ngIf",r.bookingForm.controls.slotDate.invalid&&(r.bookingForm.controls.slotDate.dirty||r.bookingForm.controls.slotDate.touched)),g.xp6(2),g.Q6J("disabled",!r.bookingForm.valid)}}function cd(i,n){if(1&i&&(g.TgZ(0,"div",32),g.TgZ(1,"div",33),g.TgZ(2,"div",34),g._uU(3),g.qZA(),g.TgZ(4,"div",35),g.TgZ(5,"blockquote",36),g.TgZ(6,"p"),g._uU(7),g.qZA(),g.TgZ(8,"p"),g._uU(9),g.ALo(10,"date"),g.qZA(),g.TgZ(11,"p"),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i){const r=n.$implicit;g.xp6(3),g.hij(" Name : ",r.patientName," "),g.xp6(4),g.hij("Mobile Number : ",r.mobile,""),g.xp6(2),g.hij("Date : ",g.lcZ(10,4,r.slotDate),""),g.xp6(3),g.hij("Time : ",r.slotTime,"")}}function dd(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"div",28),g.YNc(1,cd,13,6,"div",29),g._UZ(2,"div",30),g.TgZ(3,"div",4),g._uU(4," For new booking, Please click here. "),g.TgZ(5,"button",31),g.NdJ("click",function(){return g.CHM(r),g.oxw().newBooking()}),g._uU(6,"Click Here"),g.qZA(),g.qZA(),g.qZA()}if(2&i){const r=g.oxw();g.xp6(1),g.Q6J("ngForOf",r.bookingList)}}let hd=(()=>{class i{constructor(r,a,l){this.crud=r,this.ls=a,this.fb=l,this.doctorList=[],this.bookingList=[],this.msg="",this.bookedDocName=[],this.bookingForm=this.fb.group({patientName:["",Dn.required],mobile:["",[Dn.required,Dn.minLength(10),Dn.maxLength(10)]],selectDoctor:["",Dn.required],slotDate:["",Dn.required],slotTime:["",Dn.required]})}loadDocotrs(){this.crud.getData("usersInfo?doctororpatient=Doctor").subscribe(r=>{this.doctorList=r},r=>{})}fetchBooking(){var r=this.ls.getData("useremail");this.crud.getData(`bookingInfo?bookedUserEmail=${r}`).subscribe(a=>{a>0?this.bookForm=!0:(this.bookingList=a,this.bookForm=!1)},a=>{})}newBooking(){this.bookForm=!0}bookNow(r,a,l,h,m,w){r.preventDefault();var A={patientName:a,mobile:l,docId:h,slotDate:m,slotTime:w,bookedUserEmail:this.ls.getData("useremail")};""===a||""===l||""===h||""===m||""===w?console.log(A):this.crud.getData(`bookingInfo?docId=${A.docId}&slotDate=${A.slotDate}&slotTime=${A.slotTime}`).subscribe(x=>{x.length>0?this.msg="Please select another booking date and time":(this.crud.postData("bookingInfo",A).subscribe(O=>{console.log(O)},O=>{console.log(O)}),this.bookingForm.reset(),this.bookForm=!1,this.msg=`Your Booking Date is ${A.slotDate} and Time is ${A.slotTime}`)},x=>{this.msg=x})}ngOnInit(){this.loadDocotrs(),this.fetchBooking()}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Mf),g.Y36(ed),g.Y36(FC))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-book-appointment"]],decls:4,vars:3,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],["class","row",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-center",2,"width","50%"],[1,"col-12"],[1,"mb-3"],[1,"w-100"],["type","text","formControlName","patientName",1,"form-control"],["patientName",""],["class","text-danger",4,"ngIf"],[1,"form-group"],["for",""],["type","text","placeholder","Mobile","formControlName","mobile",1,"form-control"],["mobile",""],["formControlName","selectDoctor",1,"form-control"],["selectDoctor",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","slotDate","type","date",1,"form-control"],["slotDate",""],["formControlName","slotTime",1,"form-control"],["slotTime",""],["value","10:00 AM to 11:00 AM"],["value","11:00 AM to 12:00 PM"],["value","12:00 PM to 01:00 PM"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"],[3,"value"],[1,"row"],["class","col-sm-4",4,"ngFor","ngForOf"],[1,"w-100","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"col-sm-4"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"blockquote","mb-0"]],template:function(r,a){1&r&&(g.YNc(0,rE,51,8,"form",0),g.TgZ(1,"p"),g._uU(2),g.qZA(),g.YNc(3,dd,7,1,"div",1)),2&r&&(g.Q6J("ngIf",a.bookForm),g.xp6(2),g.Oqu(a.msg),g.xp6(1),g.Q6J("ngIf",!a.bookForm))},directives:[ji,jf,Qi,ud,uo,Lv,$f,Mm,QA,eS,Bi],pipes:[A_],styles:["p[_ngcontent-%COMP%]{font-size:13px}p[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]}),i})(),cl=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-home"]],decls:2,vars:0,template:function(r,a){1&r&&(g.TgZ(0,"p"),g._uU(1,"home works!"),g.qZA())},styles:[""]}),i})(),Za=(()=>{class i{constructor(){this.obj_userData=new Es.xQ}userDataToTransfer(r){this.obj_userData.next(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function fd(i,n){1&i&&(g.TgZ(0,"small",22),g._uU(1,"Username required"),g.qZA())}function pd(i,n){1&i&&(g.TgZ(0,"small",22),g._uU(1,"Password required"),g.qZA())}function gd(i,n){1&i&&(g.TgZ(0,"small",22),g._uU(1,"Password required"),g.qZA())}function md(i,n){1&i&&(g.TgZ(0,"small",22),g._uU(1,"Full Name is required"),g.qZA())}function VC(i,n){1&i&&(g.TgZ(0,"small",22),g._uU(1,"Mobile number required"),g.qZA())}function UC(i,n){1&i&&(g.TgZ(0,"div"),g.TgZ(1,"small",22),g._uU(2,"Email id required"),g.qZA(),g.qZA())}function BC(i,n){1&i&&(g.TgZ(0,"small",22),g._uU(1,"Password required"),g.qZA())}function jC(i,n){1&i&&(g.TgZ(0,"small",22),g._uU(1,"Password required"),g.qZA())}let iE=(()=>{class i{constructor(r,a,l,h,m){this.fb=r,this.crud=a,this.ls=l,this.router=h,this.ts=m,this.errMsgLogin="",this.errMsgRegister="",this.jsonData="",this.loginForm=this.fb.group({userName:["",Dn.required],password:["",[Dn.required,Dn.minLength(4),Dn.maxLength(8)]]}),this.registerForm=this.fb.group({fullName:["",Dn.required],mobile:["",[Dn.required,Dn.minLength(10),Dn.maxLength(10)]],emailid:["",[Dn.required,Dn.email]],doctororpatient:["",[Dn.required]],password:["",[Dn.required,Dn.minLength(4),Dn.maxLength(8)]]}),this.txtMail=this.loginForm.value.userName,this.txtPassword=this.loginForm.value.password}loginAction(){this.crud.getData("usersInfo.json").subscribe(r=>{let l=Object.values(r).find(h=>{});null==l||null==l?this.crud.getData("doctorsInfo.json").subscribe(h=>{let w=Object.values(h).find(D=>{});null==w||null==w?this.errMsgLogin="Invalid User":console.log("I am a doctor")}):console.log("I am a Patient")})}findUser(r){this.crud.getData(r).subscribe(a=>{let h=Object.values(a).find(m=>m.emailid===this.registerForm.value.emailid);null==h||null==h?this.crud.postData(r,this.registerForm.value).subscribe(m=>{console.log(m),this.errMsgRegister="User added",this.registerForm.reset()},m=>{this.errMsgRegister=m}):(this.errMsgRegister="User already registered",this.registerForm.reset())})}registerAction(){"Patient"==this.registerForm.value.doctororpatient?(this.jsonData="usersInfo.json",this.findUser(this.jsonData)):(this.jsonData="doctorsInfo.json",this.findUser(this.jsonData))}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(FC),g.Y36(Mf),g.Y36(ed),g.Y36(Yn),g.Y36(Za))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-login-register"]],decls:64,vars:12,consts:[[1,"row","justify-content-center"],[1,"col-md-6"],[1,"row"],[1,"col-md-8"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for",""],["type","text","placeholder","Username","formControlName","userName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","submit","value","Login",1,"btn","btn-primary",3,"disabled"],[1,"col-md-10"],["type","text","placeholder","Full Name","formControlName","fullName",1,"form-control"],["type","text","placeholder","Mobile","formControlName","mobile",1,"form-control"],["type","text","placeholder","Email Id","formControlName","emailid",1,"form-control"],[4,"ngIf"],[1,"form-check","form-check-inline"],["type","radio","formControlName","doctororpatient","id","patient","value","Patient","checked","",1,"form-check-input"],["for","patient",1,"form-check-label"],["type","radio","formControlName","doctororpatient","id","doctor","value","Doctor",1,"form-check-input"],["for","doctor",1,"form-check-label"],["type","submit","value","Sign Up",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2"),g._uU(3,"Login"),g.qZA(),g.TgZ(4,"div",2),g.TgZ(5,"div",3),g.TgZ(6,"form",4),g.NdJ("ngSubmit",function(){return a.loginAction()}),g.TgZ(7,"div",5),g.TgZ(8,"label",6),g._uU(9,"Username"),g.qZA(),g._UZ(10,"input",7),g.YNc(11,fd,2,0,"small",8),g.qZA(),g.TgZ(12,"div",5),g.TgZ(13,"label",6),g._uU(14,"Password"),g.qZA(),g._UZ(15,"input",9),g.YNc(16,pd,2,0,"small",8),g.YNc(17,gd,2,0,"small",8),g.qZA(),g.TgZ(18,"div",5),g._UZ(19,"input",10),g.qZA(),g.TgZ(20,"p"),g._uU(21),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"div",1),g.TgZ(23,"h2"),g._uU(24,"Register"),g.qZA(),g.TgZ(25,"div",2),g.TgZ(26,"div",11),g.TgZ(27,"form",4),g.NdJ("ngSubmit",function(){return a.registerAction()}),g.TgZ(28,"div",5),g.TgZ(29,"label",6),g._uU(30,"Name"),g.qZA(),g._UZ(31,"input",12),g.YNc(32,md,2,0,"small",8),g.qZA(),g.TgZ(33,"div",5),g.TgZ(34,"label",6),g._uU(35,"Mobile"),g.qZA(),g._UZ(36,"input",13),g.YNc(37,VC,2,0,"small",8),g.qZA(),g.TgZ(38,"div",5),g.TgZ(39,"label",6),g._uU(40,"Email Id"),g.qZA(),g._UZ(41,"input",14),g.YNc(42,UC,3,0,"div",15),g.qZA(),g.TgZ(43,"div",5),g.TgZ(44,"p"),g._uU(45,"Tell us who you are?"),g.qZA(),g.TgZ(46,"div",16),g._UZ(47,"input",17),g.TgZ(48,"label",18),g._uU(49,"Patient"),g.qZA(),g.qZA(),g.TgZ(50,"div",16),g._UZ(51,"input",19),g.TgZ(52,"label",20),g._uU(53,"Doctor"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(54,"div",5),g.TgZ(55,"label",6),g._uU(56,"Password"),g.qZA(),g._UZ(57,"input",9),g.YNc(58,BC,2,0,"small",8),g.YNc(59,jC,2,0,"small",8),g.qZA(),g.TgZ(60,"div",5),g._UZ(61,"input",21),g.qZA(),g.TgZ(62,"p"),g._uU(63),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(6),g.Q6J("formGroup",a.loginForm),g.xp6(5),g.Q6J("ngIf",a.loginForm.controls.userName.invalid&&(a.loginForm.controls.userName.dirty||a.loginForm.controls.userName.touched)),g.xp6(5),g.Q6J("ngIf",a.loginForm.controls.password.invalid&&(a.loginForm.controls.password.dirty||a.loginForm.controls.password.touched)),g.xp6(3),g.Q6J("disabled",!a.loginForm.valid),g.xp6(2),g.hij("Message : ",a.errMsgLogin,""),g.xp6(6),g.Q6J("formGroup",a.registerForm),g.xp6(5),g.Q6J("ngIf",a.registerForm.controls.fullName.invalid&&(a.registerForm.controls.fullName.dirty||a.registerForm.controls.fullName.touched)),g.xp6(5),g.Q6J("ngIf",a.registerForm.controls.mobile.invalid&&(a.registerForm.controls.mobile.dirty||a.registerForm.controls.mobile.touched)),g.xp6(5),g.Q6J("ngIf",a.registerForm.controls.emailid.invalid&&(a.registerForm.controls.emailid.dirty||a.registerForm.controls.emailid.touched)),g.xp6(16),g.Q6J("ngIf",a.registerForm.controls.password.invalid&&(a.registerForm.controls.password.dirty||a.registerForm.controls.password.touched)),g.xp6(3),g.Q6J("disabled",!a.registerForm.valid),g.xp6(2),g.hij("Message = ",a.errMsgRegister,""))},directives:[jf,Qi,ud,uo,Lv,$f,ji,Rm],styles:[""]}),i})();const HC=[{path:"",component:cl},{path:"login",component:iE,canActivate:[Iv]},{path:"register",component:iE,canActivate:[Iv]},{path:"logout",component:(()=>{class i{constructor(r,a,l){this.router=r,this.ls=a,this.ts=l}ngOnInit(){this.ls.removeData("username"),this.ls.removeData("useremail"),this.ls.removeData("Patient"),this.ts.userDataToTransfer({loginStatus:!1,username:""}),this.router.navigate(["/"])}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Yn),g.Y36(ed),g.Y36(Za))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-logout"]],decls:2,vars:0,template:function(r,a){1&r&&(g.TgZ(0,"p"),g._uU(1,"logout works!"),g.qZA())},styles:[""]}),i})()},{path:"book-appointment",component:hd},{path:"appointments",component:Ha},{path:"",component:cl}];let $C=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[_m.forRoot(HC)],_m]}),i})();function GC(i,n){1&i&&(g.TgZ(0,"a",14),g._uU(1,"Book Appointment"),g.qZA())}function uS(i,n){1&i&&(g.TgZ(0,"a",15),g._uU(1,"Appointments"),g.qZA())}function qC(i,n){1&i&&(g.TgZ(0,"a",16),g._uU(1,"Login"),g.qZA())}function lS(i,n){1&i&&(g.TgZ(0,"a",17),g._uU(1,"Register"),g.qZA())}function zC(i,n){1&i&&(g.TgZ(0,"a",18),g._uU(1,"Logout"),g.qZA())}const WC=function(){return{exact:!0}};let cS=(()=>{class i{constructor(r,a){this.ls=r,this.ts=a,this.loggedStatus=!1,this.isDoctor=!1,this.isPatient=!1,this.usName=""}ngOnInit(){var r=this.ls.getData("username"),a=this.ls.getData("useremail");this.isPatient=this.ls.getData("Patient"),this.isDoctor=this.ls.getData("Doctor"),null===a?(this.loggedStatus=!1,this.usName=""):(this.loggedStatus=!0,this.usName=r),this.ts.obj_userData.subscribe(l=>{l.loginStatus?(this.usName=l.username,this.loggedStatus=l.loginStatus,this.isPatient=l.patientStatus,this.isDoctor=!l.patientStatus):(this.loggedStatus=!1,this.usName="")},l=>{console.log(l)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(ed),g.Y36(Za))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-header"]],decls:18,vars:8,consts:[[1,"nav"],[1,"container"],[1,"navbar","navbar-expand-md","bg-dark","navbar-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarCollapse",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse","justify-content-between"],[1,"navbar-nav","mr-auto"],["routerLink","/","routerLinkActive","active",1,"nav-item","nav-link",3,"routerLinkActiveOptions"],["routerLink","/book-appointment","routerLinkActive","active","class","nav-item nav-link",4,"ngIf"],["routerLink","/appointments","routerLinkActive","active","class","nav-item nav-link",4,"ngIf"],["routerLink","/login","routerLinkActive","active","class","nav-item nav-link",4,"ngIf"],["routerLink","/register","routerLinkActive","active","class","nav-item nav-link",4,"ngIf"],["routerLink","/logout","routerLinkActive","active","class","nav-item nav-link",4,"ngIf"],["routerLink","/book-appointment","routerLinkActive","active",1,"nav-item","nav-link"],["routerLink","/appointments","routerLinkActive","active",1,"nav-item","nav-link"],["routerLink","/login","routerLinkActive","active",1,"nav-item","nav-link"],["routerLink","/register","routerLinkActive","active",1,"nav-item","nav-link"],["routerLink","/logout","routerLinkActive","active",1,"nav-item","nav-link"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"nav",2),g.TgZ(3,"h4"),g._uU(4),g.qZA(),g.TgZ(5,"a",3),g._uU(6,"MENU"),g.qZA(),g.TgZ(7,"button",4),g._UZ(8,"span",5),g.qZA(),g.TgZ(9,"div",6),g.TgZ(10,"div",7),g.TgZ(11,"a",8),g._uU(12,"Home"),g.qZA(),g.YNc(13,GC,2,0,"a",9),g.YNc(14,uS,2,0,"a",10),g.YNc(15,qC,2,0,"a",11),g.YNc(16,lS,2,0,"a",12),g.YNc(17,zC,2,0,"a",13),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(4),g.Oqu(a.usName),g.xp6(7),g.Q6J("routerLinkActiveOptions",g.DdM(7,WC)),g.xp6(2),g.Q6J("ngIf",a.loggedStatus&&a.isPatient),g.xp6(1),g.Q6J("ngIf",a.loggedStatus&&a.isDoctor&&!a.isPatient),g.xp6(1),g.Q6J("ngIf",!a.loggedStatus),g.xp6(1),g.Q6J("ngIf",!a.loggedStatus),g.xp6(1),g.Q6J("ngIf",a.loggedStatus))},directives:[Xc,bv,ji],styles:[""]}),i})(),PN=(()=>{class i{constructor(){this.title="Doctor Appointment"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(r,a){1&r&&(g._UZ(0,"app-header"),g.TgZ(1,"div",0),g._UZ(2,"router-outlet"),g.qZA())},directives:[cS,Rs],styles:[""]}),i})();var es=L(8939);const sE_firebaseConfig={apiKey:"AIzaSyDFMqjzPFcxmGjRj9SLFzhqDWSBtLzdeuo",authDomain:"doctorapp-324906.firebaseapp.com",databaseURL:"https://doctorapp-324906-default-rtdb.firebaseio.com",projectId:"doctorapp-324906",storageBucket:"doctorapp-324906.appspot.com",messagingSenderId:"987221160028",appId:"1:987221160028:web:4bd7dbb164f47072983699"};var ZC=L(3637),rn=L(9126);function oE(){return i=>i.lift(new dS)}class dS{call(n,r){return r.subscribe(new kN(n))}}class kN extends Rr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class KC{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new FN(n,this.compare,this.keySelector))}}class FN extends Rr.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let a=!1;if(this.hasKey)try{const{compare:l}=this;a=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}L(670);var Ge,fS=L(4486),me=L(8239),zf=L(5452),Fm=L(6034),dl=L(5601),Et=L(3854),aE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ta={},YC=YC||{},wt=aE||self;function Lm(){}function Vm(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Um(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Ka="closure_uid_"+(1e9*Math.random()>>>0),gS=0;function QC(i,n,r){return i.call.apply(i.bind,arguments)}function mS(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function ir(i,n,r){return(ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QC:mS).apply(null,arguments)}function hl(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function mr(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,l,h){for(var m=Array(arguments.length-2),w=2;w<arguments.length;w++)m[w-2]=arguments[w];return n.prototype[l].apply(a,m)}}function na(){this.s=this.s,this.o=this.o}var _S={};na.prototype.s=!1,na.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Ka)&&i[Ka]||(i[Ka]=++gS)}(this);delete _S[i]}},na.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JC=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},XC=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const a=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<a;h++)h in l&&n.call(r,l[h],h,i)};function uE(i){return Array.prototype.concat.apply([],arguments)}function lE(i){const n=i.length;if(0<n){const r=Array(n);for(let a=0;a<n;a++)r[a]=i[a];return r}return[]}function Wf(i){return/^[\s\xa0]*$/.test(i)}var _r,cE=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function yr(i,n){return-1!=i.indexOf(n)}function eI(i,n){return i<n?-1:i>n?1:0}e:{var tI=wt.navigator;if(tI){var ES=tI.userAgent;if(ES){_r=ES;break e}}_r=""}function fl(i,n,r){for(const a in i)n.call(r,i[a],a,i)}function nI(i){const n={};for(const r in i)n[r]=i[r];return n}var Bm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jm(i,n){let r,a;for(let l=1;l<arguments.length;l++){for(r in a=arguments[l],a)i[r]=a[r];for(let h=0;h<Bm.length;h++)r=Bm[h],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function dE(i){return dE[" "](i),i}dE[" "]=Lm;var Zf,i,fE=yr(_r,"Opera"),pl=yr(_r,"Trident")||yr(_r,"MSIE"),wS=yr(_r,"Edge"),pE=wS||pl,gE=yr(_r,"Gecko")&&!(yr(_r.toLowerCase(),"webkit")&&!yr(_r,"Edge"))&&!(yr(_r,"Trident")||yr(_r,"MSIE"))&&!yr(_r,"Edge"),rI=yr(_r.toLowerCase(),"webkit")&&!yr(_r,"Edge");function iI(){var i=wt.document;return i?i.documentMode:void 0}e:{var Kf="",Hm=(i=_r,gE?/rv:([^\);]+)(\)|;)/.exec(i):wS?/Edge\/([\d\.]+)/.exec(i):pl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):rI?/WebKit\/(\S+)/.exec(i):fE?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Hm&&(Kf=Hm?Hm[1]:""),pl){var Yf=iI();if(null!=Yf&&Yf>parseFloat(Kf)){Zf=String(Yf);break e}}Zf=Kf}var mE={};function sI(){return n=mE,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=cE(String(Zf)).split("."),r=cE("9").split("."),a=Math.max(n.length,r.length);for(let m=0;0==i&&m<a;m++){var l=n[m]||"",h=r[m]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=eI(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||eI(0==l[2].length,0==h[2].length)||eI(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i}();var n}var oI=wt.document&&pl&&(iI()||parseInt(Zf,10))||void 0,vE=function(){if(!wt.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{wt.addEventListener("test",Lm,n),wt.removeEventListener("test",Lm,n)}catch(r){}return i}();function vr(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function Qf(i,n){if(vr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(gE){e:{try{dE(n.nodeName);var l=!0;break e}catch(h){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:bS[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Qf.Z.h.call(this)}}vr.prototype.h=function(){this.defaultPrevented=!0},mr(Qf,vr);var bS={2:"touch",3:"pen",4:"mouse"};Qf.prototype.h=function(){Qf.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Jf="closure_listenable_"+(1e6*Math.random()|0),EE=0;function wE(i,n,r,a,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=l,this.key=++EE,this.ca=this.fa=!1}function Xf(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ep(i){this.src=i,this.g={},this.h=0}function $m(i,n){var r=n.type;if(r in i.g){var h,a=i.g[r],l=JC(a,n);(h=0<=l)&&Array.prototype.splice.call(a,l,1),h&&(Xf(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Gm(i,n,r,a){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==n&&h.capture==!!r&&h.ia==a)return l}return-1}ep.prototype.add=function(i,n,r,a,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var m=Gm(i,n,a,l);return-1<m?(n=i[m],r||(n.fa=!1)):((n=new wE(n,this.src,h,!!a,l)).fa=r,i.push(n)),n};var qm="closure_lm_"+(1e6*Math.random()|0),zm={};function bE(i,n,r,a,l){if(a&&a.once)return aI(i,n,r,a,l);if(Array.isArray(n)){for(var h=0;h<n.length;h++)bE(i,n[h],r,a,l);return null}return r=DE(r),i&&i[Jf]?i.N(n,r,Um(a)?!!a.capture:!!a,l):CE(i,n,r,!1,a,l)}function CE(i,n,r,a,l,h){if(!n)throw Error("Invalid event type");var m=Um(l)?!!l.capture:!!l,w=Zm(i);if(w||(i[qm]=w=new ep(i)),(r=w.add(n,r,a,m,h)).proxy)return r;if(a=function(){var n=Qn;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)vE||(l=m),void 0===l&&(l=!1),i.addEventListener(n.toString(),a,l);else if(i.attachEvent)i.attachEvent(lI(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function aI(i,n,r,a,l){if(Array.isArray(n)){for(var h=0;h<n.length;h++)aI(i,n[h],r,a,l);return null}return r=DE(r),i&&i[Jf]?i.O(n,r,Um(a)?!!a.capture:!!a,l):CE(i,n,r,!0,a,l)}function uI(i,n,r,a,l){if(Array.isArray(n))for(var h=0;h<n.length;h++)uI(i,n[h],r,a,l);else a=Um(a)?!!a.capture:!!a,r=DE(r),i&&i[Jf]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=Gm(h=i.g[n],r,a,l))&&(Xf(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[n],i.h--))):i&&(i=Zm(i))&&(n=i.g[n.toString()],i=-1,n&&(i=Gm(n,r,a,l)),(r=-1<i?n[i]:null)&&Wm(r))}function Wm(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[Jf])$m(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(lI(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=Zm(n))?($m(r,i),0==r.h&&(r.src=null,n[qm]=null)):Xf(i)}}}function lI(i){return i in zm?zm[i]:zm[i]="on"+i}function Qn(i,n){if(i.ca)i=!0;else{n=new Qf(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&Wm(i),i=r.call(a,n)}return i}function Zm(i){return(i=i[qm])instanceof ep?i:null}var IE="__closure_events_fn_"+(1e9*Math.random()>>>0);function DE(i){return"function"==typeof i?i:(i[IE]||(i[IE]=function(n){return i.handleEvent(n)}),i[IE])}function Jn(){na.call(this),this.i=new ep(this),this.P=this,this.I=null}function Er(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new vr(n,i);else if(n instanceof vr)n.target=n.target||i;else{var l=n;jm(n=new vr(a,i),l)}if(l=!0,r)for(var h=r.length-1;0<=h;h--){var m=n.g=r[h];l=tp(m,a,!0,n)&&l}if(l=tp(m=n.g=i,a,!0,n)&&l,l=tp(m,a,!1,n)&&l,r)for(h=0;h<r.length;h++)l=tp(m=n.g=r[h],a,!1,n)&&l}function tp(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,h=0;h<n.length;++h){var m=n[h];if(m&&!m.ca&&m.capture==r){var w=m.listener,D=m.ia||m.src;m.fa&&$m(i.i,m),l=!1!==w.call(D,a)&&l}}return l&&!a.defaultPrevented}mr(Jn,na),Jn.prototype[Jf]=!0,Jn.prototype.removeEventListener=function(i,n,r,a){uI(this,i,n,r,a)},Jn.prototype.M=function(){if(Jn.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)Xf(r[a]);delete i.g[n],i.h--}}this.I=null},Jn.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},Jn.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var Km=wt.JSON.stringify;function yd(){var i=Ms;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var hI,cI=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new dI,i=>i.reset());class dI{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function IS(i){wt.setTimeout(()=>{throw i},0)}function Ym(i,n){hI||function(){var i=wt.Promise.resolve(void 0);hI=function(){i.then(DS)}}(),np||(hI(),np=!0),Ms.add(i,n)}var np=!1,Ms=new class{constructor(){this.h=this.g=null}add(n,r){const a=cI.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a}};function DS(){for(var i;i=yd();){try{i.h.call(i.g)}catch(r){IS(r)}var n=cI;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}np=!1}function Qm(i,n){Jn.call(this),this.h=i||1,this.g=n||wt,this.j=ir(this.kb,this),this.l=Date.now()}function ts(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Di(i,n,r){if("function"==typeof i)r&&(i=ir(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ir(i.handleEvent,i)}return 2147483647<Number(n)?-1:wt.setTimeout(i,n||0)}function ns(i){i.g=Di(()=>{i.g=null,i.i&&(i.i=!1,ns(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}mr(Qm,Jn),(Ge=Qm.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Er(this,"tick"),this.da&&(ts(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){Qm.Z.M.call(this),ts(this),delete this.g};class pI extends na{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:ns(this)}M(){super.M(),this.g&&(wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _d(i){na.call(this),this.h=i,this.g={}}mr(_d,na);var gI=[];function mI(i,n,r,a){Array.isArray(r)||(r&&(gI[0]=r.toString()),r=gI);for(var l=0;l<r.length;l++){var h=bE(n,r[l],a||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function yI(i){fl(i.g,function(n,r){this.g.hasOwnProperty(r)&&Wm(n)},i),i.g={}}function Jm(){this.g=!0}function vd(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<l.length;m++)l[m]=""}}}return Km(r)}catch(w){return n}}(i,r)+(a?" "+a:"")})}_d.prototype.M=function(){_d.Z.M.call(this),yI(this)},_d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jm.prototype.Aa=function(){this.g=!1},Jm.prototype.info=function(){};var Ya={},AE=null;function gl(){return AE=AE||new Jn}function vI(i){vr.call(this,Ya.Ma,i)}function Ed(i){const n=gl();Er(n,new vI(n,i))}function SE(i,n){vr.call(this,Ya.STAT_EVENT,i),this.stat=n}function wr(i){const n=gl();Er(n,new SE(n,i))}function ip(i,n){vr.call(this,Ya.Na,i),this.size=n}function wd(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return wt.setTimeout(function(){i()},n)}Ya.Ma="serverreachability",mr(vI,vr),Ya.STAT_EVENT="statevent",mr(SE,vr),Ya.Na="timingevent",mr(ip,vr);var sp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},RE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xm(){}function NE(){}Xm.prototype.h=null;var OE,bd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ey(){vr.call(this,"d")}function ME(){vr.call(this,"c")}function ty(){}function op(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new _d(this),this.P=AS,this.W=new Qm(i=pE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new EI}function EI(){this.i=null,this.g="",this.h=!1}mr(ey,vr),mr(ME,vr),mr(ty,Xm),ty.prototype.g=function(){return new XMLHttpRequest},ty.prototype.i=function(){return{}},OE=new ty;var AS=45e3,PE={},ny={};function kE(i,n,r){i.K=1,i.v=LE(Os(n)),i.s=r,i.U=!0,wI(i,null)}function wI(i,n){i.F=Date.now(),ap(i),i.A=Os(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),MS(r.h,"t",a),i.C=0,r=i.l.H,i.h=new EI,i.g=nw(i.l,r?n:null,!i.s),0<i.O&&(i.L=new pI(ir(i.Ia,i,i.g),i.O)),mI(i.V,i.g,"readystatechange",i.gb),n=i.H?nI(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),Ed(1),function(i,n,r,a,l,h){i.info(function(){if(i.g)if(h)for(var m="",w=h.split("&"),D=0;D<w.length;D++){var A=w[D].split("=");if(1<A.length){var x=A[0];A=A[1];var O=x.split("_");m=2<=O.length&&"type"==O[1]?m+(x+"=")+A+"&":m+(x+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+n+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function bI(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function CI(i,n,r){let l,a=!0;for(;!i.I&&i.C<r.length;){if(l=SS(i,r),l==ny){4==n&&(i.o=4,wr(14),a=!1),vd(i.j,i.m,null,"[Incomplete Response]");break}if(l==PE){i.o=4,wr(15),vd(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}vd(i.j,i.m,l,null),iy(i,l)}bI(i)&&l!=ny&&l!=PE&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,wr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),fy(n),n.L=!0,wr(11))):(vd(i.j,i.m,r,"[Invalid Chunked Response]"),ml(i),up(i))}function SS(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?ny:(r=Number(n.substring(r,a)),isNaN(r)?PE:(a+=1)+r>n.length?ny:(n=n.substr(a,r),i.C=a+r,n))}function ap(i){i.Y=Date.now()+i.P,II(i,i.P)}function II(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=wd(ir(i.eb,i),n)}function ry(i){i.B&&(wt.clearTimeout(i.B),i.B=null)}function up(i){0==i.l.G||i.I||VI(i.l,i)}function ml(i){ry(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,ts(i.W),yI(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function iy(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||$E(r.i,i)))if(r.I=i.N,!i.J&&$E(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(A){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=wd(ir(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;yp(r),dy(r)}ew(r),wr(18)}if(1>=HE(r.i)&&r.ka){try{r.ka()}catch(A){}r.ka=void 0}}else wl(r,11)}else if((i.J||r.g==i)&&yp(r),!Wf(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){let A=l[n];if(r.U=A[0],A=A[1],2==r.G)if("c"==A[0]){r.J=A[1],r.la=A[2];const x=A[3];null!=x&&(r.ma=x,r.h.info("VER="+r.ma));const O=A[4];null!=O&&(r.za=O,r.h.info("SVER="+r.za));const H=A[5];null!=H&&"number"==typeof H&&0<H&&(r.K=a=1.5*H,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;const U=i.g;if(U){const te=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var h=a.i;!h.g&&(yr(te,"spdy")||yr(te,"quic")||yr(te,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(GE(h,h.h),h.h=null))}if(a.D){const Se=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Se&&(a.sa=Se,Gt(a.F,a.D,Se))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var m=i;if((a=r).oa=UI(a,a.H?a.la:null,a.W),m.J){RI(a.i,m);var w=m,D=a.K;D&&w.setTimeout(D),w.B&&(ry(w),ap(w)),a.g=m}else El(a);0<r.l.length&&hy(r)}else"stop"!=A[0]&&"close"!=A[0]||wl(r,7);else 3==r.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?wl(r,7):vl(r):"noop"!=A[0]&&r.j&&r.j.wa(A),r.A=0)}Ed(4)}catch(A){}}function sy(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(Vm(i)||"string"==typeof i)XC(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Vm(i)||"string"==typeof i){r=[];for(var a=i.length,l=0;l<a;l++)r.push(l)}else for(l in r=[],a=0,i)r[a++]=l;l=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Vm(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var h=0;h<l;h++)n.call(void 0,a[h],r&&r[h],i)}}function yl(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof yl)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function oy(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];Qa(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)Qa(l,a=i.g[n])||(i.g[r++]=a,l[a]=1),n++;i.g.length=r}}function Qa(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(Ge=op.prototype).setTimeout=function(i){this.P=i},Ge.gb=function(i){i=i.target;const n=this.L;n&&3==Xa(i)?n.l():this.Ia(i)},Ge.Ia=function(i){try{if(i==this.g)e:{const x=Xa(this.g);var n=this.g.Da();const O=this.g.ba();if(!(3>x)&&(3!=x||pE||this.g&&(this.h.h||this.g.ga()||KE(this.g)))){this.I||4!=x||7==n||Ed(8==n||0>=O?3:2),ry(this);var r=this.g.ba();this.N=r;t:if(bI(this)){var a=KE(this.g);i="";var l=a.length,h=4==Xa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ml(this),up(this);var m="";break t}this.h.i=new wt.TextDecoder}for(n=0;n<l;n++)this.h.h=!0,i+=this.h.i.decode(a[n],{stream:h&&n==l-1});a.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==r,function(i,n,r,a,l,h,m){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,x,r),this.i){if(this.$&&!this.J){t:{if(this.g){var w,D=this.g;if((w=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wf(w)){var A=w;break t}}A=null}if(!(r=A)){this.i=!1,this.o=3,wr(12),ml(this),up(this);break e}vd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,iy(this,r)}this.U?(CI(this,x,m),pE&&this.i&&3==x&&(mI(this.V,this.W,"tick",this.fb),this.W.start())):(vd(this.j,this.m,m,null),iy(this,m)),4==x&&ml(this),this.i&&!this.I&&(4==x?VI(this.l,this):(this.i=!1,ap(this)))}else 400==r&&0<m.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),ml(this),up(this)}}}catch(x){}},Ge.fb=function(){if(this.g){var i=Xa(this.g),n=this.g.ga();this.C<n.length&&(ry(this),CI(this,i,n),this.i&&4!=i&&ap(this))}},Ge.cancel=function(){this.I=!0,ml(this)},Ge.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Ed(3),wr(17)),ml(this),this.o=2,up(this)):II(this,this.Y-i)},(Ge=yl.prototype).R=function(){oy(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},Ge.T=function(){return oy(this),this.g.concat()},Ge.get=function(i,n){return Qa(this.h,i)?this.h[i]:n},Ge.set=function(i,n){Qa(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},Ge.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var l=r[a],h=this.get(l);i.call(n,h,l,this)}};var FE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ja(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ja){this.g=void 0!==n?n:i.g,lp(this,i.j),this.s=i.s,po(this,i.i),ay(this,i.m),this.l=i.l,n=i.h;var r=new cp;r.i=n.i,n.g&&(r.g=new yl(n.g),r.h=n.h),AI(this,r),this.o=i.o}else i&&(r=String(i).match(FE))?(this.g=!!n,lp(this,r[1]||"",!0),this.s=Cd(r[2]||""),po(this,r[3]||"",!0),ay(this,r[4]),this.l=Cd(r[5]||"",!0),AI(this,r[6]||"",!0),this.o=Cd(r[7]||"")):(this.g=!!n,this.h=new cp(null,this.g))}function Os(i){return new Ja(i)}function lp(i,n,r){i.j=r?Cd(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function po(i,n,r){i.i=r?Cd(n,!0):n}function ay(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function AI(i,n,r){n instanceof cp?(i.h=n,function(i,n){n&&!i.j&&(Ps(i),i.i=null,i.g.forEach(function(r,a){var l=a.toLowerCase();a!=l&&(dp(this,a),MS(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Id(n,NS)),i.h=new cp(n,i.g))}function Gt(i,n,r){i.h.set(n,r)}function LE(i){return Gt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Cd(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Id(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,UN),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function UN(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ja.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Id(n,it,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Id(n,it,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Id(r,"/"==r.charAt(0)?xS:RS,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Id(r,uy)),i.join("")};var it=/[#\/\?@]/g,RS=/[#\?:]/g,xS=/[#\?]/g,NS=/[#\?@]/g,uy=/#/g;function cp(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Ps(i){i.g||(i.g=new yl,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),l=null;if(0<=a){var h=i[r].substring(0,a);l=i[r].substring(a+1)}else h=i[r];n(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function dp(i,n){Ps(i),n=_l(i,n),Qa(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Qa((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&oy(i)))}function Tn(i,n){return Ps(i),n=_l(i,n),Qa(i.g.h,n)}function MS(i,n,r){dp(i,n),0<r.length&&(i.i=null,i.g.set(_l(i,n),lE(r)),i.h+=r.length)}function _l(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function BE(i){this.l=i||SI,i=wt.PerformanceNavigationTiming?0<(i=wt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(wt.g&&wt.g.Ea&&wt.g.Ea()&&wt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=cp.prototype).add=function(i,n){Ps(this),this.i=null,i=_l(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},Ge.forEach=function(i,n){Ps(this),this.g.forEach(function(r,a){XC(r,function(l){i.call(n,l,a,this)},this)},this)},Ge.T=function(){Ps(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var l=i[a],h=0;h<l.length;h++)r.push(n[a]);return r},Ge.R=function(i){Ps(this);var n=[];if("string"==typeof i)Tn(this,i)&&(n=uE(n,this.g.get(_l(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=uE(n,i[r])}return n},Ge.set=function(i,n){return Ps(this),this.i=null,Tn(this,i=_l(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},Ge.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],l=encodeURIComponent(String(a));a=this.R(a);for(var h=0;h<a.length;h++){var m=l;""!==a[h]&&(m+="="+encodeURIComponent(String(a[h]))),i.push(m)}}return this.i=i.join("&")};var SI=10;function jE(i){return!!i.h||!!i.g&&i.g.size>=i.j}function HE(i){return i.h?1:i.g?i.g.size:0}function $E(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function GE(i,n){i.g?i.g.add(n):i.h=n}function RI(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function Dd(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return lE(i.i)}function qE(){}function PS(){this.g=new qE}function kS(i,n,r){const a=r||"";try{sy(i,function(l,h){let m=l;Um(l)&&(m=Km(l)),n.push(a+h+"="+encodeURIComponent(m))})}catch(l){throw n.push(a+"type="+encodeURIComponent("_badmap")),l}}function hp(i,n,r,a,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(a)}catch(h){}}function Td(i){this.l=i.$b||null,this.j=i.ib||!1}function fp(i,n){Jn.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=zE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BE.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},qE.prototype.stringify=function(i){return wt.JSON.stringify(i,void 0)},qE.prototype.parse=function(i){return wt.JSON.parse(i,void 0)},mr(Td,Xm),Td.prototype.g=function(){return new fp(this.l,this.j)},Td.prototype.i=function(i){return function(){return i}}({}),mr(fp,Jn);var zE=0;function Ad(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function ra(i){i.readyState=4,i.l=null,i.j=null,i.A=null,pp(i)}function pp(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ge=fp.prototype).open=function(i,n){if(this.readyState!=zE)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,pp(this)},Ge.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||wt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ra(this)),this.readyState=zE},Ge.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,pp(this)),this.g&&(this.readyState=3,pp(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==wt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ad(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?ra(this):pp(this),3==this.readyState&&Ad(this)}},Ge.Ua=function(i){this.g&&(this.response=this.responseText=i,ra(this))},Ge.Ta=function(i){this.g&&(this.response=i,ra(this))},Ge.ha=function(){this.g&&ra(this)},Ge.setRequestHeader=function(i,n){this.v.append(i,n)},Ge.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(fp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var FS=wt.JSON.parse;function jn(i){Jn.call(this),this.headers=new yl,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WE,this.K=this.L=!1}mr(jn,Jn);var WE="",xI=/^https?$/i,NI=["POST","PUT"];function MI(i){return"content-type"==i.toLowerCase()}function OI(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,PI(i),ZE(i)}function PI(i){i.D||(i.D=!0,Er(i,"complete"),Er(i,"error"))}function VS(i){if(i.h&&void 0!==YC&&(!i.C[1]||4!=Xa(i)||2!=i.ba()))if(i.v&&4==Xa(i))Di(i.Fa,0,i);else if(Er(i,"readystatechange"),4==Xa(i)){i.h=!1;try{const w=i.ba();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var a;if(a=0===w){var l=String(i.H).match(FE)[1]||null;if(!l&&wt.self&&wt.self.location){var h=wt.self.location.protocol;l=h.substr(0,h.length-1)}a=!xI.test(l?l.toLowerCase():"")}r=a}if(r)Er(i,"complete"),Er(i,"success");else{i.m=6;try{var m=2<Xa(i)?i.g.statusText:""}catch(D){m=""}i.j=m+" ["+i.ba()+"]",PI(i)}}finally{ZE(i)}}}function ZE(i,n){if(i.g){US(i);const r=i.g,a=i.C[0]?Lm:null;i.g=null,i.C=null,n||Er(i,"ready");try{r.onreadystatechange=a}catch(l){}}}function US(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(wt.clearTimeout(i.A),i.A=null)}function Xa(i){return i.g?i.g.readyState:0}function KE(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case WE:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function YE(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){let n="";return fl(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Gt(i,n,r))}function gp(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function QE(i){this.za=0,this.l=[],this.h=new Jm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gp("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gp("baseRetryDelayMs",5e3,i),this.$a=gp("retryDelaySeedMs",1e4,i),this.Ya=gp("forwardChannelMaxRetries",2,i),this.ra=gp("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new BE(i&&i.concurrentRequestLimit),this.Ca=new PS,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function vl(i){if(kI(i),3==i.G){var n=i.V++,r=Os(i.F);Gt(r,"SID",i.J),Gt(r,"RID",n),Gt(r,"TYPE","terminate"),mp(i,r),(n=new op(i,i.h,n,void 0)).K=2,n.v=LE(Os(r)),r=!1,wt.navigator&&wt.navigator.sendBeacon&&(r=wt.navigator.sendBeacon(n.v.toString(),"")),!r&&wt.Image&&((new Image).src=n.v,r=!0),r||(n.g=nw(n.l,null),n.g.ea(n.v)),n.F=Date.now(),ap(n)}py(i)}function dy(i){i.g&&(fy(i),i.g.cancel(),i.g=null)}function kI(i){dy(i),i.u&&(wt.clearTimeout(i.u),i.u=null),yp(i),i.i.cancel(),i.m&&("number"==typeof i.m&&wt.clearTimeout(i.m),i.m=null)}function JE(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&hy(i)}function hy(i){jE(i.i)||i.m||(i.m=!0,Ym(i.Ha,i),i.C=0)}function XE(i,n){var r;r=n?n.m:i.V++;const a=Os(i.F);Gt(a,"SID",i.J),Gt(a,"RID",r),Gt(a,"AID",i.U),mp(i,a),i.o&&i.s&&YE(a,i.o,i.s),r=new op(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=FI(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),GE(i.i,r),kE(r,a,n)}function mp(i,n){i.j&&sy({},function(r,a){Gt(n,a,r)})}function FI(i,n,r){r=Math.min(i.l.length,r);var a=i.j?ir(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const m=["count="+r];-1==h?0<r?(h=l[0].h,m.push("ofs="+h)):h=0:m.push("ofs="+h);let w=!0;for(let D=0;D<r;D++){let A=l[D].h;const x=l[D].g;if(A-=h,0>A)h=Math.max(0,l[D].h-100),w=!1;else try{kS(x,m,"req"+A+"_")}catch(O){a&&a(x)}}if(w){a=m.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,a}function El(i){i.g||i.u||(i.Y=1,Ym(i.Ga,i),i.A=0)}function ew(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=wd(ir(i.Ga,i),tw(i,i.A)),i.A++,0))}function fy(i){null!=i.B&&(wt.clearTimeout(i.B),i.B=null)}function LI(i){i.g=new op(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=Os(i.oa);Gt(n,"RID","rpc"),Gt(n,"SID",i.J),Gt(n,"CI",i.N?"0":"1"),Gt(n,"AID",i.U),mp(i,n),Gt(n,"TYPE","xmlhttp"),i.o&&i.s&&YE(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=LE(Os(n)),r.s=null,r.U=!0,wI(r,i)}function yp(i){null!=i.v&&(wt.clearTimeout(i.v),i.v=null)}function VI(i,n){var r=null;if(i.g==n){yp(i),fy(i),i.g=null;var a=2}else{if(!$E(i.i,n))return;r=n.D,RI(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;Er(a=gl(),new ip(a,r,n,l)),hy(i)}else El(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==a&&function(i,n){return!(HE(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=wd(ir(i.Ha,i,n),tw(i,i.C)),i.C++,0)))}(i,n)||2==a&&ew(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:wl(i,5);break;case 4:wl(i,10);break;case 3:wl(i,6);break;default:wl(i,2)}}function tw(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function wl(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=ir(i.jb,i);r||(r=new Ja("//www.google.com/images/cleardot.gif"),wt.location&&"http"==wt.location.protocol||lp(r,"https"),LE(r)),function(i,n){const r=new Jm;if(wt.Image){const a=new Image;a.onload=hl(hp,r,a,"TestLoadImage: loaded",!0,n),a.onerror=hl(hp,r,a,"TestLoadImage: error",!1,n),a.onabort=hl(hp,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=hl(hp,r,a,"TestLoadImage: timeout",!1,n),wt.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else wr(2);i.G=0,i.j&&i.j.va(n),py(i),kI(i)}function py(i){i.G=0,i.I=-1,i.j&&((0!=Dd(i.i).length||0!=i.l.length)&&(i.i.i.length=0,lE(i.l),i.l.length=0),i.j.ua())}function UI(i,n,r){let a=function(i){return i instanceof Ja?Os(i):new Ja(i,void 0)}(r);if(""!=a.i)n&&po(a,n+"."+a.i),ay(a,a.m);else{const l=wt.location;a=function(i,n,r,a){var l=new Ja(null,void 0);return i&&lp(l,i),n&&po(l,n),r&&ay(l,r),a&&(l.l=a),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&fl(i.aa,function(l,h){Gt(a,h,l)}),r=i.sa,(n=i.D)&&r&&Gt(a,n,r),Gt(a,"VER",i.ma),mp(i,a),a}function nw(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new jn(r&&i.Ba&&!i.qa?new Td({ib:!0}):i.qa)).L=i.H,n}function rw(){}function gy(){if(pl&&!(10<=Number(oI)))throw Error("Environmental error: no available transport.")}function Ti(i,n){Jn.call(this),this.g=new QE(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Wf(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Wf(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Sd(this)}function BI(i){ey.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function my(){ME.call(this),this.status=1}function Sd(i){this.g=i}(Ge=jn.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OE.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:OE),this.g.onreadystatechange=ir(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(h){return void OI(this,h)}i=r||"";const l=new yl(this.headers);a&&sy(a,function(h,m){l.set(m,h)}),a=function(i){e:{var n=MI;const r=i.length,a="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in a&&n.call(void 0,a[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=wt.FormData&&i instanceof wt.FormData,!(0<=JC(NI,n))||a||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{US(this),0<this.B&&((this.K=function(i){return pl&&sI()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ir(this.pa,this)):this.A=Di(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){OI(this,h)}},Ge.pa=function(){void 0!==YC&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Er(this,"timeout"),this.abort(8))},Ge.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Er(this,"complete"),Er(this,"abort"),ZE(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ZE(this,!0)),jn.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?VS(this):this.cb())},Ge.cb=function(){VS(this)},Ge.ba=function(){try{return 2<Xa(this)?this.g.status:-1}catch(i){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ge.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),FS(n)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=QE.prototype).ma=8,Ge.G=1,Ge.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},Ge.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new op(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=nI(h),jm(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var a=this.l[r];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=FI(this,l,n),Gt(r=Os(this.F),"RID",i),Gt(r,"CVER",22),this.D&&Gt(r,"X-HTTP-Session-Id",this.D),mp(this,r),this.o&&h&&YE(r,this.o,h),GE(this.i,l),this.Ra&&Gt(r,"TYPE","init"),this.ja?(Gt(r,"$req",n),Gt(r,"SID","null"),l.$=!0,kE(l,r,null)):kE(l,r,n),this.G=2}}else 3==this.G&&(i?XE(this,i):0==this.l.length||jE(this.i)||XE(this))},Ge.Ga=function(){if(this.u=null,LI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=wd(ir(this.bb,this),i)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wr(10),dy(this),LI(this))},Ge.ab=function(){null!=this.v&&(this.v=null,dy(this),ew(this),wr(19))},Ge.jb=function(i){i?(this.h.info("Successfully pinged google.com"),wr(2)):(this.h.info("Failed to ping google.com"),wr(1))},(Ge=rw.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},gy.prototype.g=function(i,n){return new Ti(i,n)},mr(Ti,Jn),Ti.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Ym(ir(i.hb,i,n))),wr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=UI(i,null,i.W),hy(i)},Ti.prototype.close=function(){vl(this.g)},Ti.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,JE(this.g,n)}else this.v?((n={}).__data__=Km(i),JE(this.g,n)):JE(this.g,i)},Ti.prototype.M=function(){this.g.j=null,delete this.j,vl(this.g),delete this.g,Ti.Z.M.call(this)},mr(BI,ey),mr(my,ME),mr(Sd,rw),Sd.prototype.xa=function(){Er(this.g,"a")},Sd.prototype.wa=function(i){Er(this.g,new BI(i))},Sd.prototype.va=function(i){Er(this.g,new my(i))},Sd.prototype.ua=function(){Er(this.g,"b")},gy.prototype.createWebChannel=gy.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,sp.NO_ERROR=0,sp.TIMEOUT=8,sp.HTTP_ERROR=6,RE.COMPLETE="complete",NE.EventType=bd,bd.OPEN="a",bd.CLOSE="b",bd.ERROR="c",bd.MESSAGE="d",Jn.prototype.listen=Jn.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.La,jn.prototype.getLastErrorCode=jn.prototype.Da,jn.prototype.getStatus=jn.prototype.ba,jn.prototype.getResponseJson=jn.prototype.Qa,jn.prototype.getResponseText=jn.prototype.ga,jn.prototype.send=jn.prototype.ea;var jI=ta.createWebChannelTransport=function(){return new gy},jS=ta.getStatEventTarget=function(){return gl()},iw=ta.ErrorCode=sp,HS=ta.EventType=RE,$S=ta.Event=Ya,HI=ta.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GS=ta.FetchXmlHttpFactory=Td,yy=ta.WebChannel=NE,qS=ta.XhrIo=jn;class sr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let bl="9.1.0";const eu=new dl.Yd("@firebase/firestore");function sw(){return eu.logLevel}function Me(i,...n){if(eu.logLevel<=dl.in.DEBUG){const r=n.map(vp);eu.debug(`Firestore (${bl}): ${i}`,...r)}}function Hn(i,...n){if(eu.logLevel<=dl.in.ERROR){const r=n.map(vp);eu.error(`Firestore (${bl}): ${i}`,...r)}}function _p(i,...n){if(eu.logLevel<=dl.in.WARN){const r=n.map(vp);eu.warn(`Firestore (${bl}): ${i}`,...r)}}function vp(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Ke(i="Unexpected state"){const n=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+i;throw Hn(n),new Error(n)}function lt(i,n){i||Ke()}function Le(i,n){return i}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class aw{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class zS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(sr.UNAUTHENTICATED))}shutdown(){}}class GI{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class qI{constructor(n){this.t=n,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let l=this.i;const h=A=>this.i!==l?(l=this.i,r(A)):Promise.resolve();let m=new or;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new or,n.enqueueRetryable(()=>h(this.currentUser))};const w=()=>{const A=m;n.enqueueRetryable((0,me.Z)(function*(){yield A.promise,yield h(a.currentUser)}))},D=A=>{Me("FirebaseCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(A=>D(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?D(A):(Me("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new or)}},0),w()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(Me("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt("string"==typeof a.accessToken),new aw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return lt(null===n||"string"==typeof n),new sr(n)}}class zI{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=sr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class BN{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new zI(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ai{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function Rd(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}Ai.T=-1;class WS{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const l=Rd(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<r&&(a+=n.charAt(l[h]%n.length))}return a}}function St(i,n){return i<n?-1:i>n?1:0}function ia(i,n,r){return i.length===n.length&&i.every((a,l)=>r(a,n[l]))}function WI(i){return i+"\0"}class An{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return An.fromMillis(Date.now())}static fromDate(n){return An.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new An(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?St(this.nanoseconds,n.nanoseconds):St(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(n){this.timestamp=n}static fromTimestamp(n){return new It(n)}static min(){return new It(new An(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ZS(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Cl(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function ks(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class xd{constructor(n,r,a){void 0===r?r=0:r>n.length&&Ke(),void 0===a?a=n.length-r:a>n.length-r&&Ke(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===xd.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof xd?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let l=0;l<a;l++){const h=n.get(l),m=r.get(l);if(h<m)return-1;if(h>m)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class Bt extends xd{construct(n,r,a){return new Bt(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new Bt(r)}static emptyPath(){return new Bt([])}}const _y=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends xd{construct(n,r,a){return new br(n,r,a)}static isValidIdentifier(n){return _y.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new br(["__name__"])}static fromServerFormat(n){const r=[];let a="",l=0;const h=()=>{if(0===a.length)throw new De(de.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let m=!1;for(;l<n.length;){const w=n[l];if("\\"===w){if(l+1===n.length)throw new De(de.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const D=n[l+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new De(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=D,l+=2}else"`"===w?(m=!m,l++):"."!==w||m?(a+=w,l++):(h(),l++)}if(h(),m)throw new De(de.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new br(r)}static emptyPath(){return new br([])}}class Nd{constructor(n){this.fields=n,n.sort(br.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return ia(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class ar{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new ar(r)}static fromUint8Array(n){const r=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(n);return new ar(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return St(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const KS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(i){if(lt(!!i),"string"==typeof i){let n=0;const r=KS.exec(i);if(lt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Nn(i.seconds),nanos:Nn(i.nanos)}}function Nn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Il(i){return"string"==typeof i?ar.fromBase64String(i):ar.fromUint8Array(i)}function Ep(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function uw(i){const n=i.mapValue.fields.__previous_value__;return Ep(n)?uw(n):n}function wp(i){const n=tu(i.mapValue.fields.__local_write_time__.timestampValue);return new An(n.seconds,n.nanos)}function Md(i){return null==i}function vy(i){return 0===i&&1/i==-1/0}function ZI(i){return"number"==typeof i&&Number.isInteger(i)&&!vy(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Je{constructor(n){this.path=n}static fromPath(n){return new Je(Bt.fromString(n))}static fromName(n){return new Je(Bt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Bt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return Bt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Je(new Bt(n.slice()))}}function nu(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ep(i)?4:10:Ke()}function Fs(i,n){const r=nu(i);if(r!==nu(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return wp(i).isEqual(wp(n));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=tu(a.timestampValue),m=tu(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,Il(i.bytesValue).isEqual(Il(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,l){return Nn(a.geoPointValue.latitude)===Nn(l.geoPointValue.latitude)&&Nn(a.geoPointValue.longitude)===Nn(l.geoPointValue.longitude)}(i,n);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Nn(a.integerValue)===Nn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=Nn(a.doubleValue),m=Nn(l.doubleValue);return h===m?vy(h)===vy(m):isNaN(h)&&isNaN(m)}return!1}(i,n);case 9:return ia(i.arrayValue.values||[],n.arrayValue.values||[],Fs);case 10:return function(a,l){const h=a.mapValue.fields||{},m=l.mapValue.fields||{};if(ZS(h)!==ZS(m))return!1;for(const w in h)if(h.hasOwnProperty(w)&&(void 0===m[w]||!Fs(h[w],m[w])))return!1;return!0}(i,n);default:return Ke()}var l}function Od(i,n){return void 0!==(i.values||[]).find(r=>Fs(r,n))}function Pd(i,n){const r=nu(i),a=nu(n);if(r!==a)return St(r,a);switch(r){case 0:return 0;case 1:return St(i.booleanValue,n.booleanValue);case 2:return function(l,h){const m=Nn(l.integerValue||l.doubleValue),w=Nn(h.integerValue||h.doubleValue);return m<w?-1:m>w?1:m===w?0:isNaN(m)?isNaN(w)?0:-1:1}(i,n);case 3:return KI(i.timestampValue,n.timestampValue);case 4:return KI(wp(i),wp(n));case 5:return St(i.stringValue,n.stringValue);case 6:return function(l,h){const m=Il(l),w=Il(h);return m.compareTo(w)}(i.bytesValue,n.bytesValue);case 7:return function(l,h){const m=l.split("/"),w=h.split("/");for(let D=0;D<m.length&&D<w.length;D++){const A=St(m[D],w[D]);if(0!==A)return A}return St(m.length,w.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,h){const m=St(Nn(l.latitude),Nn(h.latitude));return 0!==m?m:St(Nn(l.longitude),Nn(h.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,h){const m=l.values||[],w=h.values||[];for(let D=0;D<m.length&&D<w.length;++D){const A=Pd(m[D],w[D]);if(A)return A}return St(m.length,w.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,h){const m=l.fields||{},w=Object.keys(m),D=h.fields||{},A=Object.keys(D);w.sort(),A.sort();for(let x=0;x<w.length&&x<A.length;++x){const O=St(w[x],A[x]);if(0!==O)return O;const H=Pd(m[w[x]],D[A[x]]);if(0!==H)return H}return St(w.length,A.length)}(i.mapValue,n.mapValue);default:throw Ke()}}function KI(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return St(i,n);const r=tu(i),a=tu(n),l=St(r.seconds,a.seconds);return 0!==l?l:St(r.nanos,a.nanos)}function Ey(i){return kd(i)}function kd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const l=tu(a);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Il(i.bytesValue).toBase64():"referenceValue"in i?Je.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let l="[",h=!0;for(const m of a.values||[])h?h=!1:l+=",",l+=kd(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(a){const l=Object.keys(a.fields||{}).sort();let h="{",m=!0;for(const w of l)m?m=!1:h+=",",h+=`${w}:${kd(a.fields[w])}`;return h+"}"}(i.mapValue):Ke();var n}function wy(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function by(i){return!!i&&"integerValue"in i}function Fd(i){return!!i&&"arrayValue"in i}function bp(i){return!!i&&"nullValue"in i}function Ld(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Cy(i){return!!i&&"mapValue"in i}function Cp(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Cl(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=Cp(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Cp(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Kr{constructor(n){this.value=n}static empty(){return new Kr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!Cy(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Cp(r)}setAll(n){let r=br.emptyPath(),a={},l=[];n.forEach((m,w)=>{if(!r.isImmediateParentOf(w)){const D=this.getFieldsMap(r);this.applyChanges(D,a,l),a={},l=[],r=w.popLast()}m?a[w.lastSegment()]=Cp(m):l.push(w.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,a,l)}delete(n){const r=this.field(n.popLast());Cy(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return Fs(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let l=r.mapValue.fields[n.get(a)];Cy(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,a){Cl(r,(l,h)=>n[l]=h);for(const l of a)delete n[l]}clone(){return new Kr(Cp(this.value))}}function YI(i){const n=[];return Cl(i.fields,(r,a)=>{const l=new br([r]);if(Cy(a)){const h=YI(a.mapValue).fields;if(0===h.length)n.push(l);else for(const m of h)n.push(l.child(m))}else n.push(l)}),new Nd(n)}class vn{constructor(n,r,a,l,h){this.key=n,this.documentType=r,this.version=a,this.data=l,this.documentState=h}static newInvalidDocument(n){return new vn(n,0,It.min(),Kr.empty(),0)}static newFoundDocument(n,r,a){return new vn(n,1,r,a,0)}static newNoDocument(n,r){return new vn(n,2,r,Kr.empty(),0)}static newUnknownDocument(n,r){return new vn(n,3,r,Kr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof vn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new vn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class YS{constructor(n,r=null,a=[],l=[],h=null,m=null,w=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=m,this.endAt=w,this.A=null}}function QI(i,n=null,r=[],a=[],l=null,h=null,m=null){return new YS(i,n,r,a,l,h,m)}function Ip(i){const n=Le(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+Ey(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),Md(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=lw(n.startAt)),n.endAt&&(r+="|ub:",r+=lw(n.endAt)),n.A=r}return n.A}function Iy(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Ay(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(a=n.filters[l]).op||!r.field.isEqual(a.field)||!Fs(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!tD(i.startAt,n.startAt)&&tD(i.endAt,n.endAt)}function Dy(i){return Je.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Yr extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new JS(n,r,a):"array-contains"===r?new eR(n,a):"in"===r?new Ty(n,a):"not-in"===r?new Dl(n,a):"array-contains-any"===r?new XI(n,a):new Yr(n,r,a)}static R(n,r,a){return"in"===r?new Dp(n,a):new XS(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Pd(r,this.value)):null!==r&&nu(this.value)===nu(r)&&this.P(Pd(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Ke()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JS extends Yr{constructor(n,r,a){super(n,r,a),this.key=Je.fromName(a.referenceValue)}matches(n){const r=Je.comparator(n.key,this.key);return this.P(r)}}class Dp extends Yr{constructor(n,r){super(n,"in",r),this.keys=JI(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class XS extends Yr{constructor(n,r){super(n,"not-in",r),this.keys=JI(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function JI(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Je.fromName(a.referenceValue))}class eR extends Yr{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return Fd(r)&&Od(r.arrayValue,this.value)}}class Ty extends Yr{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&Od(this.value.arrayValue,r)}}class Dl extends Yr{constructor(n,r){super(n,"not-in",r)}matches(n){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!Od(this.value.arrayValue,r)}}class XI extends Yr{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!Fd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Od(this.value.arrayValue,a))}}class Tp{constructor(n,r){this.position=n,this.before=r}}function lw(i){return`${i.before?"b":"a"}:${i.position.map(n=>Ey(n)).join(",")}`}class Vd{constructor(n,r="asc"){this.field=n,this.dir=r}}function Ay(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function eD(i,n,r){let a=0;for(let l=0;l<i.position.length;l++){const h=n[l],m=i.position[l];if(a=h.field.isKeyField()?Je.comparator(Je.fromName(m.referenceValue),r.key):Pd(m,r.data.field(h.field)),"desc"===h.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function tD(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Fs(i.position[r],n.position[r]))return!1;return!0}class go{constructor(n,r=null,a=[],l=[],h=null,m="F",w=null,D=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=m,this.startAt=w,this.endAt=D,this.V=null,this.S=null}}function cw(i,n,r,a,l,h,m,w){return new go(i,n,r,a,l,h,m,w)}function ru(i){return new go(i)}function Ap(i){return!Md(i.limit)&&"F"===i.limitType}function Sp(i){return!Md(i.limit)&&"L"===i.limitType}function dw(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function hw(i){for(const n of i.filters)if(n.v())return n.field;return null}function Sy(i){return null!==i.collectionGroup}function Ud(i){const n=Le(i);if(null===n.V){n.V=[];const r=hw(n),a=dw(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new Vd(r)),n.V.push(new Vd(br.keyField(),"asc"));else{let l=!1;for(const h of n.explicitOrderBy)n.V.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Vd(br.keyField(),h))}}}return n.V}function Si(i){const n=Le(i);if(!n.S)if("F"===n.limitType)n.S=QI(n.path,n.collectionGroup,Ud(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const h of Ud(n))r.push(new Vd(h.field,"desc"===h.dir?"asc":"desc"));const a=n.endAt?new Tp(n.endAt.position,!n.endAt.before):null,l=n.startAt?new Tp(n.startAt.position,!n.startAt.before):null;n.S=QI(n.path,n.collectionGroup,r,n.filters,n.limit,a,l)}return n.S}function Rp(i,n,r){return new go(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function iu(i,n){return Iy(Si(i),Si(n))&&i.limitType===n.limitType}function tR(i){return`${Ip(Si(i))}|lt:${i.limitType}`}function Tl(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${Ey(a.value)}`;var a}).join(", ")}]`),Md(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+lw(i.startAt)),i.endAt&&(n+=", endAt: "+lw(i.endAt)),`Target(${n})`}(Si(i))}; limitType=${i.limitType})`}function Pt(i,n){return n.isFoundDocument()&&function(r,a){const l=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Je.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,a){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(i,n)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!eD(r.startAt,Ud(r),a)||r.endAt&&eD(r.endAt,Ud(r),a)));var r,a}function sa(i){return(n,r)=>{let a=!1;for(const l of Ud(i)){const h=Bd(l,n,r);if(0!==h)return h;a=a||l.field.isKeyField()}return 0}}function Bd(i,n,r){const a=i.field.isKeyField()?Je.comparator(n.key,r.key):function(l,h,m){const w=h.data.field(l),D=m.data.field(l);return null!==w&&null!==D?Pd(w,D):Ke()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ke()}}function jd(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vy(n)?"-0":n}}function nR(i){return{integerValue:""+i}}function gt(i,n){return ZI(n)?nR(n):jd(i,n)}class Qr{constructor(){this._=void 0}}function fw(i,n,r){return i instanceof Sl?function(a,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(r,n):i instanceof su?iR(i,n):i instanceof Rl?nD(i,n):function(a,l){const h=rR(a,l),m=En(h)+En(a.C);return by(h)&&by(a.C)?nR(m):jd(a.N,m)}(i,n)}function Al(i,n,r){return i instanceof su?iR(i,n):i instanceof Rl?nD(i,n):r}function rR(i,n){return i instanceof Cr?by(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class Sl extends Qr{}class su extends Qr{constructor(n){super(),this.elements=n}}function iR(i,n){const r=rs(n);for(const a of i.elements)r.some(l=>Fs(l,a))||r.push(a);return{arrayValue:{values:r}}}class Rl extends Qr{constructor(n){super(),this.elements=n}}function nD(i,n){let r=rs(n);for(const a of i.elements)r=r.filter(l=>!Fs(l,a));return{arrayValue:{values:r}}}class Cr extends Qr{constructor(n,r){super(),this.N=n,this.C=r}}function En(i){return Nn(i.integerValue||i.doubleValue)}function rs(i){return Fd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Hd{constructor(n,r){this.field=n,this.transform=r}}class rD{constructor(n,r){this.version=n,this.transformResults=r}}class Mn{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Mn}static exists(n){return new Mn(void 0,n)}static updateTime(n){return new Mn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function oa(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class ou{}function oR(i,n,r){i instanceof ua?function(a,l,h){const m=a.value.clone(),w=xl(a.fieldTransforms,l,h.transformResults);m.setAll(w),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,n,r):i instanceof mo?function(a,l,h){if(!oa(a.precondition,l))return void l.convertToUnknownDocument(h.version);const m=xl(a.fieldTransforms,l,h.transformResults),w=l.data;w.setAll(gw(a)),w.setAll(m),l.convertToFoundDocument(h.version,w).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function aa(i,n,r){var l;i instanceof ua?function(a,l,h){if(!oa(a.precondition,l))return;const m=a.value.clone(),w=iD(a.fieldTransforms,h,l);m.setAll(w),l.convertToFoundDocument(Ry(l),m).setHasLocalMutations()}(i,n,r):i instanceof mo?function(a,l,h){if(!oa(a.precondition,l))return;const m=iD(a.fieldTransforms,h,l),w=l.data;w.setAll(gw(a)),w.setAll(m),l.convertToFoundDocument(Ry(l),w).setHasLocalMutations()}(i,n,r):oa(i.precondition,l=n)&&l.convertToNoDocument(It.min())}function aR(i,n){let r=null;for(const a of i.fieldTransforms){const l=n.data.field(a.field),h=rR(a.transform,l||null);null!=h&&(null==r&&(r=Kr.empty()),r.set(a.field,h))}return r||null}function pw(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&ia(r,a,(l,h)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof su&&a instanceof su||r instanceof Rl&&a instanceof Rl?ia(r.elements,a.elements,Fs):r instanceof Cr&&a instanceof Cr?Fs(r.C,a.C):r instanceof Sl&&a instanceof Sl);var r,a}(l,h))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function Ry(i){return i.isFoundDocument()?i.version:It.min()}class ua extends ou{constructor(n,r,a,l=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}}class mo extends ou{constructor(n,r,a,l,h=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}}function gw(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function xl(i,n,r){const a=new Map;lt(i.length===r.length);for(let l=0;l<r.length;l++){const h=i[l],m=h.transform,w=n.data.field(h.field);a.set(h.field,Al(m,w,r[l]))}return a}function iD(i,n,r){const a=new Map;for(const l of i){const h=l.transform,m=r.data.field(l.field);a.set(l.field,fw(h,m,n))}return a}class au extends ou{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class xy extends ou{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class sD{constructor(n){this.count=n}}var Ln,Mt;function oD(i){switch(i){case de.OK:return Ke();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ke()}}function Ny(i){if(void 0===i)return Hn("GRPC error has no .code"),de.UNKNOWN;switch(i){case Ln.OK:return de.OK;case Ln.CANCELLED:return de.CANCELLED;case Ln.UNKNOWN:return de.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return de.INTERNAL;case Ln.UNAVAILABLE:return de.UNAVAILABLE;case Ln.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ln.NOT_FOUND:return de.NOT_FOUND;case Ln.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ln.ABORTED:return de.ABORTED;case Ln.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ln.DATA_LOSS:return de.DATA_LOSS;default:return Ke()}}(Mt=Ln||(Ln={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";class Vn{constructor(n,r){this.comparator=n,this.root=r||kr.EMPTY}insert(n,r){return new Vn(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(n){return new Vn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,kr.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(0===l)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new mw(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new mw(this.root,n,this.comparator,!1)}getReverseIterator(){return new mw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new mw(this.root,n,this.comparator,!0)}}class mw{constructor(n,r,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=r?a(n.key,r):1,l&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class kr{constructor(n,r,a,l,h){this.key=n,this.value=r,this.color=null!=a?a:kr.RED,this.left=null!=l?l:kr.EMPTY,this.right=null!=h?h:kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,l,h){return new kr(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let l=this;const h=a(n,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(n,r,a),null):0===h?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return kr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const n=this.left.check();if(n!==this.right.check())throw Ke();return n+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1,kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(i,n,r,a,l){return this}insert(i,n,r){return new kr(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(n){this.comparator=n,this.data=new Vn(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new uR(this.data.getIterator())}getIteratorFrom(n){return new uR(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof $e)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new $e(this.comparator);return r.data=n,r}}class uR{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const xp=new Vn(Je.comparator);function is(){return xp}const lR=new Vn(Je.comparator);function yw(){return lR}const $N=new Vn(Je.comparator);function cR(){return $N}const dR=new $e(Je.comparator);function bt(...i){let n=dR;for(const r of i)n=n.add(r);return n}const hR=new $e(St);function My(){return hR}class Nl{constructor(n,r,a,l,h){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,Np.createSynthesizedTargetChangeForCurrentChange(n,r)),new Nl(It.min(),a,My(),is(),bt())}}class Np{constructor(n,r,a,l,h){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Np(ar.EMPTY_BYTE_STRING,r,bt(),bt(),bt())}}class Oy{constructor(n,r,a,l){this.k=n,this.removedTargetIds=r,this.key=a,this.$=l}}class aD{constructor(n,r){this.targetId=n,this.O=r}}class uD{constructor(n,r,a=ar.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=l}}class lD{constructor(){this.F=0,this.M=cD(),this.L=ar.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=bt(),r=bt(),a=bt();return this.M.forEach((l,h)=>{switch(h){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Ke()}}),new Np(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=cD()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class fR{constructor(n){this.tt=n,this.et=new Map,this.nt=is(),this.st=Py(),this.it=new $e(St)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:Ke()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,a=n.O.count,l=this.dt(r);if(l){const h=l.target;if(Dy(h))if(0===a){const m=new Je(h.path);this.at(r,m,vn.newNoDocument(m,It.min()))}else lt(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((h,m)=>{const w=this.dt(m);if(w){if(h.current&&Dy(w.target)){const D=new Je(w.target.path);null!==this.nt.get(D)||this.gt(m,D)||this.at(m,D,vn.newNoDocument(D,n))}h.K&&(r.set(m,h.W()),h.G())}});let a=bt();this.st.forEach((h,m)=>{let w=!0;m.forEachWhile(D=>{const A=this.dt(D);return!A||2===A.purpose||(w=!1,!1)}),w&&(a=a.add(h))});const l=new Nl(n,r,this.it,this.nt,a);return this.nt=is(),this.st=Py(),this.it=new $e(St),l}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new lD,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new $e(St),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Me("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new lD),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function Py(){return new Vn(Je.comparator)}function cD(){return new Vn(Je.comparator)}const pR={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _w{constructor(n,r){this.databaseId=n,this.D=r}}function Mp(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function gR(i,n){return i.D?n.toBase64():n.toUint8Array()}function mR(i,n){return Mp(i,n.toTimestamp())}function ur(i){return lt(!!i),It.fromTimestamp(function(n){const r=tu(n);return new An(r.seconds,r.nanos)}(i))}function vw(i,n){return(r=i,new Bt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function hD(i){const n=Bt.fromString(i);return lt(Cw(n)),n}function Op(i,n){return vw(i.databaseId,n.path)}function yo(i,n){const r=hD(n);if(r.get(1)!==i.databaseId.projectId)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Je(Ew(r))}function Ml(i,n){return vw(i.databaseId,n)}function fD(i){const n=hD(i);return 4===n.length?Bt.emptyPath():Ew(n)}function Pp(i){return new Bt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ew(i){return lt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function $d(i,n,r){return{name:Op(i,n),fields:r.value.mapValue.fields}}function yR(i,n,r){const a=yo(i,n.name),l=ur(n.updateTime),h=new Kr({mapValue:{fields:n.fields}}),m=vn.newFoundDocument(a,l,h);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function ky(i,n){let r;if(n instanceof ua)r={update:$d(i,n.key,n.value)};else if(n instanceof au)r={delete:Op(i,n.key)};else if(n instanceof mo)r={update:$d(i,n.key,n.data),updateMask:AR(n.fieldMask)};else{if(!(n instanceof xy))return Ke();r={verify:Op(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(l,h){const m=h.transform;if(m instanceof Sl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Rl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Cr)return{fieldPath:h.field.canonicalString(),increment:m.C};throw Ke()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:mR(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Ke()),r;var l}function gD(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?Mn.updateTime(ur(l.updateTime)):void 0!==l.exists?Mn.exists(l.exists):Mn.none():Mn.none(),a=n.updateTransforms?n.updateTransforms.map(l=>function(h,m){let w=null;"setToServerValue"in m?(lt("REQUEST_TIME"===m.setToServerValue),w=new Sl):"appendMissingElements"in m?w=new su(m.appendMissingElements.values||[]):"removeAllFromArray"in m?w=new Rl(m.removeAllFromArray.values||[]):"increment"in m?w=new Cr(h,m.increment):Ke();const D=br.fromServerFormat(m.fieldPath);return new Hd(D,w)}(i,l)):[];var l;if(n.update){const l=yo(i,n.update.name),h=new Kr({mapValue:{fields:n.update.fields}});if(n.updateMask){const m=new Nd((n.updateMask.fieldPaths||[]).map(A=>br.fromServerFormat(A)));return new mo(l,h,m,r,a)}return new ua(l,h,r,a)}if(n.delete){const l=yo(i,n.delete);return new au(l,r)}if(n.verify){const l=yo(i,n.verify);return new xy(l,r)}return Ke()}function mD(i,n){return{documents:[Ml(i,n.path)]}}function ww(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=Ml(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Ml(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(w){if(0===w.length)return;const D=w.map(A=>function(x){if("=="===x.op){if(Ld(x.value))return{unaryFilter:{field:Gd(x.field),op:"IS_NAN"}};if(bp(x.value))return{unaryFilter:{field:Gd(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Ld(x.value))return{unaryFilter:{field:Gd(x.field),op:"IS_NOT_NAN"}};if(bp(x.value))return{unaryFilter:{field:Gd(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gd(x.field),op:IR(x.op),value:x.value}}}(A));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(n.filters);l&&(r.structuredQuery.where=l);const h=function(w){if(0!==w.length)return w.map(D=>{return{field:Gd((A=D).field),direction:bw(A.dir)};var A})}(n.orderBy);h&&(r.structuredQuery.orderBy=h);const m=(D=n.limit,i.D||Md(D)?D:{value:D});var D;return null!==m&&(r.structuredQuery.limit=m),n.startAt&&(r.structuredQuery.startAt=bR(n.startAt)),n.endAt&&(r.structuredQuery.endAt=bR(n.endAt)),r}function yD(i){let n=fD(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){lt(1===a);const x=r.from[0];x.allDescendants?l=x.collectionId:n=n.child(x.collectionId)}let h=[];r.where&&(h=wR(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(x=>{return new Vd(qd((O=x).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let w=null;r.limit&&(w=function(x){let O;return O="object"==typeof x?x.value:x,Md(O)?null:O}(r.limit));let D=null;r.startAt&&(D=CR(r.startAt));let A=null;return r.endAt&&(A=CR(r.endAt)),cw(n,l,m,h,w,"F",D,A)}function wR(i){return i?void 0!==i.unaryFilter?[TR(i)]:void 0!==i.fieldFilter?[DR(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>wR(n)).reduce((n,r)=>n.concat(r)):Ke():[]}function bR(i){return{before:i.before,values:i.position}}function CR(i){return new Tp(i.values||[],!!i.before)}function bw(i){return pR[i]}function IR(i){return dD[i]}function Gd(i){return{fieldPath:i.canonicalString()}}function qd(i){return br.fromServerFormat(i.fieldPath)}function DR(i){return Yr.create(qd(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ke()}}(i.fieldFilter.op),i.fieldFilter.value)}function TR(i){switch(i.unaryFilter.op){case"IS_NAN":const n=qd(i.unaryFilter.field);return Yr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=qd(i.unaryFilter.field);return Yr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qd(i.unaryFilter.field);return Yr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=qd(i.unaryFilter.field);return Yr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ke()}}function AR(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function Cw(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ri(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=Ol(n)),n=SR(i.get(r),n);return Ol(n)}function SR(i,n){let r=n;const a=i.length;for(let l=0;l<a;l++){const h=i.charAt(l);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function Ol(i){return i+"\x01\x01"}function wn(i){const n=i.length;if(lt(n>=2),2===n)return lt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Bt.emptyPath();const r=n-2,a=[];let l="";for(let h=0;h<n;){const m=i.indexOf("\x01",h);switch((m<0||m>r)&&Ke(),i.charAt(m+1)){case"\x01":const w=i.substring(h,m);let D;0===l.length?D=w:(l+=w,D=l,l=""),a.push(D);break;case"\x10":l+=i.substring(h,m),l+="\0";break;case"\x11":l+=i.substring(h,m+1);break;default:Ke()}h=m+2}return new Bt(a)}class _D{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Sn{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}Sn.store="owner",Sn.key="owner";class _o{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}_o.store="mutationQueues",_o.keyPath="userId";class hn{constructor(n,r,a,l,h){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=h}}hn.store="mutations",hn.keyPath="batchId",hn.userMutationsIndex="userMutationsIndex",hn.userMutationsKeyPath=["userId","batchId"];class Ir{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,Ri(r)]}static key(n,r,a){return[n,Ri(r),a]}}Ir.store="documentMutations",Ir.PLACEHOLDER=new Ir;class vD{constructor(n,r){this.path=n,this.readTime=r}}class ED{constructor(n,r){this.path=n,this.version=r}}class On{constructor(n,r,a,l,h,m){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=l,this.readTime=h,this.parentPath=m}}On.store="remoteDocuments",On.readTimeIndex="readTimeIndex",On.readTimeIndexPath="readTime",On.collectionReadTimeIndex="collectionReadTimeIndex",On.collectionReadTimeIndexPath=["parentPath","readTime"];class vo{constructor(n){this.byteSize=n}}vo.store="remoteDocumentGlobal",vo.key="remoteDocumentGlobalKey";class hi{constructor(n,r,a,l,h,m,w){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=w}}hi.store="targets",hi.keyPath="targetId",hi.queryTargetsIndexName="queryTargetsIndex",hi.queryTargetsKeyPath=["canonicalId","targetId"];class lr{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}lr.store="targetDocuments",lr.keyPath=["targetId","path"],lr.documentTargetsIndex="documentTargetsIndex",lr.documentTargetsKeyPath=["path","targetId"];class xi{constructor(n,r,a,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}xi.key="targetGlobalKey",xi.store="targetGlobal";class zd{constructor(n,r){this.collectionId=n,this.parent=r}}zd.store="collectionParents",zd.keyPath=["collectionId","parent"];class la{constructor(n,r,a,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=l}}la.store="clientMetadata",la.keyPath="clientId";class Wd{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}Wd.store="bundles",Wd.keyPath="bundleId";class Ls{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}Ls.store="namedQueries",Ls.keyPath="name";const GN=[_o.store,hn.store,Ir.store,On.store,hi.store,Sn.store,xi.store,lr.store,la.store,vo.store,zd.store,Wd.store,Ls.store],Iw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Te{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Te((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(r,h).next(a,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Te?r:Te.resolve(r)}catch(r){return Te.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.reject(r)}static resolve(n){return new Te((r,a)=>{r(n)})}static reject(n){return new Te((r,a)=>{a(n)})}static waitFor(n){return new Te((r,a)=>{let l=0,h=0,m=!1;n.forEach(w=>{++l,w.next(()=>{++h,m&&h===l&&r()},D=>a(D))}),m=!0,h===l&&r()})}static or(n){let r=Te.resolve(!1);for(const a of n)r=r.next(l=>l?Te.resolve(l):a());return r}static forEach(n,r){const a=[];return n.forEach((l,h)=>{a.push(r.call(this,l,h))}),this.waitFor(a)}}class kp{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new or,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Zd(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const l=Tw(a.target.error);this.Tt.reject(new Zd(n,l))}}static open(n,r,a,l){try{return new kp(r,n.transaction(l,a))}catch(h){throw new Zd(r,h)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Me("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new RR(r)}}class Vs{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===Vs.Rt((0,Et.z$)())&&Hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Me("SimpleDb","Removing database:",n),kl(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Et.hl)())return!1;if(Vs.Pt())return!0;const n=(0,Et.z$)(),r=Vs.Rt(n),a=0<r&&r<10,l=Vs.vt(n),h=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||h)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,me.Z)(function*(){return r.db||(Me("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,l)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=m=>{a(m.target.result)},h.onblocked=()=>{l(new Zd(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const w=m.target.error;l("VersionError"===w.name?new De(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new De(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new Zd(n,w))},h.onupgradeneeded=m=>{Me("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,h.transaction,m.oldVersion,r.version).next(()=>{Me("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,l){var h=this;return(0,me.Z)(function*(){const m="readonly"===r;let w=0;for(;;){++w;try{h.db=yield h.Dt(n);const D=kp.open(h.db,n,m?"readonly":"readwrite",a),A=l(D).catch(x=>(D.abort(x),Te.reject(x))).toPromise();return A.catch(()=>{}),yield D.It,A}catch(D){const A="FirebaseError"!==D.name&&w<3;if(Me("SimpleDb","Transaction failed with error:",D.message,"Retrying:",A),h.close(),!A)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dw{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return kl(this.kt.delete())}}class Zd extends De{constructor(n,r){super(de.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Pl(i){return"IndexedDbTransactionError"===i.name}class RR{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(Me("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(Me("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),kl(a)}add(n){return Me("SimpleDb","ADD",this.store.name,n,n),kl(this.store.add(n))}get(n){return kl(this.store.get(n)).next(r=>(void 0===r&&(r=null),Me("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Me("SimpleDb","DELETE",this.store.name,n),kl(this.store.delete(n))}count(){return Me("SimpleDb","COUNT",this.store.name),kl(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),l=[];return this.Bt(a,(h,m)=>{l.push(m)}).next(()=>l)}Ut(n,r){Me("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const l=this.cursor(a);return this.Bt(l,(h,m,w)=>w.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const l=this.cursor(a);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new Te((a,l)=>{r.onerror=h=>{const m=Tw(h.target.error);l(m)},r.onsuccess=h=>{const m=h.target.result;m?n(m.primaryKey,m.value).next(w=>{w?m.continue():a()}):a()}})}Bt(n,r){const a=[];return new Te((l,h)=>{n.onerror=m=>{h(m.target.error)},n.onsuccess=m=>{const w=m.target.result;if(!w)return void l();const D=new Dw(w),A=r(w.primaryKey,w.value,D);if(A instanceof Te){const x=A.catch(O=>(D.done(),Te.reject(O)));a.push(x)}D.isDone?l():null===D.Ft?w.continue():w.continue(D.Ft)}}).next(()=>Te.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function kl(i){return new Te((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const l=Tw(a.target.error);r(l)}})}let bD=!1;function Tw(i){const n=Vs.Rt((0,Et.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new De("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bD||(bD=!0,setTimeout(()=>{throw a},0)),a}}return i}class CD extends wD{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function fi(i,n){const r=Le(i);return Vs.St(r.Qt,n)}class Aw{constructor(n,r,a,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(n.key)&&oR(h,n,a[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&aa(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&aa(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),bt())}isEqual(n){return this.batchId===n.batchId&&ia(this.mutations,n.mutations,(r,a)=>pw(r,a))&&ia(this.baseMutations,n.baseMutations,(r,a)=>pw(r,a))}}class Sw{constructor(n,r,a,l){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(n,r,a){lt(n.mutations.length===a.length);let l=cR();const h=n.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,a[m].version);return new Sw(n,r,a,l)}}class ss{constructor(n,r,a,l,h=It.min(),m=It.min(),w=ar.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=w}withSequenceNumber(n){return new ss(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Rw{constructor(n){this.Wt=n}}function Fy(i,n){if(n.document)return yR(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Je.fromSegments(n.noDocument.path),a=Kd(n.noDocument.readTime),l=vn.newNoDocument(r,a);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=Je.fromSegments(n.unknownDocument.path),a=Kd(n.unknownDocument.version);return vn.newUnknownDocument(r,a)}return Ke()}function xw(i,n,r){const a=Ly(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const h={name:Op(w=i.Wt,(D=n).key),fields:D.data.value.mapValue.fields,updateTime:Mp(w,D.version.toTimestamp())};return new On(null,null,h,n.hasCommittedMutations,a,l)}var w,D;if(n.isNoDocument()){const h=n.key.path.toArray(),m=Fl(n.version),w=n.hasCommittedMutations;return new On(null,new vD(h,m),null,w,a,l)}if(n.isUnknownDocument()){const h=n.key.path.toArray(),m=Fl(n.version);return new On(new ED(h,m),null,null,!0,a,l)}return Ke()}function Ly(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function Nw(i){const n=new An(i[0],i[1]);return It.fromTimestamp(n)}function Fl(i){const n=i.toTimestamp();return new _D(n.seconds,n.nanoseconds)}function Kd(i){const n=new An(i.seconds,i.nanoseconds);return It.fromTimestamp(n)}function Ll(i,n){const r=(n.baseMutations||[]).map(h=>gD(i.Wt,h));for(let h=0;h<n.mutations.length-1;++h){const m=n.mutations[h];h+1<n.mutations.length&&void 0!==n.mutations[h+1].transform&&(m.updateTransforms=n.mutations[h+1].transform.fieldTransforms,n.mutations.splice(h+1,1),++h)}const a=n.mutations.map(h=>gD(i.Wt,h)),l=An.fromMillis(n.localWriteTimeMs);return new Aw(n.batchId,l,r,a)}function Fp(i){const n=Kd(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Kd(i.lastLimboFreeSnapshotVersion):It.min();let a;var l;return void 0!==i.query.documents?(lt(1===(l=i.query).documents.length),a=Si(ru(fD(l.documents[0])))):a=Si(yD(i.query)),new ss(a,i.targetId,0,i.lastListenSequenceNumber,n,r,ar.fromBase64String(i.resumeToken))}function ID(i,n){const r=Fl(n.snapshotVersion),a=Fl(n.lastLimboFreeSnapshotVersion);let l;l=Dy(n.target)?mD(i.Wt,n.target):ww(i.Wt,n.target);const h=n.resumeToken.toBase64();return new hi(n.targetId,Ip(n.target),r,h,n.sequenceNumber,a,l)}function Mw(i){const n=yD({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Rp(n,n.limit,"L"):n}class xR{getBundleMetadata(n,r){return Yd(n).get(r).next(a=>{if(a)return{id:(l=a).bundleId,createTime:Kd(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return Yd(n).put({bundleId:(a=r).id,createTime:Fl(ur(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return Qd(n).get(r).next(a=>{if(a)return{name:(l=a).name,query:Mw(l.bundledQuery),readTime:Kd(l.readTime)};var l})}saveNamedQuery(n,r){return Qd(n).put({name:(a=r).name,readTime:Fl(ur(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Yd(i){return fi(i,Wd.store)}function Qd(i){return fi(i,Ls.store)}class NR{constructor(){this.Gt=new Lp}addToCollectionParentIndex(n,r){return this.Gt.add(r),Te.resolve()}getCollectionParents(n,r){return Te.resolve(this.Gt.getEntries(r))}}class Lp{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r]||new $e(Bt.comparator),h=!l.has(a);return this.index[r]=l.add(a),h}has(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(n){return(this.index[n]||new $e(Bt.comparator)).toArray()}}class Eo{constructor(){this.zt=new Lp}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const h={collectionId:a,parent:Ri(l)};return DD(n).put(h)}return Te.resolve()}getCollectionParents(n,r){const a=[],l=IDBKeyRange.bound([r,""],[WI(r),""],!1,!0);return DD(n).Lt(l).next(h=>{for(const m of h){if(m.collectionId!==r)break;a.push(wn(m.parent))}return a})}}function DD(i){return fi(i,zd.store)}const Vp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pi{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new pi(n,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TD(i,n,r){const a=i.store(hn.store),l=i.store(Ir.store),h=[],m=IDBKeyRange.only(r.batchId);let w=0;const D=a.Kt({range:m},(x,O,H)=>(w++,H.delete()));h.push(D.next(()=>{lt(1===w)}));const A=[];for(const x of r.mutations){const O=Ir.key(n,x.key.path,r.batchId);h.push(l.delete(O)),A.push(x.key)}return Te.waitFor(h).next(()=>A)}function Ow(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw Ke();n=i.noDocument}return JSON.stringify(n).length}pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(41943040,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);class Up{constructor(n,r,a,l){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,a,l){lt(""!==n.uid);const h=n.isAuthenticated()?n.uid:"";return new Up(h,r,a,l)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ca(n).Kt({index:hn.userMutationsIndex,range:a},(l,h,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(n,r,a,l){const h=uu(n),m=ca(n);return m.add({}).next(w=>{lt("number"==typeof w);const D=new Aw(w,r,a,l),A=function(H,U,te){const Se=te.baseMutations.map(Ye=>ky(H.Wt,Ye)),ke=te.mutations.map(Ye=>ky(H.Wt,Ye));return new hn(U,te.batchId,te.localWriteTime.toMillis(),Se,ke)}(this.N,this.userId,D),x=[];let O=new $e((H,U)=>St(H.canonicalString(),U.canonicalString()));for(const H of l){const U=Ir.key(this.userId,H.key.path,w);O=O.add(H.key.path.popLast()),x.push(m.put(A)),x.push(h.put(U,Ir.PLACEHOLDER))}return O.forEach(H=>{x.push(this.Ht.addToCollectionParentIndex(n,H))}),n.addOnCommittedListener(()=>{this.Jt[w]=D.keys()}),Te.waitFor(x).next(()=>D)})}lookupMutationBatch(n,r){return ca(n).get(r).next(a=>a?(lt(a.userId===this.userId),Ll(this.N,a)):null)}Xt(n,r){return this.Jt[r]?Te.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const l=a.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,l=IDBKeyRange.lowerBound([this.userId,a]);let h=null;return ca(n).Kt({index:hn.userMutationsIndex,range:l},(m,w,D)=>{w.userId===this.userId&&(lt(w.batchId>=a),h=Ll(this.N,w)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ca(n).Kt({index:hn.userMutationsIndex,range:r,reverse:!0},(l,h,m)=>{a=h.batchId,m.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ca(n).Lt(hn.userMutationsIndex,r).next(a=>a.map(l=>Ll(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=Ir.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(a),h=[];return uu(n).Kt({range:l},(m,w,D)=>{const[A,x,O]=m,H=wn(x);if(A===this.userId&&r.path.isEqual(H))return ca(n).get(O).next(U=>{if(!U)throw Ke();lt(U.userId===this.userId),h.push(Ll(this.N,U))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new $e(St);const l=[];return r.forEach(h=>{const m=Ir.prefixForPath(this.userId,h.path),w=IDBKeyRange.lowerBound(m),D=uu(n).Kt({range:w},(A,x,O)=>{const[H,U,te]=A,Se=wn(U);H===this.userId&&h.path.isEqual(Se)?a=a.add(te):O.done()});l.push(D)}),Te.waitFor(l).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1,h=Ir.prefixForPath(this.userId,a),m=IDBKeyRange.lowerBound(h);let w=new $e(St);return uu(n).Kt({range:m},(D,A,x)=>{const[O,H,U]=D,te=wn(H);O===this.userId&&a.isPrefixOf(te)?te.length===l&&(w=w.add(U)):x.done()}).next(()=>this.Zt(n,w))}Zt(n,r){const a=[],l=[];return r.forEach(h=>{l.push(ca(n).get(h).next(m=>{if(null===m)throw Ke();lt(m.userId===this.userId),a.push(Ll(this.N,m))}))}),Te.waitFor(l).next(()=>a)}removeMutationBatch(n,r){return TD(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Te.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Te.resolve();const a=IDBKeyRange.lowerBound(Ir.prefixForUser(this.userId)),l=[];return uu(n).Kt({range:a},(h,m,w)=>{if(h[0]===this.userId){const D=wn(h[1]);l.push(D)}else w.done()}).next(()=>{lt(0===l.length)})})}containsKey(n,r){return Vy(n,this.userId,r)}ee(n){return Uy(n).get(this.userId).next(r=>r||new _o(this.userId,-1,""))}}function Vy(i,n,r){const a=Ir.prefixForPath(n,r.path),l=a[1],h=IDBKeyRange.lowerBound(a);let m=!1;return uu(i).Kt({range:h,qt:!0},(w,D,A)=>{const[x,O,H]=w;x===n&&O===l&&(m=!0),A.done()}).next(()=>m)}function ca(i){return fi(i,hn.store)}function uu(i){return fi(i,Ir.store)}function Uy(i){return fi(i,_o.store)}class Vl{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Vl(0)}static ie(){return new Vl(-1)}}class MR{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new Vl(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>It.fromTimestamp(new An(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Jd(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(lt(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let l=0;const h=[];return Jd(n).Kt((m,w)=>{const D=Fp(w);D.sequenceNumber<=r&&null===a.get(D.targetId)&&(l++,h.push(this.removeTargetData(n,D)))}).next(()=>Te.waitFor(h)).next(()=>l)}forEachTarget(n,r){return Jd(n).Kt((a,l)=>{const h=Fp(l);r(h)})}re(n){return AD(n).get(xi.key).next(r=>(lt(null!==r),r))}oe(n,r){return AD(n).put(xi.key,r)}ae(n,r){return Jd(n).put(ID(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=Ip(r),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let h=null;return Jd(n).Kt({range:l,index:hi.queryTargetsIndexName},(m,w,D)=>{const A=Fp(w);Iy(r,A.target)&&(h=A,D.done())}).next(()=>h)}addMatchingKeys(n,r,a){const l=[],h=da(n);return r.forEach(m=>{const w=Ri(m.path);l.push(h.put(new lr(a,w))),l.push(this.referenceDelegate.addReference(n,a,m))}),Te.waitFor(l)}removeMatchingKeys(n,r,a){const l=da(n);return Te.forEach(r,h=>{const m=Ri(h.path);return Te.waitFor([l.delete([a,m]),this.referenceDelegate.removeReference(n,a,h)])})}removeMatchingKeysForTargetId(n,r){const a=da(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),l=da(n);let h=bt();return l.Kt({range:a,qt:!0},(m,w,D)=>{const A=wn(m[1]),x=new Je(A);h=h.add(x)}).next(()=>h)}containsKey(n,r){const a=Ri(r.path),l=IDBKeyRange.bound([a],[WI(a)],!1,!0);let h=0;return da(n).Kt({index:lr.documentTargetsIndex,qt:!0,range:l},([m,w],D,A)=>{0!==m&&(h++,A.done())}).next(()=>h>0)}Et(n,r){return Jd(n).get(r).next(a=>a?Fp(a):null)}}function Jd(i){return fi(i,hi.store)}function AD(i){return fi(i,xi.store)}function da(i){return fi(i,lr.store)}function ha(i){return By.apply(this,arguments)}function By(){return(By=(0,me.Z)(function*(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==Iw)throw i;Me("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function SD([i,n],[r,a]){const l=St(i,r);return 0===l?St(n,a):l}class RD{constructor(n){this.ue=n,this.buffer=new $e(SD),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();SD(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xD{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;Me("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,me.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){Pl(l)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield ha(l)}yield r._e(n)}))}}class OR{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return Te.resolve(Ai.T);const a=new RD(r);return this.me.forEachTarget(n,l=>a.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>a.fe(l))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(Vp)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vp):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,l,h,m,w,D,A;const x=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,m=Date.now(),this.nthSequenceNumber(n,l))).next(O=>(a=O,w=Date.now(),this.removeTargets(n,a,r))).next(O=>(h=O,D=Date.now(),this.removeOrphanedDocuments(n,a))).next(O=>(A=Date.now(),sw()<=dl.in.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-x}ms\n\tDetermined least recently used ${l} in `+(w-m)+`ms\n\tRemoved ${h} targets in `+(D-w)+`ms\n\tRemoved ${O} documents in `+(A-D)+`ms\nTotal Duration: ${A-x}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:O})))}}class ND{constructor(n,r){this.db=n,this.garbageCollector=new OR(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(l=>a+l))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,l)=>r(l))}addReference(n,r,a){return Bp(n,a)}removeReference(n,r,a){return Bp(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return Bp(n,r)}Ie(n,r){return function(a,l){let h=!1;return Uy(a).jt(m=>Vy(a,m,l).next(w=>(w&&(h=!0),Te.resolve(!w)))).next(()=>h)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Te(n,(m,w)=>{if(w<=r){const D=this.Ie(n,m).next(A=>{if(!A)return h++,a.getEntry(n,m).next(()=>(a.removeEntry(m),da(n).delete([0,Ri(m.path)])))});l.push(D)}}).next(()=>Te.waitFor(l)).next(()=>a.apply(n)).next(()=>h)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return Bp(n,r)}Te(n,r){const a=da(n);let l,h=Ai.T;return a.Kt({index:lr.documentTargetsIndex},([m,w],{path:D,sequenceNumber:A})=>{0===m?(h!==Ai.T&&r(new Je(wn(l)),h),h=A,l=D):h=Ai.T}).next(()=>{h!==Ai.T&&r(new Je(wn(l)),h)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Bp(i,n){return da(i).put((a=i.currentSequenceNumber,new lr(0,Ri(n.path),a)));var a}class Xd{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[l,h]of a)if(this.equalsFn(l,n))return h}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),l=this.inner[a];if(void 0!==l){for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],n))return void(l[h]=[n,r]);l.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],n))return 1===a.length?delete this.inner[r]:a.splice(l,1),!0;return!1}forEach(n){Cl(this.inner,(r,a)=>{for(const[l,h]of a)n(l,h)})}isEmpty(){return ks(this.inner)}}class Pw{constructor(){this.changes=new Xd(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:It.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:vn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Te.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class PR{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return Ni(n).put(jy(r),a)}removeEntry(n,r){const a=Ni(n),l=jy(r);return a.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return Ni(n).get(jy(r)).next(a=>this.Re(r,a))}be(n,r){return Ni(n).get(jy(r)).next(a=>({document:this.Re(r,a),size:Ow(a)}))}getEntries(n,r){let a=is();return this.Pe(n,r,(l,h)=>{const m=this.Re(l,h);a=a.insert(l,m)}).next(()=>a)}ve(n,r){let a=is(),l=new Vn(Je.comparator);return this.Pe(n,r,(h,m)=>{const w=this.Re(h,m);a=a.insert(h,w),l=l.insert(h,Ow(m))}).next(()=>({documents:a,Ve:l}))}Pe(n,r,a){if(r.isEmpty())return Te.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),h=r.getIterator();let m=h.getNext();return Ni(n).Kt({range:l},(w,D,A)=>{const x=Je.fromSegments(w);for(;m&&Je.comparator(m,x)<0;)a(m,null),m=h.getNext();m&&m.isEqual(x)&&(a(m,D),m=h.hasNext()?h.getNext():null),m?A.Mt(m.path.toArray()):A.done()}).next(()=>{for(;m;)a(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(n,r,a){let l=is();const h=r.path.length+1,m={};if(a.isEqual(It.min())){const w=r.path.toArray();m.range=IDBKeyRange.lowerBound(w)}else{const w=r.path.toArray(),D=Ly(a);m.range=IDBKeyRange.lowerBound([w,D],!0),m.index=On.collectionReadTimeIndex}return Ni(n).Kt(m,(w,D,A)=>{if(w.length!==h)return;const x=Fy(this.N,D);r.path.isPrefixOf(x.key.path)?Pt(r,x)&&(l=l.insert(x.key,x)):A.done()}).next(()=>l)}newChangeBuffer(n){return new qN(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return Fr(n).get(vo.key).next(r=>(lt(!!r),r))}Ae(n,r){return Fr(n).put(vo.key,r)}Re(n,r){if(r){const a=Fy(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(It.min()))return a}return vn.newInvalidDocument(n)}}class qN extends Pw{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Xd(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(n){const r=[];let a=0,l=new $e((h,m)=>St(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const w=this.De.get(h);if(m.document.isValidDocument()){const D=xw(this.Se.N,m.document,this.getReadTime(h));l=l.add(h.path.popLast()),a+=Ow(D)-w,r.push(this.Se.addEntry(n,h,D))}else if(a-=w,this.trackRemovals){const D=xw(this.Se.N,vn.newNoDocument(h,It.min()),this.getReadTime(h));r.push(this.Se.addEntry(n,h,D))}else r.push(this.Se.removeEntry(n,h))}),l.forEach(h=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,h))}),r.push(this.Se.updateMetadata(n,a)),Te.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:l})=>(l.forEach((h,m)=>{this.De.set(h,m)}),a))}}function Fr(i){return fi(i,vo.store)}function Ni(i){return fi(i,On.store)}function jy(i){return i.path.toArray()}class kR{constructor(n){this.N=n}Ct(n,r,a,l){lt(a<l&&a>=0&&l<=11);const h=new kp("createOrUpgrade",r);var w;a<1&&l>=1&&(n.createObjectStore(Sn.store),(w=n).createObjectStore(_o.store,{keyPath:_o.keyPath}),w.createObjectStore(hn.store,{keyPath:hn.keyPath,autoIncrement:!0}).createIndex(hn.userMutationsIndex,hn.userMutationsKeyPath,{unique:!0}),w.createObjectStore(Ir.store),FR(n),function(w){w.createObjectStore(On.store)}(n));let m=Te.resolve();return a<3&&l>=3&&(0!==a&&(function(w){w.deleteObjectStore(lr.store),w.deleteObjectStore(hi.store),w.deleteObjectStore(xi.store)}(n),FR(n)),m=m.next(()=>function(w){const D=w.store(xi.store),A=new xi(0,0,It.min().toTimestamp(),0);return D.put(xi.key,A)}(h))),a<4&&l>=4&&(0!==a&&(m=m.next(()=>function(w,D){return D.store(hn.store).Lt().next(A=>{w.deleteObjectStore(hn.store),w.createObjectStore(hn.store,{keyPath:hn.keyPath,autoIncrement:!0}).createIndex(hn.userMutationsIndex,hn.userMutationsKeyPath,{unique:!0});const x=D.store(hn.store),O=A.map(H=>x.put(H));return Te.waitFor(O)})}(n,h))),m=m.next(()=>{!function(w){w.createObjectStore(la.store,{keyPath:la.keyPath})}(n)})),a<5&&l>=5&&(m=m.next(()=>this.Ce(h))),a<6&&l>=6&&(m=m.next(()=>(function(w){w.createObjectStore(vo.store)}(n),this.Ne(h)))),a<7&&l>=7&&(m=m.next(()=>this.xe(h))),a<8&&l>=8&&(m=m.next(()=>this.ke(n,h))),a<9&&l>=9&&(m=m.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(n),function(w){const D=w.objectStore(On.store);D.createIndex(On.readTimeIndex,On.readTimeIndexPath,{unique:!1}),D.createIndex(On.collectionReadTimeIndex,On.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&l>=10&&(m=m.next(()=>this.$e(h))),a<11&&l>=11&&(m=m.next(()=>{(function(w){w.createObjectStore(Wd.store,{keyPath:Wd.keyPath})})(n),function(w){w.createObjectStore(Ls.store,{keyPath:Ls.keyPath})}(n)})),m}Ne(n){let r=0;return n.store(On.store).Kt((a,l)=>{r+=Ow(l)}).next(()=>{const a=new vo(r);return n.store(vo.store).put(vo.key,a)})}Ce(n){const r=n.store(_o.store),a=n.store(hn.store);return r.Lt().next(l=>Te.forEach(l,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Lt(hn.userMutationsIndex,m).next(w=>Te.forEach(w,D=>{lt(D.userId===h.userId);const A=Ll(this.N,D);return TD(n,h.userId,A).next(()=>{})}))}))}xe(n){const r=n.store(lr.store),a=n.store(On.store);return n.store(xi.store).get(xi.key).next(l=>{const h=[];return a.Kt((m,w)=>{const D=new Bt(m),A=[0,Ri(D)];h.push(r.get(A).next(x=>x?Te.resolve():r.put(new lr(0,Ri(D),l.highestListenSequenceNumber))))}).next(()=>Te.waitFor(h))})}ke(n,r){n.createObjectStore(zd.store,{keyPath:zd.keyPath});const a=r.store(zd.store),l=new Lp,h=m=>{if(l.add(m)){const w=m.lastSegment(),D=m.popLast();return a.put({collectionId:w,parent:Ri(D)})}};return r.store(On.store).Kt({qt:!0},(m,w)=>{const D=new Bt(m);return h(D.popLast())}).next(()=>r.store(Ir.store).Kt({qt:!0},([m,w,D],A)=>{const x=wn(w);return h(x.popLast())}))}$e(n){const r=n.store(hi.store);return r.Kt((a,l)=>{const h=Fp(l),m=ID(this.N,h);return r.put(m)})}}function FR(i){i.createObjectStore(lr.store,{keyPath:lr.keyPath}).createIndex(lr.documentTargetsIndex,lr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(hi.store,{keyPath:hi.keyPath}).createIndex(hi.queryTargetsIndexName,hi.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(xi.store)}const Ul="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kw{constructor(n,r,a,l,h,m,w,D,A,x){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=h,this.window=m,this.document=w,this.Fe=A,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!kw.bt())throw new De(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ND(this,l),this.We=r+"main",this.N=new Rw(D),this.Ge=new Vs(this.We,11,new kR(this.N)),this.ze=new MR(this.referenceDelegate,this.N),this.Ht=new Eo,this.He=new PR(this.N,this.Ht),this.Je=new xR,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&Hn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new De(de.FAILED_PRECONDITION,Ul);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Ai(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,me.Z)(function*(l){if(r.started)return n(l)});return function(l){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,me.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,me.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Hy(n).put(new la(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Pl(n))return Me("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Bl(n).get(Sn.key).next(r=>Te.resolve(this.cn(r)))}un(n){return Hy(n).delete(this.clientId)}hn(){var n=this;return(0,me.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=fi(a,la.store);return l.Lt().next(h=>{const m=n.fn(h,18e5),w=h.filter(D=>-1===m.indexOf(D));return Te.forEach(w,D=>l.delete(D.clientId)).next(()=>w)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Te.resolve(!0):Bl(n).get(Sn.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new De(de.FAILED_PRECONDITION,Ul);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hy(n).Lt().next(a=>void 0===this.fn(a,5e3).find(l=>{if(this.clientId!==l.clientId){const m=!this.inForeground&&l.inForeground,w=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||m&&w)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Me("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,me.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Sn.store,la.store],r=>{const a=new CD(r,Ai.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Hy(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return Up.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let h;return Me("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",GN,m=>(h=new CD(m,this.Le?this.Le.next():Ai.T),"readwrite-primary"===r?this.sn(h).next(w=>!!w||this.rn(h)).next(w=>{if(!w)throw Hn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new De(de.FAILED_PRECONDITION,Iw);return a(h)}).next(w=>this.an(h).next(()=>w)):this.En(h).next(()=>a(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(n){return Bl(n).get(Sn.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new De(de.FAILED_PRECONDITION,Ul)})}an(n){const r=new Sn(this.clientId,this.allowTabSynchronization,Date.now());return Bl(n).put(Sn.key,r)}static bt(){return Vs.bt()}on(n){const r=Bl(n);return r.get(Sn.key).next(a=>this.cn(a)?(Me("IndexedDbPersistence","Releasing primary lease."),r.delete(Sn.key)):Te.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(Hn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Et.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Me("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Hn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Hn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Bl(i){return fi(i,Sn.store)}function Hy(i){return fi(i,la.store)}function $y(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class LR{constructor(n,r){this.progress=n,this.Tn=r}}class MD{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(l=>{for(const h of a)h.applyToLocalView(l);return l})}bn(n,r){n.forEach((a,l)=>{for(const h of r)h.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return Je.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):Sy(r)?this.Sn(n,r,a):this.Dn(n,r,a);var l}Vn(n,r){return this.An(n,new Je(r)).next(a=>{let l=yw();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Sn(n,r,a){const l=r.collectionGroup;let h=yw();return this.Ht.getCollectionParents(n,l).next(m=>Te.forEach(m,w=>{const D=(A=r,x=w.child(l),new go(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,x;return this.Dn(n,D,a).next(A=>{A.forEach((x,O)=>{h=h.insert(x,O)})})}).next(()=>h))}Dn(n,r,a){let l,h;return this.He.getDocumentsMatchingQuery(n,r,a).next(m=>(l=m,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(m=>(h=m,this.Cn(n,h,l).next(w=>{l=w;for(const D of h)for(const A of D.mutations){const x=A.key;let O=l.get(x);null==O&&(O=vn.newInvalidDocument(x),l=l.insert(x,O)),aa(A,O,D.localWriteTime),O.isFoundDocument()||(l=l.remove(x))}}))).next(()=>(l.forEach((m,w)=>{Pt(r,w)||(l=l.remove(m))}),l))}Cn(n,r,a){let l=bt();for(const m of r)for(const w of m.mutations)w instanceof mo&&null===a.get(w.key)&&(l=l.add(w.key));let h=a;return this.He.getEntries(n,l).next(m=>(m.forEach((w,D)=>{D.isFoundDocument()&&(h=h.insert(w,D))}),h))}}class jp{constructor(n,r,a,l){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=l}static kn(n,r){let a=bt(),l=bt();for(const h of r.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new jp(n,r.fromCache,a,l)}}class Fw{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,l){return 0===(h=r).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||a.isEqual(It.min())?this.Fn(n,r):this.On.Pn(n,l).next(h=>{const m=this.Mn(r,h);return(Ap(r)||Sp(r))&&this.Ln(r.limitType,m,l,a)?this.Fn(n,r):(sw()<=dl.in.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(w=>(m.forEach(D=>{w=w.insert(D.key,D)}),w)))});var h}Mn(n,r){let a=new $e(sa(n));return r.forEach((l,h)=>{Pt(n,h)&&(a=a.add(h))}),a}Ln(n,r,a,l){if(a.size!==r.size)return!0;const h="F"===n?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Fn(n,r){return sw()<=dl.in.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Tl(r)),this.On.getDocumentsMatchingQuery(n,r,It.min())}}class OD{constructor(n,r,a,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new Vn(St),this.qn=new Xd(h=>Ip(h),Iy),this.Kn=It.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new MD(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function Hp(i,n,r,a){return new OD(i,n,r,a)}function Gy(i,n){return PD.apply(this,arguments)}function PD(){return(PD=(0,me.Z)(function*(i,n){const r=Le(i);let a=r.In,l=r.Qn;const h=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let w;return r.In.getAllMutationBatches(m).next(D=>(w=D,a=r.persistence.getMutationQueue(n),l=new MD(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(m))).next(D=>{const A=[],x=[];let O=bt();for(const H of w){A.push(H.batchId);for(const U of H.mutations)O=O.add(U.key)}for(const H of D){x.push(H.batchId);for(const U of H.mutations)O=O.add(U.key)}return l.Pn(m,O).next(H=>({Wn:H,removedBatchIds:A,addedBatchIds:x}))})});return r.In=a,r.Qn=l,r.Bn.$n(r.Qn),h})).apply(this,arguments)}function kD(i,n){const r=Le(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=n.batch.keys(),h=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,w,D,A){const x=D.batch,O=x.keys();let H=Te.resolve();return O.forEach(U=>{H=H.next(()=>A.getEntry(w,U)).next(te=>{const Se=D.docVersions.get(U);lt(null!==Se),te.version.compareTo(Se)<0&&(x.applyToRemoteDocument(te,D),te.isValidDocument()&&A.addEntry(te,D.commitVersion))})}),H.next(()=>m.In.removeMutationBatch(w,x))}(r,a,n,h).next(()=>h.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,l))})}function FD(i){const n=Le(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function LD(i,n){const r=Le(i),a=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const w=[];n.targetChanges.forEach((A,x)=>{const O=l.get(x);if(!O)return;w.push(r.ze.removeMatchingKeys(h,A.removedDocuments,x).next(()=>r.ze.addMatchingKeys(h,A.addedDocuments,x)));const H=A.resumeToken;if(H.approximateByteSize()>0){const U=O.withResumeToken(H,a).withSequenceNumber(h.currentSequenceNumber);l=l.insert(x,U),te=O,ke=A,lt((Se=U).resumeToken.approximateByteSize()>0),(0===te.resumeToken.approximateByteSize()||Se.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&w.push(r.ze.updateTargetData(h,U))}var te,Se,ke});let D=is();if(n.documentUpdates.forEach((A,x)=>{n.resolvedLimboDocuments.has(A)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(h,A))}),w.push($p(h,m,n.documentUpdates,a,void 0).next(A=>{D=A})),!a.isEqual(It.min())){const A=r.ze.getLastRemoteSnapshotVersion(h).next(x=>r.ze.setTargetsMetadata(h,h.currentSequenceNumber,a));w.push(A)}return Te.waitFor(w).next(()=>m.apply(h)).next(()=>r.Qn.vn(h,D)).next(()=>D)}).then(h=>(r.Un=l,h))}function $p(i,n,r,a,l){let h=bt();return r.forEach(m=>h=h.add(m)),n.getEntries(i,h).next(m=>{let w=is();return r.forEach((D,A)=>{const x=m.get(D),O=(null==l?void 0:l.get(D))||a;A.isNoDocument()&&A.version.isEqual(It.min())?(n.removeEntry(D,O),w=w.insert(D,A)):!x.isValidDocument()||A.version.compareTo(x.version)>0||0===A.version.compareTo(x.version)&&x.hasPendingWrites?(n.addEntry(A,O),w=w.insert(D,A)):Me("LocalStore","Ignoring outdated watch update for ",D,". Current version:",x.version," Watch version:",A.version)}),w})}function VD(i,n){const r=Le(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function eh(i,n){const r=Le(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.ze.getTargetData(a,n).next(h=>h?(l=h,Te.resolve(l)):r.ze.allocateTargetId(a).next(m=>(l=new ss(n,m,0,a.currentSequenceNumber),r.ze.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Un.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function lu(i,n,r){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,me.Z)(function*(i,n,r){const a=Le(i),l=a.Un.get(n),h=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!Pl(m))throw m;Me("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}a.Un=a.Un.remove(n),a.qn.delete(l.target)})).apply(this,arguments)}function qy(i,n,r){const a=Le(i);let l=It.min(),h=bt();return a.persistence.runTransaction("Execute query","readonly",m=>function(w,D,A){const x=Le(w),O=x.qn.get(A);return void 0!==O?Te.resolve(x.Un.get(O)):x.ze.getTargetData(D,A)}(a,m,Si(n)).next(w=>{if(w)return l=w.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(m,w.targetId).next(D=>{h=D})}).next(()=>a.Bn.getDocumentsMatchingQuery(m,n,r?l:It.min(),r?h:bt())).next(w=>({documents:w,Gn:h})))}function UD(i,n){const r=Le(i),a=Le(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",h=>a.Et(h,n).next(m=>m?m.target:null))}function Lw(i){const n=Le(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,l,h){const m=Le(a);let w=is(),D=Ly(h);const A=Ni(l),x=IDBKeyRange.lowerBound(D,!0);return A.Kt({index:On.readTimeIndex,range:x},(O,H)=>{const U=Fy(m.N,H);w=w.insert(U.key,U),D=H.readTime}).next(()=>({Tn:w,readTime:Nw(D)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function zy(){return(zy=(0,me.Z)(function*(i){const n=Le(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const l=Ni(a);let h=It.min();return l.Kt({index:On.readTimeIndex,reverse:!0},(m,w,D)=>{w.readTime&&(h=Nw(w.readTime)),D.done()}).next(()=>h)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Wy(){return(Wy=(0,me.Z)(function*(i,n,r,a){const l=Le(i);let h=bt(),m=is(),w=cR();for(const x of r){const O=n.zn(x.metadata.name);x.document&&(h=h.add(O)),m=m.insert(O,n.Hn(x)),w=w.insert(O,n.Jn(x.metadata.readTime))}const D=l.jn.newChangeBuffer({trackRemovals:!0}),A=yield eh(l,(x=a,Si(ru(Bt.fromString(`__bundle__/docs/${x}`)))));var x;return l.persistence.runTransaction("Apply bundle documents","readwrite",x=>$p(x,D,m,It.min(),w).next(O=>(D.apply(x),O)).next(O=>l.ze.removeMatchingKeysForTargetId(x,A.targetId).next(()=>l.ze.addMatchingKeys(x,h,A.targetId)).next(()=>l.Qn.vn(x,O)).next(()=>O)))})).apply(this,arguments)}function jD(i,n){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,me.Z)(function*(i,n,r=bt()){const a=yield eh(i,Si(Mw(n.bundledQuery))),l=Le(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const m=ur(n.readTime);if(a.snapshotVersion.compareTo(m)>=0)return l.Je.saveNamedQuery(h,n);const w=a.withResumeToken(ar.EMPTY_BYTE_STRING,m);return l.Un=l.Un.insert(w.targetId,w),l.ze.updateTargetData(h,w).next(()=>l.ze.removeMatchingKeysForTargetId(h,a.targetId)).next(()=>l.ze.addMatchingKeys(h,r,a.targetId)).next(()=>l.Je.saveNamedQuery(h,n))})})).apply(this,arguments)}class UR{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Te.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:ur(a.createTime)}),Te.resolve()}getNamedQuery(n,r){return Te.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:Mw(a.bundledQuery),readTime:ur(a.readTime)}),Te.resolve();var a}}class Zy{constructor(){this.Zn=new $e(cr.ts),this.es=new $e(cr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new cr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new cr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new Je(new Bt([])),a=new cr(r,n),l=new cr(r,n+1),h=[];return this.es.forEachInRange([a,l],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Je(new Bt([])),a=new cr(r,n),l=new cr(r,n+1);let h=bt();return this.es.forEachInRange([a,l],m=>{h=h.add(m.key)}),h}containsKey(n){const r=new cr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class cr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Je.comparator(n.key,r.key)||St(n.ls,r.ls)}static ns(n,r){return St(n.ls,r.ls)||Je.comparator(n.key,r.key)}}class HD{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new $e(cr.ts)}checkEmpty(n){return Te.resolve(0===this.In.length)}addMutationBatch(n,r,a,l){const h=this.fs;this.fs++;const m=new Aw(h,r,a,l);this.In.push(m);for(const w of l)this.ds=this.ds.add(new cr(w.key,h)),this.Ht.addToCollectionParentIndex(n,w.key.path.popLast());return Te.resolve(m)}lookupMutationBatch(n,r){return Te.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),h=l<0?0:l;return Te.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Te.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new cr(r,0),l=new cr(r,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([a,l],m=>{const w=this.ws(m.ls);h.push(w)}),Te.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new $e(St);return r.forEach(l=>{const h=new cr(l,0),m=new cr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],w=>{a=a.add(w.ls)})}),Te.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1;let h=a;Je.isDocumentKey(h)||(h=h.child(""));const m=new cr(new Je(h),0);let w=new $e(St);return this.ds.forEachWhile(D=>{const A=D.key.path;return!!a.isPrefixOf(A)&&(A.length===l&&(w=w.add(D.ls)),!0)},m),Te.resolve(this.gs(w))}gs(n){const r=[];return n.forEach(a=>{const l=this.ws(a);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){lt(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return Te.forEach(r.mutations,l=>{const h=new cr(l.key,r.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new cr(r,0),l=this.ds.firstAfterOrEqual(a);return Te.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return Te.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class $D{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Vn(Je.comparator),this.size=0}addEntry(n,r,a){const l=r.key,h=this.docs.get(l),m=h?h.size:0,w=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:w,readTime:a}),this.size+=w-m,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return Te.resolve(a?a.document.clone():vn.newInvalidDocument(r))}getEntries(n,r){let a=is();return r.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.clone():vn.newInvalidDocument(l))}),Te.resolve(a)}getDocumentsMatchingQuery(n,r,a){let l=is();const h=new Je(r.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:w,value:{document:D,readTime:A}}=m.getNext();if(!r.path.isPrefixOf(w.path))break;A.compareTo(a)<=0||Pt(r,D)&&(l=l.insert(D.key,D.clone()))}return Te.resolve(l)}Es(n,r){return Te.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new GD(this)}getSize(n){return Te.resolve(this.size)}}class GD extends Pw{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Te.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class qD{constructor(n){this.persistence=n,this.Ts=new Xd(r=>Ip(r),Iy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Is=0,this.As=new Zy,this.targetCount=0,this.Rs=Vl.se()}forEachTarget(n,r){return this.Ts.forEach((a,l)=>r(l)),Te.resolve()}getLastRemoteSnapshotVersion(n){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Te.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),Te.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new Vl(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Te.resolve()}updateTargetData(n,r){return this.ae(r),Te.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Te.resolve()}removeTargets(n,r,a){let l=0;const h=[];return this.Ts.forEach((m,w)=>{w.sequenceNumber<=r&&null===a.get(w.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(n,w.targetId)),l++)}),Te.waitFor(h).next(()=>l)}getTargetCount(n){return Te.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return Te.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),Te.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const l=this.persistence.referenceDelegate,h=[];return l&&r.forEach(m=>{h.push(l.markPotentiallyOrphaned(n,m))}),Te.waitFor(h)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Te.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return Te.resolve(a)}containsKey(n,r){return Te.resolve(this.As.containsKey(r))}}class BR{constructor(n,r){this.bs={},this.Le=new Ai(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new qD(this),this.Ht=new NR,this.He=new $D(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new Rw(r),this.Je=new UR(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new HD(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){Me("MemoryPersistence","Starting transaction:",n);const l=new jR(this.Le.next());return this.referenceDelegate.vs(),a(l).next(h=>this.referenceDelegate.Vs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ss(n,r){return Te.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class jR extends wD{constructor(n){super(),this.currentSequenceNumber=n}}class Uw{constructor(n){this.persistence=n,this.Ds=new Zy,this.Cs=null}static Ns(n){return new Uw(n)}get xs(){if(this.Cs)return this.Cs;throw Ke()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),Te.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),Te.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Te.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(h=>this.xs.add(h.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,a=>{const l=Je.fromPath(a);return this.ks(n,l).next(h=>{h||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Te.or([()=>Te.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function Bw(i,n){return`firestore_clients_${i}_${n}`}function HR(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function zD(i,n){return`firestore_targets_${i}_${n}`}class jw{constructor(n,r,a,l){this.user=n,this.batchId=r,this.state=a,this.error=l}static $s(n,r,a){const l=JSON.parse(a);let h,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new De(l.error.code,l.error.message))),m?new jw(n,r,l.state,h):(Hn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Ky{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new De(a.error.code,a.error.message))),h?new Ky(n,a.state,l):(Hn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Hw{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let l="object"==typeof a&&a.activeTargetIds instanceof Array,h=My();for(let m=0;l&&m<a.activeTargetIds.length;++m)l=ZI(a.activeTargetIds[m]),h=h.add(a.activeTargetIds[m]);return l?new Hw(n,h):(Hn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class WD{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new WD(r.clientId,r.onlineState):(Hn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class ZD{constructor(){this.activeTargetIds=My()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class KD{constructor(n,r,a,l,h){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Vn(St),this.started=!1,this.Ks=[];const m=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=Bw(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new ZD),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,me.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const h=n.getItem(Bw(n.persistenceKey,l));if(h){const m=Hw.$s(l,h);m&&(n.qs=n.qs.insert(m.clientId,m))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const l=n.Xs(a);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(zD(this.persistenceKey,n));if(a){const l=Ky.$s(n,a);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(zD(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(l=>{this.ni(l)}),this.currentUser=n,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Me("SharedClientState","READ",n,r),r}setItem(n,r){Me("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Me("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(Me("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Hn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,me.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const l=r.ai(a.key);return r.ci(l,null)}{const l=r.ui(a.key,a.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const l=r.hi(a.key,a.newValue);if(l)return r.li(l)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const l=r.fi(a.key,a.newValue);if(l)return r.di(l)}}else if(a.key===r.Hs){if(null!==a.newValue){const l=r.Xs(a.newValue);if(l)return r.Zs(l)}}else if(a.key===r.Qs){const l=function(h){let m=Ai.T;if(null!=h)try{const w=JSON.parse(h);lt("number"==typeof w),m=w}catch(w){Hn("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(a.newValue);l!==Ai.T&&r.sequenceNumberHandler(l)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const l=new jw(this.currentUser,n,r,a),h=HR(this.persistenceKey,this.currentUser,n);this.setItem(h,l.Os())}ni(n){const r=HR(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const l=zD(this.persistenceKey,n),h=new Ky(n,r,a);this.setItem(l,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Hw.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),l=Number(a[1]);return jw.$s(new sr(void 0!==a[2]?a[2]:null),l,r)}fi(n,r){const a=this.zs.exec(n),l=Number(a[1]);return Ky.$s(l,r)}Xs(n){return WD.$s(n)}li(n){var r=this;return(0,me.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Me("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),h=this.ti(a),m=[],w=[];return h.forEach(D=>{l.has(D)||m.push(D)}),l.forEach(D=>{h.has(D)||w.push(D)}),this.syncEngine.gi(m,w).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=My();return n.forEach((a,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class $R{constructor(){this.yi=new ZD,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new ZD,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class zN{Ei(n){}shutdown(){}}class GR{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ZN{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class KN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,l){const h=this.Bi(n,r);Me("RestConnection","Sending: ",h,a);const m={};return this.Ui(m,l),this.qi(n,h,m,a).then(w=>(Me("RestConnection","Received: ",w),w),w=>{throw _p("RestConnection",`${n} failed with error: `,w,"url: ",h,"request:",a),w})}Ki(n,r,a,l){return this.Li(n,r,a,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+bl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${WN[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,l){return new Promise((h,m)=>{const w=new qS;w.listenOnce(HS.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case iw.NO_ERROR:const A=w.getResponseJson();Me("Connection","XHR received:",JSON.stringify(A)),h(A);break;case iw.TIMEOUT:Me("Connection",'RPC "'+n+'" timed out'),m(new De(de.DEADLINE_EXCEEDED,"Request time out"));break;case iw.HTTP_ERROR:const x=w.getStatus();if(Me("Connection",'RPC "'+n+'" failed with status:',x,"response text:",w.getResponseText()),x>0){const O=w.getResponseJson().error;if(O&&O.status&&O.message){const H=function(U){const te=U.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(te)>=0?te:de.UNKNOWN}(O.status);m(new De(H,O.message))}else m(new De(de.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new De(de.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Me("Connection",'RPC "'+n+'" completed.')}});const D=JSON.stringify(l);w.send(r,"POST",D,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=jI(),h=jS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new GS({})),this.Ui(m.initMessageHeaders,r),(0,Et.uI)()||(0,Et.b$)()||(0,Et.d)()||(0,Et.w1)()||(0,Et.Mn)()||(0,Et.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");Me("Connection","Creating WebChannel: "+w,m);const D=l.createWebChannel(w,m);let A=!1,x=!1;const O=new ZN({vi:U=>{x?Me("Connection","Not sending because WebChannel is closed:",U):(A||(Me("Connection","Opening WebChannel transport."),D.open(),A=!0),Me("Connection","WebChannel sending:",U),D.send(U))},Vi:()=>D.close()}),H=(U,te,Se)=>{U.listen(te,ke=>{try{Se(ke)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return H(D,yy.EventType.OPEN,()=>{x||Me("Connection","WebChannel transport opened.")}),H(D,yy.EventType.CLOSE,()=>{x||(x=!0,Me("Connection","WebChannel transport closed"),O.$i())}),H(D,yy.EventType.ERROR,U=>{x||(x=!0,_p("Connection","WebChannel transport errored:",U),O.$i(new De(de.UNAVAILABLE,"The operation could not be completed")))}),H(D,yy.EventType.MESSAGE,U=>{var te;if(!x){const Se=U.data[0];lt(!!Se);const ke=Se,Ye=ke.error||(null===(te=ke[0])||void 0===te?void 0:te.error);if(Ye){Me("Connection","WebChannel received error:",Ye);const mt=Ye.status;let st=function(Un){const Ea=Ln[Un];if(void 0!==Ea)return Ny(Ea)}(mt),dt=Ye.message;void 0===st&&(st=de.INTERNAL,dt="Unknown error status: "+mt+" with message "+Ye.message),x=!0,O.$i(new De(st,dt)),D.close()}else Me("Connection","WebChannel received:",Se),O.Oi(Se)}}),H(h,$S.STAT_EVENT,U=>{U.stat===HI.PROXY?Me("Connection","Detected buffering proxy"):U.stat===HI.NOPROXY&&Me("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function qR(){return"undefined"!=typeof window?window:null}function $w(){return"undefined"!=typeof document?document:null}function Yy(i){return new _w(i,!0)}class Gw{constructor(n,r,a=1e3,l=1.5,h=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=l,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-a);l>0&&Me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class YD{constructor(n,r,a,l,h,m){this.Oe=n,this.er=a,this.nr=l,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Gw(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,me.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,me.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,me.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(Hn(r.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===de.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const l=new De(de.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,me.Z)(function*(){n.state=0,n.start()}))}pr(n){return Me("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zR extends YD{constructor(n,r,a,l,h){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,h),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(D=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:Ke(),l=n.targetChange.targetIds||[],h=function(D,A){return D.D?(lt(void 0===A||"string"==typeof A),ar.fromBase64String(A||"")):(lt(void 0===A||A instanceof Uint8Array),ar.fromUint8Array(A||new Uint8Array))}(i,n.targetChange.resumeToken),m=n.targetChange.cause,w=m&&function(D){const A=void 0===D.code?de.UNKNOWN:Ny(D.code);return new De(A,D.message||"")}(m);r=new uD(a,l,h,w||null)}else if("documentChange"in n){const a=n.documentChange,l=yo(i,a.document.name),h=ur(a.document.updateTime),m=new Kr({mapValue:{fields:a.document.fields}}),w=vn.newFoundDocument(l,h,m);r=new Oy(a.targetIds||[],a.removedTargetIds||[],w.key,w)}else if("documentDelete"in n){const a=n.documentDelete,l=yo(i,a.document),h=a.readTime?ur(a.readTime):It.min(),m=vn.newNoDocument(l,h);r=new Oy([],a.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const a=n.documentRemove,l=yo(i,a.document);r=new Oy([],a.removedTargetIds||[],l,null)}else{if(!("filter"in n))return Ke();{const a=n.filter,h=new sD(a.count||0);r=new aD(a.targetId,h)}}var D;return r}(this.N,n),a=function(l){if(!("targetChange"in l))return It.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?It.min():h.readTime?ur(h.readTime):It.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=Pp(this.N),r.addTarget=function(l,h){let m;const w=h.target;return m=Dy(w)?{documents:mD(l,w)}:{query:ww(l,w)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=gR(l,h.resumeToken):h.snapshotVersion.compareTo(It.min())>0&&(m.readTime=Mp(l,h.snapshotVersion.toTimestamp())),m}(this.N,n);const a=function(i,n){const r=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ke()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=Pp(this.N),r.removeTarget=n,this.wr(r)}}class YN extends YD{constructor(n,r,a,l,h){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,h),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(lt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(lt(void 0!==n),i.map(r=>function(a,l){let h=ur(a.updateTime?a.updateTime:l);return h.isEqual(It.min())&&(h=ur(l)),new rD(h,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=ur(n.commitTime);return this.listener.vr(a,r)}return lt(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Pp(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>ky(this.N,a))};this.wr(r)}}class QN extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new De(de.UNKNOWN,l.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new De(de.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class JN{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Hn(r),this.$r=!1):Me("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class WR{constructor(n,r,a,l,h){var m=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(w=>{a.enqueueAndForget((0,me.Z)(function*(){var D;Mi(m)&&(Me("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,me.Z)(function*(A){const x=Le(A);x.Kr.add(4),yield zp(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield qp(x)}),function(A){return D.apply(this,arguments)})(m))}))}),this.Wr=new JN(a,l)}}function qp(i){return qw.apply(this,arguments)}function qw(){return(qw=(0,me.Z)(function*(i){if(Mi(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function zp(i){return QD.apply(this,arguments)}function QD(){return(QD=(0,me.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function zw(i,n){const r=Le(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),Wp(r)?Zw(r):Hl(r).cr()&&Ww(r,n))}function Qy(i,n){const r=Le(i),a=Hl(r);r.qr.delete(n),a.cr()&&ZR(r,n),0===r.qr.size&&(a.cr()?a.lr():Mi(r)&&r.Wr.set("Unknown"))}function Ww(i,n){i.Gr.Y(n.targetId),Hl(i).Ir(n)}function ZR(i,n){i.Gr.Y(n),Hl(i).Ar(n)}function Zw(i){i.Gr=new fR({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),Hl(i).start(),i.Wr.Or()}function Wp(i){return Mi(i)&&!Hl(i).ar()&&i.qr.size>0}function Mi(i){return 0===Le(i).Kr.size}function Kw(i){i.Gr=void 0}function KR(i){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,me.Z)(function*(i){i.qr.forEach((n,r)=>{Ww(i,n)})})).apply(this,arguments)}function Qw(i,n){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,me.Z)(function*(i,n){Kw(i),Wp(i)?(i.Wr.Lr(n),Zw(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function JD(i,n,r){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,me.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof uD&&2===n.state&&n.cause)try{yield(a=(0,me.Z)(function*(l,h){const m=h.cause;for(const w of h.targetIds)l.qr.has(w)&&(yield l.remoteSyncer.rejectListen(w,m),l.qr.delete(w),l.Gr.removeTarget(w))}),function(l,h){return a.apply(this,arguments)})(i,n)}catch(a){Me("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield Jw(i,a)}else if(n instanceof Oy?i.Gr.rt(n):n instanceof aD?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(It.min()))try{const a=yield FD(i.localStore);r.compareTo(a)>=0&&(yield function(l,h){const m=l.Gr._t(h);return m.targetChanges.forEach((w,D)=>{if(w.resumeToken.approximateByteSize()>0){const A=l.qr.get(D);A&&l.qr.set(D,A.withResumeToken(w.resumeToken,h))}}),m.targetMismatches.forEach(w=>{const D=l.qr.get(w);if(!D)return;l.qr.set(w,D.withResumeToken(ar.EMPTY_BYTE_STRING,D.snapshotVersion)),ZR(l,w);const A=new ss(D.target,w,1,D.sequenceNumber);Ww(l,A)}),l.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(a){Me("RemoteStore","Failed to raise snapshot:",a),yield Jw(i,a)}var a})).apply(this,arguments)}function Jw(i,n,r){return e_.apply(this,arguments)}function e_(){return(e_=(0,me.Z)(function*(i,n,r){if(!Pl(n))throw n;i.Kr.add(1),yield zp(i),i.Wr.set("Offline"),r||(r=()=>FD(i.localStore)),i.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Me("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield qp(i)}))})).apply(this,arguments)}function Zp(i,n){return n().catch(r=>Jw(i,r,n))}function jl(i){return XD.apply(this,arguments)}function XD(){return(XD=(0,me.Z)(function*(i){const n=Le(i),r=cu(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;XN(n);)try{const l=yield VD(n.localStore,a);if(null===l){0===n.Ur.length&&r.lr();break}a=l.batchId,eM(n,l)}catch(l){yield Jw(n,l)}eT(n)&&YR(n)})).apply(this,arguments)}function XN(i){return Mi(i)&&i.Ur.length<10}function eM(i,n){i.Ur.push(n);const r=cu(i);r.cr()&&r.br&&r.Pr(n.mutations)}function eT(i){return Mi(i)&&!cu(i).ar()&&i.Ur.length>0}function YR(i){cu(i).start()}function t_(i){return Xw.apply(this,arguments)}function Xw(){return(Xw=(0,me.Z)(function*(i){cu(i).Sr()})).apply(this,arguments)}function tM(i){return tT.apply(this,arguments)}function tT(){return(tT=(0,me.Z)(function*(i){const n=cu(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function e0(i,n,r){return t0.apply(this,arguments)}function t0(){return(t0=(0,me.Z)(function*(i,n,r){const a=i.Ur.shift(),l=Sw.from(a,n,r);yield Zp(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield jl(i)})).apply(this,arguments)}function nM(i,n){return nT.apply(this,arguments)}function nT(){return(nT=(0,me.Z)(function*(i,n){var r;n&&cu(i).br&&(yield(r=(0,me.Z)(function*(a,l){if(oD(h=l.code)&&h!==de.ABORTED){const m=a.Ur.shift();cu(a).hr(),yield Zp(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield jl(a)}var h}),function(a,l){return r.apply(this,arguments)})(i,n)),eT(i)&&YR(i)})).apply(this,arguments)}function n0(i,n){return rT.apply(this,arguments)}function rT(){return(rT=(0,me.Z)(function*(i,n){const r=Le(i);n?(r.Kr.delete(2),yield qp(r)):n||(r.Kr.add(2),yield zp(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function Hl(i){return i.zr||(i.zr=function(n,r,a){const l=Le(n);return l.Cr(),new zR(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:KR.bind(null,i),Ci:Qw.bind(null,i),Tr:JD.bind(null,i)}),i.jr.push(function(){var n=(0,me.Z)(function*(r){r?(i.zr.hr(),Wp(i)?Zw(i):i.Wr.set("Unknown")):(yield i.zr.stop(),Kw(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function cu(i){return i.Hr||(i.Hr=function(n,r,a){const l=Le(n);return l.Cr(),new YN(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:t_.bind(null,i),Ci:nM.bind(null,i),Vr:tM.bind(null,i),vr:e0.bind(null,i)}),i.jr.push(function(){var n=(0,me.Z)(function*(r){r?(i.Hr.hr(),yield jl(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Me("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class iT{constructor(n,r,a,l,h){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(n,r,a,l,h){const m=Date.now()+a,w=new iT(n,r,m,l,h);return w.start(a),w}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(de.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(i,n){if(Hn("AsyncQueue",`${n}: ${i}`),Pl(i))return new De(de.UNAVAILABLE,`${n}: ${i}`);throw i}class th{constructor(n){this.comparator=n?(r,a)=>n(r,a)||Je.comparator(r.key,a.key):(r,a)=>Je.comparator(r.key,a.key),this.keyedMap=yw(),this.sortedSet=new Vn(this.comparator)}static emptySet(n){return new th(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof th)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new th;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class nh{constructor(){this.Jr=new Vn(Je.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Ke():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class rh{constructor(n,r,a,l,h,m,w,D){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=w,this.excludesMetadataChanges=D}static fromInitialDocuments(n,r,a,l){const h=[];return r.forEach(m=>{h.push({type:0,doc:m})}),new rh(n,r,th.emptySet(r),h,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&iu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class QR{constructor(){this.Xr=void 0,this.listeners=[]}}class JR{constructor(){this.queries=new Xd(n=>tR(n),iu),this.onlineState="Unknown",this.Zr=new Set}}function Yp(i,n){return r0.apply(this,arguments)}function r0(){return(r0=(0,me.Z)(function*(i,n){const r=Le(i),a=n.query;let l=!1,h=r.queries.get(a);if(h||(l=!0,h=new QR),l)try{h.Xr=yield r.onListen(a)}catch(m){const w=Kp(m,`Initialization of query '${Tl(n.query)}' failed`);return void n.onError(w)}r.queries.set(a,h),h.listeners.push(n),n.eo(r.onlineState),h.Xr&&n.no(h.Xr)&&a0(r)})).apply(this,arguments)}function Jr(i,n){return s0.apply(this,arguments)}function s0(){return(s0=(0,me.Z)(function*(i,n){const r=Le(i),a=n.query;let l=!1;const h=r.queries.get(a);if(h){const m=h.listeners.indexOf(n);m>=0&&(h.listeners.splice(m,1),l=0===h.listeners.length)}if(l)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function o0(i,n){const r=Le(i);let a=!1;for(const l of n){const m=r.queries.get(l.query);if(m){for(const w of m.listeners)w.no(l)&&(a=!0);m.Xr=l}}a&&a0(r)}function XR(i,n,r){const a=Le(i),l=a.queries.get(n);if(l)for(const h of l.listeners)h.onError(r);a.queries.delete(n)}function a0(i){i.Zr.forEach(n=>{n.next()})}class Qp{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const l of n.docChanges)3!==l.type&&a.push(l);n=new rh(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=rh.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class sT{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class u0{constructor(n){this.N=n}zn(n){return yo(this.N,n)}Hn(n){return n.metadata.exists?yR(this.N,n.document,!1):vn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return ur(n)}}class ex{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=l0(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new u0(this.N);for(const l of n)if(l.metadata.queries){const h=a.zn(l.metadata.name);for(const m of l.metadata.queries){const w=(r.get(m)||bt()).add(h);r.set(m,w)}}return r}complete(){var n=this;return(0,me.Z)(function*(){const r=yield function(i,n,r,a){return Wy.apply(this,arguments)}(n.localStore,new u0(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const l of n.queries)yield jD(n.localStore,l,a.get(l.name));return n.progress.taskState="Success",new LR(Object.assign({},n.progress),r)})()}}function l0(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class c0{constructor(n){this.key=n}}class oT{constructor(n){this.key=n}}class aT{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=bt(),this.mutatedKeys=bt(),this.po=sa(n),this.Eo=new th(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new nh,l=r?r.Eo:this.Eo;let h=r?r.mutatedKeys:this.mutatedKeys,m=l,w=!1;const D=Ap(this.query)&&l.size===this.query.limit?l.last():null,A=Sp(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((x,O)=>{const H=l.get(x),U=Pt(this.query,O)?O:null,te=!!H&&this.mutatedKeys.has(H.key),Se=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ke=!1;H&&U?H.data.isEqual(U.data)?te!==Se&&(a.track({type:3,doc:U}),ke=!0):this.Ro(H,U)||(a.track({type:2,doc:U}),ke=!0,(D&&this.po(U,D)>0||A&&this.po(U,A)<0)&&(w=!0)):!H&&U?(a.track({type:0,doc:U}),ke=!0):H&&!U&&(a.track({type:1,doc:H}),ke=!0,(D||A)&&(w=!0)),ke&&(U?(m=m.add(U),h=Se?h.add(x):h.delete(x)):(m=m.delete(x),h=h.delete(x)))}),Ap(this.query)||Sp(this.query))for(;m.size>this.query.limit;){const x=Ap(this.query)?m.last():m.first();m=m.delete(x.key),h=h.delete(x.key),a.track({type:1,doc:x})}return{Eo:m,Ao:a,Ln:w,mutatedKeys:h}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const h=n.Ao.Yr();h.sort((A,x)=>function(O,H){const U=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return U(O)-U(H)}(A.type,x.type)||this.po(A.doc,x.doc)),this.bo(a);const m=r?this.Po():[],w=0===this.yo.size&&this.current?1:0,D=w!==this.mo;return this.mo=w,0!==h.length||D?{snapshot:new rh(this.query,n.Eo,l,h,n.mutatedKeys,0===w,D,!1),vo:m}:{vo:m}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new nh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=bt(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new oT(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new c0(a))}),r}So(n){this._o=n.Gn,this.yo=bt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return rh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class d0{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class uT{constructor(n){this.key=n,this.Co=!1}}class lT{constructor(n,r,a,l,h,m){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Xd(w=>tR(w),iu),this.ko=new Map,this.$o=new Set,this.Oo=new Vn(Je.comparator),this.Fo=new Map,this.Mo=new Zy,this.Lo={},this.Bo=new Map,this.Uo=Vl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function h0(i,n){return f0.apply(this,arguments)}function f0(){return(f0=(0,me.Z)(function*(i,n){const r=sh(i);let a,l;const h=r.xo.get(n);if(h)a=h.targetId,r.sharedClientState.addLocalQueryTarget(a),l=h.view.Do();else{const m=yield eh(r.localStore,Si(n)),w=r.sharedClientState.addLocalQueryTarget(m.targetId);a=m.targetId,l=yield Oi(r,n,a,"current"===w),r.isPrimaryClient&&zw(r.remoteStore,m)}return l})).apply(this,arguments)}function Oi(i,n,r,a){return p0.apply(this,arguments)}function p0(){return(p0=(0,me.Z)(function*(i,n,r,a){i.Ko=(x,O,H)=>{return(U=(0,me.Z)(function*(te,Se,ke,Ye){let mt=Se.view.Io(ke);mt.Ln&&(mt=yield qy(te.localStore,Se.query,!1).then(({documents:Un})=>Se.view.Io(Un,mt)));const st=Ye&&Ye.targetChanges.get(Se.targetId),dt=Se.view.applyChanges(mt,te.isPrimaryClient,st);return $l(te,Se.targetId,dt.vo),dt.snapshot}),function(te,Se,ke,Ye){return U.apply(this,arguments)})(i,x,O,H);var U};const l=yield qy(i.localStore,n,!0),h=new aT(n,l.Gn),m=h.Io(l.documents),w=Np.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),D=h.applyChanges(m,i.isPrimaryClient,w);$l(i,r,D.vo);const A=new d0(n,r,h);return i.xo.set(n,A),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),D.snapshot})).apply(this,arguments)}function rM(i,n){return g0.apply(this,arguments)}function g0(){return(g0=(0,me.Z)(function*(i,n){const r=Le(i),a=r.xo.get(n),l=r.ko.get(a.targetId);if(l.length>1)return r.ko.set(a.targetId,l.filter(h=>!iu(h,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield lu(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),Qy(r.remoteStore,a.targetId),ih(r,a.targetId)}).catch(ha))):(ih(r,a.targetId),yield lu(r.localStore,a.targetId,!0))})).apply(this,arguments)}function m0(){return(m0=(0,me.Z)(function*(i,n,r){const a=S0(i);try{const l=yield function(h,m){const w=Le(h),D=An.now(),A=m.reduce((O,H)=>O.add(H.key),bt());let x;return w.persistence.runTransaction("Locally write mutations","readwrite",O=>w.Qn.Pn(O,A).next(H=>{x=H;const U=[];for(const te of m){const Se=aR(te,x.get(te.key));null!=Se&&U.push(new mo(te.key,Se,YI(Se.value.mapValue),Mn.exists(!0)))}return w.In.addMutationBatch(O,D,U,m)})).then(O=>(O.applyToLocalDocumentSet(x),{batchId:O.batchId,changes:x}))}(a.localStore,n);a.sharedClientState.addPendingMutation(l.batchId),function(h,m,w){let D=h.Lo[h.currentUser.toKey()];D||(D=new Vn(St)),D=D.insert(m,w),h.Lo[h.currentUser.toKey()]=D}(a,l.batchId,r),yield fa(a,l.changes),yield jl(a.remoteStore)}catch(l){const h=Kp(l,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function cT(i,n){return y0.apply(this,arguments)}function y0(){return(y0=(0,me.Z)(function*(i,n){const r=Le(i);try{const a=yield LD(r.localStore,n);n.targetChanges.forEach((l,h)=>{const m=r.Fo.get(h);m&&(lt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.Co=!0:l.modifiedDocuments.size>0?lt(m.Co):l.removedDocuments.size>0&&(lt(m.Co),m.Co=!1))}),yield fa(r,a,n)}catch(a){yield ha(a)}})).apply(this,arguments)}function tx(i,n,r){const a=Le(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const l=[];a.xo.forEach((h,m)=>{const w=m.view.eo(n);w.snapshot&&l.push(w.snapshot)}),function(h,m){const w=Le(h);w.onlineState=m;let D=!1;w.queries.forEach((A,x)=>{for(const O of x.listeners)O.eo(m)&&(D=!0)}),D&&a0(w)}(a.eventManager,n),l.length&&a.No.Tr(l),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function nx(i,n,r){return n_.apply(this,arguments)}function n_(){return(n_=(0,me.Z)(function*(i,n,r){const a=Le(i);a.sharedClientState.updateQueryState(n,"rejected",r);const l=a.Fo.get(n),h=l&&l.key;if(h){let m=new Vn(Je.comparator);m=m.insert(h,vn.newNoDocument(h,It.min()));const w=bt().add(h),D=new Nl(It.min(),new Map,new $e(St),m,w);yield cT(a,D),a.Oo=a.Oo.remove(h),a.Fo.delete(n),s_(a)}else yield lu(a.localStore,n,!1).then(()=>ih(a,n,r)).catch(ha)})).apply(this,arguments)}function rx(i,n){return _0.apply(this,arguments)}function _0(){return(_0=(0,me.Z)(function*(i,n){const r=Le(i),a=n.batch.batchId;try{const l=yield kD(r.localStore,n);E0(r,a,null),i_(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield fa(r,l)}catch(l){yield ha(l)}})).apply(this,arguments)}function dT(i,n,r){return v0.apply(this,arguments)}function v0(){return(v0=(0,me.Z)(function*(i,n,r){const a=Le(i);try{const l=yield function(h,m){const w=Le(h);return w.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let A;return w.In.lookupMutationBatch(D,m).next(x=>(lt(null!==x),A=x.keys(),w.In.removeMutationBatch(D,x))).next(()=>w.In.performConsistencyCheck(D)).next(()=>w.Qn.Pn(D,A))})}(a.localStore,n);E0(a,n,r),i_(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield fa(a,l)}catch(l){yield ha(l)}})).apply(this,arguments)}function r_(){return(r_=(0,me.Z)(function*(i,n){const r=Le(i);Mi(r.remoteStore)||Me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(h){const m=Le(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>m.In.getHighestUnacknowledgedBatchId(w))}(r.localStore);if(-1===a)return void n.resolve();const l=r.Bo.get(a)||[];l.push(n),r.Bo.set(a,l)}catch(a){const l=Kp(a,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function i_(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function E0(i,n,r){const a=Le(i);let l=a.Lo[a.currentUser.toKey()];if(l){const h=l.get(n);h&&(r?h.reject(r):h.resolve(),l=l.remove(n)),a.Lo[a.currentUser.toKey()]=l}}function ih(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||w0(i,a)})}function w0(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(Qy(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),s_(i))}function $l(i,n,r){for(const a of r)a instanceof c0?(i.Mo.addReference(a.key,n),b0(i,a)):a instanceof oT?(Me("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||w0(i,a.key)):Ke()}function b0(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(Me("SyncEngine","New document in limbo: "+r),i.$o.add(a),s_(i))}function s_(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Je(Bt.fromString(n)),a=i.Uo.next();i.Fo.set(a,new uT(r)),i.Oo=i.Oo.insert(r,a),zw(i.remoteStore,new ss(Si(ru(r.path)),a,2,Ai.T))}}function fa(i,n,r){return C0.apply(this,arguments)}function C0(){return(C0=(0,me.Z)(function*(i,n,r){const a=Le(i),l=[],h=[],m=[];var w;a.xo.isEmpty()||(a.xo.forEach((w,D)=>{m.push(a.Ko(D,n,r).then(A=>{if(A){a.isPrimaryClient&&a.sharedClientState.updateQueryState(D.targetId,A.fromCache?"not-current":"current"),l.push(A);const x=jp.kn(D.targetId,A);h.push(x)}}))}),yield Promise.all(m),a.No.Tr(l),yield(w=(0,me.Z)(function*(D,A){const x=Le(D);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Te.forEach(A,H=>Te.forEach(H.Nn,U=>x.persistence.referenceDelegate.addReference(O,H.targetId,U)).next(()=>Te.forEach(H.xn,U=>x.persistence.referenceDelegate.removeReference(O,H.targetId,U)))))}catch(O){if(!Pl(O))throw O;Me("LocalStore","Failed to update sequence numbers: "+O)}for(const O of A){const H=O.targetId;if(!O.fromCache){const U=x.Un.get(H),Se=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);x.Un=x.Un.insert(H,Se)}}}),function(D,A){return w.apply(this,arguments)})(a.localStore,h))})).apply(this,arguments)}function oM(i,n){return hT.apply(this,arguments)}function hT(){return(hT=(0,me.Z)(function*(i,n){const r=Le(i);if(!r.currentUser.isEqual(n)){Me("SyncEngine","User change. New user:",n.toKey());const a=yield Gy(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(m=>{m.forEach(w=>{w.reject(new De(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield fa(r,a.Wn)}var l})).apply(this,arguments)}function aM(i,n){const r=Le(i),a=r.Fo.get(n);if(a&&a.Co)return bt().add(a.key);{let l=bt();const h=r.ko.get(n);if(!h)return l;for(const m of h){const w=r.xo.get(m);l=l.unionWith(w.view.To)}return l}}function fT(i,n){return o_.apply(this,arguments)}function o_(){return(o_=(0,me.Z)(function*(i,n){const r=Le(i),a=yield qy(r.localStore,n.query,!0),l=n.view.So(a);return r.isPrimaryClient&&$l(r,n.targetId,l.vo),l})).apply(this,arguments)}function ix(i){return I0.apply(this,arguments)}function I0(){return(I0=(0,me.Z)(function*(i){const n=Le(i);return Lw(n.localStore).then(r=>fa(n,r))})).apply(this,arguments)}function sx(i,n,r,a){return D0.apply(this,arguments)}function D0(){return(D0=(0,me.Z)(function*(i,n,r,a){const l=Le(i),h=yield function(m,w){const D=Le(m),A=Le(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",x=>A.Xt(x,w).next(O=>O?D.Qn.Pn(x,O):Te.resolve(null)))}(l.localStore,n);var w;null!==h?("pending"===r?yield jl(l.remoteStore):"acknowledged"===r||"rejected"===r?(E0(l,n,a||null),i_(l,n),w=n,Le(Le(l.localStore).In).te(w)):Ke(),yield fa(l,h)):Me("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function gT(){return(gT=(0,me.Z)(function*(i,n){const r=Le(i);if(sh(r),S0(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),l=yield ox(r,a.toArray());r.qo=!0,yield n0(r.remoteStore,!0);for(const h of l)zw(r.remoteStore,h)}else if(!1===n&&!1!==r.qo){const a=[];let l=Promise.resolve();r.ko.forEach((h,m)=>{r.sharedClientState.isLocalQueryTarget(m)?a.push(m):l=l.then(()=>(ih(r,m),lu(r.localStore,m,!0))),Qy(r.remoteStore,m)}),yield l,yield ox(r,a),function(h){const m=Le(h);m.Fo.forEach((w,D)=>{Qy(m.remoteStore,D)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Vn(Je.comparator)}(r),r.qo=!1,yield n0(r.remoteStore,!1)}})).apply(this,arguments)}function ox(i,n,r){return T0.apply(this,arguments)}function T0(){return(T0=(0,me.Z)(function*(i,n,r){const a=Le(i),l=[],h=[];for(const m of n){let w;const D=a.ko.get(m);if(D&&0!==D.length){w=yield eh(a.localStore,Si(D[0]));for(const A of D){const x=a.xo.get(A),O=yield fT(a,x);O.snapshot&&h.push(O.snapshot)}}else{const A=yield UD(a.localStore,m);w=yield eh(a.localStore,A),yield Oi(a,a_(A),m,!1)}l.push(w)}return a.No.Tr(h),l})).apply(this,arguments)}function a_(i){return cw(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function dr(i){const n=Le(i);return Le(Le(n.localStore).persistence).pn()}function uM(i,n,r,a){return u_.apply(this,arguments)}function u_(){return(u_=(0,me.Z)(function*(i,n,r,a){const l=Le(i);if(l.qo)Me("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const h=yield Lw(l.localStore),m=Nl.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield fa(l,h,m);break}case"rejected":yield lu(l.localStore,n,!0),ih(l,n,a);break;default:Ke()}})).apply(this,arguments)}function mT(i,n,r){return A0.apply(this,arguments)}function A0(){return(A0=(0,me.Z)(function*(i,n,r){const a=sh(i);if(a.qo){for(const l of n){if(a.ko.has(l)){Me("SyncEngine","Adding an already active target "+l);continue}const h=yield UD(a.localStore,l),m=yield eh(a.localStore,h);yield Oi(a,a_(h),m.targetId,!1),zw(a.remoteStore,m)}for(const l of r)a.ko.has(l)&&(yield lu(a.localStore,l,!1).then(()=>{Qy(a.remoteStore,l),ih(a,l)}).catch(ha))}})).apply(this,arguments)}function sh(i){const n=Le(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=aM.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=nx.bind(null,n),n.No.Tr=o0.bind(null,n.eventManager),n.No.jo=XR.bind(null,n.eventManager),n}function S0(i){const n=Le(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=rx.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=dT.bind(null,n),n}class R0{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,me.Z)(function*(){r.N=Yy(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return Hp(this.persistence,new Fw,n.initialUser,this.N)}Go(n){return new BR(Uw.Ns,this.N)}Wo(n){return new $R}terminate(){var n=this;return(0,me.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class du extends R0{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,me.Z)(function*(){yield r().call(a,n),yield function(i){return zy.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield S0(a.Jo.syncEngine),yield jl(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return Hp(this.persistence,new Fw,n.initialUser,this.N)}zo(n){return new xD(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=$y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new kw(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,qR(),$w(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new $R}}class yT extends du{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,me.Z)(function*(){yield r().call(a,n);const l=a.Jo.syncEngine;a.sharedClientState instanceof KD&&(a.sharedClientState.syncEngine={_i:sx.bind(null,l),mi:uM.bind(null,l),gi:mT.bind(null,l),pn:dr.bind(null,l),wi:ix.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var h=(0,me.Z)(function*(m){yield function(i,n){return gT.apply(this,arguments)}(a.Jo.syncEngine,m),a.gcScheduler&&(m&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):m||a.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(n){const r=qR();if(!KD.bt(r))throw new De(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=$y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new KD(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class Jp{initialize(n,r){var a=this;return(0,me.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>tx(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,a.syncEngine),yield n0(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new JR}createDatastore(n){const r=Yy(n.databaseInfo.databaseId),a=new KN(n.databaseInfo);return new QN(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,l=n.asyncQueue,h=w=>tx(this.syncEngine,w,0),m=GR.bt()?new GR:new zN,new WR(r,a,l,h,m);var r,a,l,h,m}createSyncEngine(n,r){return function(a,l,h,m,w,D,A){const x=new lT(a,l,h,m,w,D);return A&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,me.Z)(function*(r){const a=Le(r);Me("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield zp(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function l_(i,n=10240){let r=0;return{read:()=>(0,me.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class c_{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class d_{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new or,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,me.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,me.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,me.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),l=Number(a);isNaN(l)&&n.sa(`length string (${a}) is not valid number`);const h=yield n.ia(l);return new sT(JSON.parse(h),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,me.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,me.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,me.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class ux{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,me.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new De(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,me.Z)(function*(h,m){const w=Le(h),D=Pp(w.N)+"/documents",A={documents:m.map(U=>Op(w.N,U))},x=yield w.Ki("BatchGetDocuments",D,A),O=new Map;x.forEach(U=>{const te=function(i,n){return"found"in n?function(r,a){lt(!!a.found);const l=yo(r,a.found.name),h=ur(a.found.updateTime),m=new Kr({mapValue:{fields:a.found.fields}});return vn.newFoundDocument(l,h,m)}(i,n):"missing"in n?function(r,a){lt(!!a.missing),lt(!!a.readTime);const l=yo(r,a.missing),h=ur(a.readTime);return vn.newNoDocument(l,h)}(i,n):Ke()}(w.N,U);O.set(te.key.toString(),te)});const H=[];return m.forEach(U=>{const te=O.get(U.toString());lt(!!te),H.push(te)}),H}),function(h,m){return l.apply(this,arguments)})(r.datastore,n);var l;return a.forEach(l=>r.recordVersion(l)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new au(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,me.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,l)=>{const h=Je.fromPath(l);n.mutations.push(new xy(h,n.precondition(h)))}),yield(a=(0,me.Z)(function*(l,h){const m=Le(l),w=Pp(m.N)+"/documents",D={writes:h.map(A=>ky(m.N,A))};yield m.Li("Commit",w,D)}),function(l,h){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Ke();r=It.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new De(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Mn.updateTime(r):Mn.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(It.min()))throw new De(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(r)}return Mn.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class x0{constructor(n,r,a,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=l,this.aa=5,this.rr=new Gw(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,me.Z)(function*(){const r=new ux(n.datastore),a=n.ua(r);a&&a.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(h=>{n.ha(h)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!Md(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!oD(r)}return!1}}class _T{constructor(n,r,a){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=sr.UNAUTHENTICATED,this.clientId=WS.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var h=(0,me.Z)(function*(m){Me("FirestoreClient","Received user=",m.uid),yield l.credentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,me.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const l=Kp(a,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Xn(i,n){return vT.apply(this,arguments)}function vT(){return(vT=(0,me.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,me.Z)(function*(h){a.isEqual(h)||(yield Gy(n.localStore,h),a=h)});return function(h){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function ET(i,n){return N0.apply(this,arguments)}function N0(){return(N0=(0,me.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield wT(i);Me("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(l=>{return(h=(0,me.Z)(function*(m,w){const D=Le(m);D.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const A=Mi(D);D.Kr.add(3),yield zp(D),A&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(w),D.Kr.delete(3),yield qp(D)}),function(m,w){return h.apply(this,arguments)})(n.remoteStore,l);var h}),i.onlineComponents=n})).apply(this,arguments)}function wT(i){return oh.apply(this,arguments)}function oh(){return(oh=(0,me.Z)(function*(i){return i.offlineComponents||(Me("FirestoreClient","Using default OfflineComponentProvider"),yield Xn(i,new R0)),i.offlineComponents})).apply(this,arguments)}function h_(i){return bT.apply(this,arguments)}function bT(){return(bT=(0,me.Z)(function*(i){return i.onlineComponents||(Me("FirestoreClient","Using default OnlineComponentProvider"),yield ET(i,new Jp)),i.onlineComponents})).apply(this,arguments)}function lx(i){return wT(i).then(n=>n.persistence)}function CT(i){return wT(i).then(n=>n.localStore)}function IT(i){return h_(i).then(n=>n.remoteStore)}function M0(i){return h_(i).then(n=>n.syncEngine)}function ah(i){return O0.apply(this,arguments)}function O0(){return(O0=(0,me.Z)(function*(i){const n=yield h_(i),r=n.eventManager;return r.onListen=h0.bind(null,n.syncEngine),r.onUnlisten=rM.bind(null,n.syncEngine),r})).apply(this,arguments)}function DT(i,n,r={}){const a=new or;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(l,h,m,w,D){const A=new c_({next:O=>{h.enqueueAndForget(()=>Jr(l,x));const H=O.docs.has(m);!H&&O.fromCache?D.reject(new De(de.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&w&&"server"===w.source?D.reject(new De(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(O)},error:O=>D.reject(O)}),x=new Qp(ru(m.path),A,{includeMetadataChanges:!0,uo:!0});return Yp(l,x)}(yield ah(i),i.asyncQueue,n,r,a)})),a.promise}function fx(i,n,r={}){const a=new or;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(l,h,m,w,D){const A=new c_({next:O=>{h.enqueueAndForget(()=>Jr(l,x)),O.fromCache&&"server"===w.source?D.reject(new De(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(O)},error:O=>D.reject(O)}),x=new Qp(m,A,{includeMetadataChanges:!0,uo:!0});return Yp(l,x)}(yield ah(i),i.asyncQueue,n,r,a)})),a.promise}class yx{constructor(n,r,a,l,h,m,w,D){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=w,this.useFetchStreams=D}}class uh{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof uh&&n.projectId===this.projectId&&n.database===this.database}}const os=new Map;function P0(i,n,r){if(!r)throw new De(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function TT(i,n,r,a){if(!0===n&&!0===a)throw new De(de.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function AT(i){if(!Je.isDocumentKey(i))throw new De(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ST(i){if(Je.isDocumentKey(i))throw new De(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function k0(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":Ke()}function kt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new De(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=k0(i);throw new De(de.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function RT(i,n){if(n<=0)throw new De(de.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class xT{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new De(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new De(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,TT("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class pa{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,n instanceof uh?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new De(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(a.options.projectId)}(n))}get app(){if(!this._app)throw new De(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new zS;switch(r.type){case"gapi":const a=r.client;return lt(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new BN(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new De(de.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=os.get(n);r&&(Me("ComponentProvider","Removing Datastore"),os.delete(n),r.terminate())}(this),Promise.resolve()}}class bn{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new bn(this.firestore,n,this._key)}}class Lr{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new Lr(this.firestore,n,this._query)}}class ga extends Lr{constructor(n,r,a){super(n,r,ru(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new bn(this.firestore,null,new Je(n))}withConverter(n){return new ga(this.firestore,n,this._path)}}function _x(i,n,...r){if(i=(0,Et.m9)(i),P0("collection","path",n),i instanceof pa){const a=Bt.fromString(n,...r);return ST(a),new ga(i,null,a)}{if(!(i instanceof bn||i instanceof ga))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Bt.fromString(n,...r));return ST(a),new ga(i.firestore,null,a)}}function lh(i,n,...r){if(i=(0,Et.m9)(i),1===arguments.length&&(n=WS.I()),P0("doc","path",n),i instanceof pa){const a=Bt.fromString(n,...r);return AT(a),new bn(i,null,new Je(a))}{if(!(i instanceof bn||i instanceof ga))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Bt.fromString(n,...r));return AT(a),new bn(i.firestore,i instanceof ga?i.converter:null,new Je(a))}}function MT(i,n){return i=(0,Et.m9)(i),n=(0,Et.m9)(n),(i instanceof bn||i instanceof ga)&&(n instanceof bn||n instanceof ga)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function OT(i,n){return i=(0,Et.m9)(i),n=(0,Et.m9)(n),i instanceof Lr&&n instanceof Lr&&i.firestore===n.firestore&&iu(i._query,n._query)&&i.converter===n.converter}class vx{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Gw(this,"async_queue_retry"),this.Ea=()=>{const r=$w();r&&Me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=$w();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=$w();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new or;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,me.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Pl(r))throw r;Me("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,Hn("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=iT.createAndSchedule(this,n,r,a,h=>this.Ra(h));return this._a.push(l),l}Ta(){this.ma&&Ke()}verifyOperationInProgress(){}ba(){var n=this;return(0,me.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function PT(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(i)}class Ex{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Pn extends pa{constructor(n,r){super(n,r),this.type="firestore",this._queue=new vx,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||kT(this),this._firestoreClient.terminate()}}function $n(i){return i._firestoreClient||kT(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function kT(i){var n;const r=i._freezeSettings(),a=(h=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new yx(i._databaseId,h,i._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var h,w;i._firestoreClient=new _T(i._credentials,i._queue,a)}function F0(i,n,r){const a=new or;return i.asyncQueue.enqueue((0,me.Z)(function*(){try{yield Xn(i,r),yield ET(i,n),a.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===de.FAILED_PRECONDITION||h.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var h})).then(()=>a.promise)}function BT(i){if(i._initialized||i._terminated)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ma{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new De(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class bo{constructor(n){this._byteString=n}static fromBase64String(n){try{return new bo(ar.fromBase64String(n))}catch(r){throw new De(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new bo(ar.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Gl{constructor(n){this._methodName=n}}class p_{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new De(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new De(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return St(this._lat,n._lat)||St(this._long,n._long)}}const j0=/^__.*__$/;class Cx{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new mo(n,this.data,this.fieldMask,r,this.fieldTransforms):new ua(n,this.data,r,this.fieldTransforms)}}class Vr{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new mo(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function ch(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class ql{constructor(n,r,a,l,h,m){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=l,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new ql(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.ka(n),l}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return ph(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(ch(this.Da)&&j0.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class jT{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||Yy(n)}Ba(n,r,a,l=!1){return new ql({Da:n,methodName:r,La:a,path:br.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Co(i){const n=i._freezeSettings(),r=Yy(i._databaseId);return new jT(i._databaseId,!!n.ignoreUndefinedProperties,r)}function dh(i,n,r,a,l,h={}){const m=i.Ba(h.merge||h.mergeFields?2:0,n,r,l);eg("Data must be an object, but it was:",m,a);const w=ya(a,m);let D,A;if(h.merge)D=new Nd(m.fieldMask),A=m.fieldTransforms;else if(h.mergeFields){const x=[];for(const O of h.mergeFields){const H=G0(n,O,r);if(!m.contains(H))throw new De(de.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);$T(x,H)||x.push(H)}D=new Nd(x),A=m.fieldTransforms.filter(O=>D.covers(O.field))}else D=null,A=m.fieldTransforms;return new Cx(new Kr(w),D,A)}class hh extends Gl{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof hh}}function Xp(i,n,r){return new ql({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class H0 extends Gl{_toFieldTransform(n){return new Hd(n.path,new Sl)}isEqual(n){return n instanceof H0}}class Ix extends Gl{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=Xp(this,n,!0),a=this.Ua.map(h=>zl(h,r)),l=new su(a);return new Hd(n.path,l)}isEqual(n){return this===n}}class Dx extends Gl{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=Xp(this,n,!0),a=this.Ua.map(h=>zl(h,r)),l=new Rl(a);return new Hd(n.path,l)}isEqual(n){return this===n}}class Tx extends Gl{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Cr(n.N,gt(n.N,this.qa));return new Hd(n.path,r)}isEqual(n){return this===n}}function g_(i,n,r,a){const l=i.Ba(1,n,r);eg("Data must be an object, but it was:",l,a);const h=[],m=Kr.empty();Cl(a,(D,A)=>{const x=q0(n,D,r);A=(0,Et.m9)(A);const O=l.$a(x);if(A instanceof hh)h.push(x);else{const H=zl(A,O);null!=H&&(h.push(x),m.set(x,H))}});const w=new Nd(h);return new Vr(m,w,l.fieldTransforms)}function $0(i,n,r,a,l,h){const m=i.Ba(1,n,r),w=[G0(n,a,r)],D=[l];if(h.length%2!=0)throw new De(de.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<h.length;H+=2)w.push(G0(n,h[H])),D.push(h[H+1]);const A=[],x=Kr.empty();for(let H=w.length-1;H>=0;--H)if(!$T(A,w[H])){const U=w[H];let te=D[H];te=(0,Et.m9)(te);const Se=m.$a(U);if(te instanceof hh)A.push(U);else{const ke=zl(te,Se);null!=ke&&(A.push(U),x.set(U,ke))}}const O=new Nd(A);return new Vr(x,O,m.fieldTransforms)}function HT(i,n,r,a=!1){return zl(r,i.Ba(a?4:3,n))}function zl(i,n){if(fh(i=(0,Et.m9)(i)))return eg("Unsupported field value:",n,i),ya(i,n);if(i instanceof Gl)return function(r,a){if(!ch(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const l=[];let h=0;for(const m of r){let w=zl(m,a.Oa(h));null==w&&(w={nullValue:"NULL_VALUE"}),l.push(w),h++}return{arrayValue:{values:l}}}(i,n)}return function(r,a){if(null===(r=(0,Et.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return gt(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=An.fromDate(r);return{timestampValue:Mp(a.N,l)}}if(r instanceof An){const l=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mp(a.N,l)}}if(r instanceof p_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:gR(a.N,r._byteString)};if(r instanceof bn){const l=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw a.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vw(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${k0(r)}`)}(i,n)}function ya(i,n){const r={};return ks(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Cl(i,(a,l)=>{const h=zl(l,n.Na(a));null!=h&&(r[a]=h)}),{mapValue:{fields:r}}}function fh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof An||i instanceof p_||i instanceof bo||i instanceof bn||i instanceof Gl)}function eg(i,n,r){if(!fh(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=k0(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function G0(i,n,r){if((n=(0,Et.m9)(n))instanceof ma)return n._internalPath;if("string"==typeof n)return q0(i,n);throw ph("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const Ax=new RegExp("[~\\*/\\[\\]]");function q0(i,n,r){if(n.search(Ax)>=0)throw ph(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ma(...n.split("."))._internalPath}catch(a){throw ph(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function ph(i,n,r,a,l){const h=a&&!a.isEmpty(),m=void 0!==l;let w=`Function ${n}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let D="";return(h||m)&&(D+=" (found",h&&(D+=` in field ${a}`),m&&(D+=` in document ${l}`),D+=")"),new De(de.INVALID_ARGUMENT,w+i+D)}function $T(i,n){return i.some(r=>r.isEqual(n))}class gh{constructor(n,r,a,l,h){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new GT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(m_("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class GT extends gh{data(){return super.data()}}function m_(i,n){return"string"==typeof n?q0(i,n):n instanceof ma?n._internalPath:n._delegate._internalPath}class Wl{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class _a extends gh{constructor(n,r,a,l,h,m){super(n,r,a,l,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new Pi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(m_("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Pi extends _a{data(n={}){return super.data(n)}}class as{constructor(n,r,a,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new Wl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new Pi(this._firestore,this._userDataWriter,a.key,a,new Wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new De(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>({type:"added",doc:new Pi(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Wl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const w=new Pi(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Wl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let D=-1,A=-1;return 0!==m.type&&(D=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),A=h.indexOf(m.doc.key)),{type:mh(m.type),doc:w,oldIndex:D,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function mh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}function tg(i,n){return i instanceof _a&&n instanceof _a?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof as&&n instanceof as&&i._firestore===n._firestore&&OT(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function Zl(i){if(Sp(i)&&0===i.explicitOrderBy.length)throw new De(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}function hu(i,...n){for(const r of n)i=r._apply(i);return i}class Sx extends ng{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=Co(n.firestore),a=function(l,h,m,w,D,A,x){let O;if(D.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new De(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){Px(x,A);const U=[];for(const te of x)U.push(Ox(w,l,te));O={arrayValue:{values:U}}}else O=Ox(w,l,x)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||Px(x,A),O=HT(m,"where",x,"in"===A||"not-in"===A);const H=Yr.create(D,A,O);return function(U,te){if(te.v()){const ke=hw(U);if(null!==ke&&!ke.isEqual(te.field))throw new De(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ke.toString()}' and '${te.field.toString()}'`);const Ye=dw(U);null!==Ye&&kx(0,te.field,Ye)}const Se=function(ke,Ye){for(const mt of ke.filters)if(Ye.indexOf(mt.op)>=0)return mt.op;return null}(U,function(ke){switch(ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Se)throw new De(de.INVALID_ARGUMENT,Se===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${Se.toString()}' filters.`)}(l,H),H}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Lr(n.firestore,n.converter,function(l,h){const m=l.filters.concat([h]);return new go(l.path,l.collectionGroup,l.explicitOrderBy.slice(),m,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,a))}}class zT extends ng{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,l,h){if(null!==a.startAt)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Vd(l,h);return function(w,D){if(null===dw(w)){const A=hw(w);null!==A&&kx(0,A,D.field)}}(a,m),m}(n._query,this.Ka,this.Wa);return new Lr(n.firestore,n.converter,function(a,l){const h=a.explicitOrderBy.concat([l]);return new go(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class z0 extends ng{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new Lr(n.firestore,n.converter,Rp(n._query,this.Ga,this.za))}}class ZT extends ng{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=Mx(n,this.type,this.Ha,this.Ja);return new Lr(n.firestore,n.converter,(l=r,new go((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}class y_ extends ng{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=Mx(n,this.type,this.Ha,this.Ja);return new Lr(n.firestore,n.converter,(l=r,new go((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function Mx(i,n,r,a){if(r[0]=(0,Et.m9)(r[0]),r[0]instanceof gh)return function(l,h,m,w,D){if(!w)throw new De(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const A=[];for(const x of Ud(l))if(x.field.isKeyField())A.push(wy(h,w.key));else{const O=w.data.field(x.field);if(Ep(O))throw new De(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const H=x.field.canonicalString();throw new De(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}A.push(O)}return new Tp(A,D)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const l=Co(i.firestore);return function(h,m,w,D,A,x){const O=h.explicitOrderBy;if(A.length>O.length)throw new De(de.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let U=0;U<A.length;U++){const te=A[U];if(O[U].field.isKeyField()){if("string"!=typeof te)throw new De(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof te}`);if(!Sy(h)&&-1!==te.indexOf("/"))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${te}' contains a slash.`);const Se=h.path.child(Bt.fromString(te));if(!Je.isDocumentKey(Se))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const ke=new Je(Se);H.push(wy(m,ke))}else{const Se=HT(w,D,te);H.push(Se)}}return new Tp(H,x)}(i._query,i.firestore._databaseId,l,n,r,a)}}function Ox(i,n,r){if("string"==typeof(r=(0,Et.m9)(r))){if(""===r)throw new De(de.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sy(n)&&-1!==r.indexOf("/"))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(Bt.fromString(r));if(!Je.isDocumentKey(a))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return wy(i,new Je(a))}if(r instanceof bn)return wy(i,r._key);throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${k0(r)}.`)}function Px(i,n){if(!Array.isArray(i)||0===i.length)throw new De(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new De(de.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function kx(i,n,r){if(!r.isEqual(n))throw new De(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Z0{convertValue(n,r="none"){switch(nu(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Nn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Il(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Ke()}}convertObject(n,r){const a={};return Cl(n.fields,(l,h)=>{a[l]=this.convertValue(h,r)}),a}convertGeoPoint(n){return new p_(Nn(n.latitude),Nn(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=uw(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(wp(n));default:return null}}convertTimestamp(n){const r=tu(n);return new An(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=Bt.fromString(n);lt(Cw(a));const l=new uh(a.get(1),a.get(3)),h=new Je(a.popFirst(5));return l.isEqual(r)||Hn(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function __(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class hM extends Z0{constructor(n){super(),this.firestore=n}convertBytes(n){return new bo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new bn(this.firestore,null,r)}}class Fx{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Co(n)}set(n,r,a){this._verifyNotCommitted();const l=Yl(n,this._firestore),h=__(l.converter,r,a),m=dh(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,a);return this._mutations.push(m.toMutation(l._key,Mn.none())),this}update(n,r,a,...l){this._verifyNotCommitted();const h=Yl(n,this._firestore);let m;return m="string"==typeof(r=(0,Et.m9)(r))||r instanceof ma?$0(this._dataReader,"WriteBatch.update",h._key,r,a,l):g_(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(m.toMutation(h._key,Mn.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=Yl(n,this._firestore);return this._mutations=this._mutations.concat(new au(r._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yl(i,n){if((i=(0,Et.m9)(i)).firestore!==n)throw new De(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ql extends Z0{constructor(n){super(),this.firestore=n}convertBytes(n){return new bo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new bn(this.firestore,null,r)}}function o(i,n,r){i=kt(i,bn);const a=kt(i.firestore,Pn),l=__(i.converter,n,r);return E(a,[dh(Co(a),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Mn.none())])}function u(i,n,r,...a){i=kt(i,bn);const l=kt(i.firestore,Pn),h=Co(l);let m;return m="string"==typeof(n=(0,Et.m9)(n))||n instanceof ma?$0(h,"updateDoc",i._key,n,r,a):g_(h,"updateDoc",i._key,n),E(l,[m.toMutation(i._key,Mn.exists(!0))])}function f(i,...n){var r,a,l;i=(0,Et.m9)(i);let h={includeMetadataChanges:!1},m=0;"object"!=typeof n[m]||PT(n[m])||(h=n[m],m++);const w={includeMetadataChanges:h.includeMetadataChanges};if(PT(n[m])){const O=n[m];n[m]=null===(r=O.next)||void 0===r?void 0:r.bind(O),n[m+1]=null===(a=O.error)||void 0===a?void 0:a.bind(O),n[m+2]=null===(l=O.complete)||void 0===l?void 0:l.bind(O)}let D,A,x;if(i instanceof bn)A=kt(i.firestore,Pn),x=ru(i._key.path),D={next:O=>{n[m]&&n[m](I(A,i,O))},error:n[m+1],complete:n[m+2]};else{const O=kt(i,Lr);A=kt(O.firestore,Pn),x=O._query;const H=new Ql(A);D={next:U=>{n[m]&&n[m](new as(A,H,O,U))},error:n[m+1],complete:n[m+2]},Zl(i._query)}return function(O,H,U,te){const Se=new c_(te),ke=new Qp(H,Se,U);return O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return Yp(yield ah(O),ke)})),()=>{Se.Xo(),O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return Jr(yield ah(O),ke)}))}}($n(A),x,w,D)}function E(i,n){return function(r,a){const l=new or;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,n,r){return m0.apply(this,arguments)}(yield M0(r),a,l)})),l.promise}($n(i),n)}function I(i,n,r){const a=r.docs.get(n._key),l=new Ql(i);return new _a(i,l,n._key,a,new Wl(r.hasPendingWrites,r.fromCache),n.converter)}class T extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Co(n)}get(n){const r=Yl(n,this._firestore),a=new hM(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return Ke();const h=l[0];if(h.isFoundDocument())return new gh(this._firestore,a,h.key,h,r.converter);if(h.isNoDocument())return new gh(this._firestore,a,r._key,null,r.converter);throw Ke()})}set(n,r,a){const l=Yl(n,this._firestore),h=__(l.converter,r,a),m=dh(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,a);return this._transaction.set(l._key,m),this}update(n,r,a,...l){const h=Yl(n,this._firestore);let m;return m="string"==typeof(r=(0,Et.m9)(r))||r instanceof ma?$0(this._dataReader,"Transaction.update",h._key,r,a,l):g_(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,m),this}delete(n){const r=Yl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=Yl(n,this._firestore),a=new Ql(this._firestore);return super.get(n).then(l=>new _a(this._firestore,a,r._key,l._document,new Wl(!1,!1),r.converter))}}function at(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new De("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function Rt(){if("undefined"==typeof Uint8Array)throw new De("unimplemented","Uint8Arrays are not available in this environment.")}function Gn(){if("undefined"==typeof atob)throw new De("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){bl=i})(zf.SDK_VERSION),(0,zf._registerComponent)(new Fm.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new Pn(r,new qI(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,zf.registerVersion)("@firebase/firestore","3.1.0",void 0);class Ur{constructor(n){this._delegate=n}static fromBase64String(n){return Gn(),new Ur(bo.fromBase64String(n))}static fromUint8Array(n){return Rt(),new Ur(bo.fromUint8Array(n))}toBase64(){return Gn(),this._delegate.toBase64()}toUint8Array(){return Rt(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jl(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class _h{enableIndexedDbPersistence(n,r){return function(i,n){BT(i=kt(i,Pn));const r=$n(i),a=i._freezeSettings(),l=new Jp;return F0(r,l,new du(l,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){BT(i=kt(i,Pn));const n=$n(i),r=i._freezeSettings(),a=new Jp;return F0(n,a,new yT(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new De(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new or;return i._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(r=(0,me.Z)(function*(a){if(!Vs.bt())return Promise.resolve();const l=a+"main";yield Vs.delete(l)}),function(a){return r.apply(this,arguments)})($y(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class Xl{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof uh||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&_p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var l;const h=(i=kt(i,pa))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==n&&_p("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let m,w;if("string"==typeof a.mockUserToken)m=a.mockUserToken,w=sr.MOCK_USER;else{m=(0,Et.Sg)(a.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new De(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new sr(D)}i._credentials=new GI(new aw(m,w))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,me.Z)(function*(){const n=yield lx(i),r=yield IT(i);return n.setNetworkEnabled(!0),function(a){const l=Le(a);return l.Kr.delete(0),qp(l)}(r)}))}($n(i=kt(i,Pn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,me.Z)(function*(){const n=yield lx(i),r=yield IT(i);return n.setNetworkEnabled(!1),(a=(0,me.Z)(function*(l){const h=Le(l);h.Kr.add(0),yield zp(h),h.Wr.set("Offline")}),function(l){return a.apply(this,arguments)})(r);var a}))}($n(i=kt(i,Pn)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,TT("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new or;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,n){return r_.apply(this,arguments)}(yield M0(n),r)})),r.promise}($n(i=kt(i,Pn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new c_(n);return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return a=yield ah(i),l=r,Le(a).Zr.add(l),void l.next();var a,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return a=yield ah(i),l=r,void Le(a).Zr.delete(l);var a,l}))}}($n(i=kt(i,Pn)),PT(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new De("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new w_(this,_x(this._delegate,n))}catch(r){throw ki(r,"collection()","Firestore.collection()")}}doc(n){try{return new Io(this,lh(this._delegate,n))}catch(r){throw ki(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Fi(this,function(i,n){if(i=kt(i,pa),P0("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lr(i,null,(r=n,new go(Bt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw ki(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new or;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const a=yield(l=i,h_(l).then(h=>h.datastore));var l;new x0(i.asyncQueue,a,n,r).run()})),r.promise}($n(i),r=>n(new T(i,r)))}(this._delegate,r=>n(new v_(this,r)))}batch(){return $n(this._delegate),new E_(new Fx(this._delegate,n=>E(this._delegate,n)))}loadBundle(n){return function(i,n){const r=$n(i=kt(i,Pn)),a=new Ex;return function(i,n,r,a){const l=function(h,m){let w;return w="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,A){if(D instanceof Uint8Array)return l_(D,A);if(D instanceof ArrayBuffer)return l_(new Uint8Array(D),A);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new d_(D,m);var D}(r,Yy(n));i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(i,n,r){const a=Le(i);var l;(l=(0,me.Z)(function*(h,m,w){try{const D=yield m.getMetadata();if(yield function(H,U){const te=Le(H),Se=ur(U.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",ke=>te.Je.getBundleMetadata(ke,U.id)).then(ke=>!!ke&&ke.createTime.compareTo(Se)>=0)}(h.localStore,D))return yield m.close(),void w._completeWith((H=D,{taskState:"Success",documentsLoaded:H.totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}));w._updateProgress(l0(D));const A=new ex(D,h.localStore,m.N);let x=yield m.Qo();for(;x;){const H=yield A.fo(x);H&&w._updateProgress(H),x=yield m.Qo()}const O=yield A.complete();yield fa(h,O.Tn,void 0),yield function(H,U){const te=Le(H);return te.persistence.runTransaction("Save bundle","readwrite",Se=>te.Je.saveBundleMetadata(Se,U))}(h.localStore,D),w._completeWith(O.progress)}catch(D){_p("SyncEngine",`Loading bundle failed with ${D}`),w._failWith(D)}var H}),function(h,m,w){return l.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield M0(i),l,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,me.Z)(function*(){return function(r,a){const l=Le(r);return l.persistence.runTransaction("Get named query","readonly",h=>l.Je.getNamedQuery(h,a))}(yield CT(i),n)}))}($n(i=kt(i,Pn)),n).then(r=>r?new Lr(i,null,r.query):null)}(this._delegate,n).then(r=>r?new Fi(this,r):null)}}class vh extends Z0{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ur(new bo(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return Io.forKey(r,this.firestore,null)}}class v_{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new vh(n)}get(n){const r=rg(n);return this._delegate.get(r).then(a=>new Y0(this._firestore,new _a(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const l=rg(n);return a?(at("Transaction.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const h=rg(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(n){const r=rg(n);return this._delegate.delete(r),this}}class E_{constructor(n){this._delegate=n}set(n,r,a){const l=rg(n);return a?(at("WriteBatch.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const h=rg(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(n){const r=rg(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class va{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new Pi(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Q0(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=va.INSTANCES;let l=a.get(n);l||(l=new WeakMap,a.set(n,l));let h=l.get(r);return h||(h=new va(n,new vh(n),r),l.set(r,h)),h}}va.INSTANCES=new WeakMap;class Io{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new vh(n)}static forPath(n,r,a){if(n.length%2!=0)throw new De("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Io(r,new bn(r._delegate,a,new Je(n)))}static forKey(n,r,a){return new Io(r,new bn(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new w_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new w_(this.firestore,_x(this._delegate,n))}catch(r){throw ki(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Et.m9)(n))instanceof bn&&MT(this._delegate,n)}set(n,r){r=at("DocumentReference.set",r);try{return r?o(this._delegate,n,r):o(this._delegate,n)}catch(a){throw ki(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?u(this._delegate,n):u(this._delegate,n,r,...a)}catch(l){throw ki(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return E(kt(i.firestore,Pn),[new au(i._key,Mn.none())])}(this._delegate)}onSnapshot(...n){const r=_M(n),a=vM(n,l=>new Y0(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return f(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=kt(i,bn);const n=kt(i.firestore,Pn),r=$n(n),a=new Ql(n);return function(i,n){const r=new or;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(a=(0,me.Z)(function*(l,h,m){try{const w=yield function(D,A){const x=Le(D);return x.persistence.runTransaction("read document","readonly",O=>x.Qn.An(O,A))}(l,h);w.isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new De(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const D=Kp(w,`Failed to get document '${h} from cache`);m.reject(D)}}),function(l,h,m){return a.apply(this,arguments)})(yield CT(i),n,r);var a})),r.promise}(r,i._key).then(l=>new _a(n,a,i._key,l,new Wl(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=kt(i,bn);const n=kt(i.firestore,Pn);return DT($n(n),i._key,{source:"server"}).then(r=>I(n,i,r))}(this._delegate):function(i){i=kt(i,bn);const n=kt(i.firestore,Pn);return DT($n(n),i._key).then(r=>I(n,i,r))}(this._delegate),r.then(a=>new Y0(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new Io(this.firestore,this._delegate.withConverter(n?va.getInstance(this.firestore,n):null))}}function ki(i,n,r){return i.message=i.message.replace(n,r),i}function _M(i){for(const n of i)if("object"==typeof n&&!Jl(n))return n;return{}}function vM(i,n){var r,a;let l;return l=Jl(i[0])?i[0]:Jl(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(n(h))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(a=l.complete)||void 0===a?void 0:a.bind(l)}}class Y0{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new Io(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return tg(this._delegate,n._delegate)}}class Q0 extends Y0{data(n){const r=this._delegate.data(n);return function(i,n){i||Ke()}(void 0!==r),r}}class Fi{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new vh(n)}where(n,r,a){try{return new Fi(this.firestore,hu(this._delegate,function(i,n,r){const a=n,l=m_("where",i);return new Sx(l,a,r)}(n,r,a)))}catch(l){throw ki(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new Fi(this.firestore,hu(this._delegate,function(i,n="asc"){const r=n,a=m_("orderBy",i);return new zT(a,r)}(n,r)))}catch(a){throw ki(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Fi(this.firestore,hu(this._delegate,function(i){return RT("limit",i),new z0("limit",i,"F")}(n)))}catch(r){throw ki(r,"limit()","Query.limit()")}}limitToLast(n){try{return new Fi(this.firestore,hu(this._delegate,function(i){return RT("limitToLast",i),new z0("limitToLast",i,"L")}(n)))}catch(r){throw ki(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Fi(this.firestore,hu(this._delegate,function(...i){return new ZT("startAt",i,!0)}(...n)))}catch(r){throw ki(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Fi(this.firestore,hu(this._delegate,function(...i){return new ZT("startAfter",i,!1)}(...n)))}catch(r){throw ki(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Fi(this.firestore,hu(this._delegate,function(...i){return new y_("endBefore",i,!0)}(...n)))}catch(r){throw ki(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Fi(this.firestore,hu(this._delegate,function(...i){return new y_("endAt",i,!1)}(...n)))}catch(r){throw ki(r,"endAt()","Query.endAt()")}}isEqual(n){return OT(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=kt(i,Lr);const n=kt(i.firestore,Pn),r=$n(n),a=new Ql(n);return function(i,n){const r=new or;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(a=(0,me.Z)(function*(l,h,m){try{const w=yield qy(l,h,!0),D=new aT(h,w.Gn),A=D.Io(w.documents),x=D.applyChanges(A,!1);m.resolve(x.snapshot)}catch(w){const D=Kp(w,`Failed to execute query '${h} against cache`);m.reject(D)}}),function(l,h,m){return a.apply(this,arguments)})(yield CT(i),n,r);var a})),r.promise}(r,i._query).then(l=>new as(n,a,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=kt(i,Lr);const n=kt(i.firestore,Pn),r=$n(n),a=new Ql(n);return fx(r,i._query,{source:"server"}).then(l=>new as(n,a,i,l))}(this._delegate):function(i){i=kt(i,Lr);const n=kt(i.firestore,Pn),r=$n(n),a=new Ql(n);return Zl(i._query),fx(r,i._query).then(l=>new as(n,a,i,l))}(this._delegate),r.then(a=>new Lx(this.firestore,new as(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=_M(n),a=vM(n,l=>new Lx(this.firestore,new as(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return f(this._delegate,r,a)}withConverter(n){return new Fi(this.firestore,this._delegate.withConverter(n?va.getInstance(this.firestore,n):null))}}class EO{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Q0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lx{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new Fi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Q0(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new EO(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new Q0(this._firestore,a))})}isEqual(n){return tg(this._delegate,n._delegate)}}class w_ extends Fi{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Io(this.firestore,n):null}doc(n){try{return new Io(this.firestore,void 0===n?lh(this._delegate):lh(this._delegate,n))}catch(r){throw ki(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=kt(i.firestore,Pn),a=lh(i),l=__(i.converter,n);return E(r,[dh(Co(i.firestore),"addDoc",a._key,l,null!==i.converter,{}).toMutation(a._key,Mn.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new Io(this.firestore,r))}isEqual(n){return MT(this._delegate,n._delegate)}withConverter(n){return new w_(this.firestore,this._delegate.withConverter(n?va.getInstance(this.firestore,n):null))}}function rg(i){return kt(i,bn)}class Vx{constructor(...n){this._delegate=new ma(...n)}static documentId(){return new Vx(br.keyField().canonicalString())}isEqual(n){return(n=(0,Et.m9)(n))instanceof ma&&this._delegate._internalPath.isEqual(n._internalPath)}}class ig{constructor(n){this._delegate=n}static serverTimestamp(){const n=new H0("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new ig(n)}static delete(){const n=new hh("deleteField");return n._methodName="FieldValue.delete",new ig(n)}static arrayUnion(...n){const r=function(...i){return new Ix("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new ig(r)}static arrayRemove(...n){const r=function(...i){return new Dx("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new ig(r)}static increment(n){const r=function(i){return new Tx("increment",i)}(n);return r._methodName="FieldValue.increment",new ig(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const wO={Firestore:Xl,GeoPoint:p_,Timestamp:An,Blob:Ur,Transaction:v_,WriteBatch:E_,DocumentReference:Io,DocumentSnapshot:Y0,Query:Fi,QueryDocumentSnapshot:Q0,QuerySnapshot:Lx,CollectionReference:w_,FieldPath:Vx,FieldValue:ig,setLogLevel:function(i){!function(i){eu.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new Fm.wA("firestore-compat",r=>((n,r)=>new Xl(n,r,new _h))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},wO)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(fS.Z);var IO=L(6682),J0=L(309),DO=L(7771),TO=L(8858);class AO extends Es.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new SO(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,h=a.length;let m;if(this.closed)throw new nf.N;if(this.isStopped||this.hasError?m=J_.w.EMPTY:(this.observers.push(n),m=new TO.W(this,n)),l&&n.add(n=new J0.ht(n,l)),r)for(let w=0;w<h&&!n.closed;w++)n.next(a[w]);else for(let w=0;w<h&&!n.closed;w++)n.next(a[w].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),m}_getNow(){return(this.scheduler||DO.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,l=this._events,h=l.length;let m=0;for(;m<h&&!(n-l[m].time<a);)m++;return h>r&&(m=Math.max(m,h-r)),m>0&&l.splice(0,m),l}}class SO{constructor(n,r){this.time=n,this.value=r}}function EM(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let l,m,h=0,w=!1,D=!1;return function(x){let O;h++,!l||w?(w=!1,l=new AO(i,n,a),O=l.subscribe(this),m=x.subscribe({next(H){l.next(H)},error(H){w=!0,l.error(H)},complete(){D=!0,m=void 0,l.complete()}}),D&&(m=void 0)):O=l.subscribe(this),this.add(()=>{h--,O.unsubscribe(),O=void 0,m&&!D&&r&&0===h&&(m.unsubscribe(),m=void 0,l=void 0)})}}(a))}function wM(i,n){return n?Fn(()=>i,n):Fn(()=>i)}var Ux=L(3101),Bx=L(7841);const bM=new g.OlP("angularfire2.auth.use-emulator"),CM=new g.OlP("angularfire2.auth.settings"),IM=new g.OlP("angularfire2.auth.tenant-id"),DM=new g.OlP("angularfire2.auth.langugage-code"),TM=new g.OlP("angularfire2.auth.use-device-language"),AM=new g.OlP("angularfire.auth.persistence"),SM=(i,n,r,a,l,h,m,w)=>(0,rn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=n.runOutsideAngular(()=>i.auth());if(r&&D.useEmulator(...r),a&&(D.tenantId=a),D.languageCode=l,h&&D.useDeviceLanguage(),m)for(const[A,x]of Object.entries(m))D.settings[A]=x;return w&&D.setPersistence(w),D},[r,a,l,h,m,w]);let jx=(()=>{class i{constructor(r,a,l,h,m,w,D,A,x,O,H){const U=new Es.xQ,te=(0,et.of)(void 0).pipe((0,J0.QV)(m.outsideAngular),Fn(()=>h.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,670)))),(0,ft.U)(()=>(0,es.on)(r,h,a)),(0,ft.U)(Se=>SM(Se,h,w,A,x,O,D,H)),EM({bufferSize:1,refCount:!1}));if(wu(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,et.of)(null);else{te.pipe(oi()).subscribe();const ke=te.pipe(Fn(st=>st.getRedirectResult().then(dt=>dt,()=>null)),rn.iC,EM({bufferSize:1,refCount:!1})),Ye=te.pipe(Fn(st=>new gr.y(dt=>({unsubscribe:h.runOutsideAngular(()=>st.onAuthStateChanged(Un=>dt.next(Un),Un=>dt.error(Un),()=>dt.complete()))})))),mt=te.pipe(Fn(st=>new gr.y(dt=>({unsubscribe:h.runOutsideAngular(()=>st.onIdTokenChanged(Un=>dt.next(Un),Un=>dt.error(Un),()=>dt.complete()))}))));this.authState=ke.pipe(wM(Ye),(0,Ux.R)(m.outsideAngular),(0,J0.QV)(m.insideAngular)),this.user=ke.pipe(wM(mt),(0,Ux.R)(m.outsideAngular),(0,J0.QV)(m.insideAngular)),this.idToken=this.user.pipe(Fn(st=>st?(0,$t.D)(st.getIdToken()):(0,et.of)(null))),this.idTokenResult=this.user.pipe(Fn(st=>st?(0,$t.D)(st.getIdTokenResult()):(0,et.of)(null))),this.credential=(0,IO.T)(ke,U,this.authState.pipe(xr(st=>!st))).pipe((0,ft.U)(st=>(null==st?void 0:st.user)?st:null),(0,Ux.R)(m.outsideAngular),(0,J0.QV)(m.insideAngular))}return(0,es.pX)(this,te,h,{spy:{apply:(Se,ke,Ye)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&Ye.then(mt=>U.next(mt))}}})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(es.Dh),g.LFG(es.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(rn.HU),g.LFG(bM,8),g.LFG(CM,8),g.LFG(IM,8),g.LFG(DM,8),g.LFG(TM,8),g.LFG(AM,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),NO=(()=>{class i{constructor(){Bx.Z.registerVersion("angularfire",rn.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[jx]}),i})();function RM(i,n){return function(i,n=ZC.z){return new gr.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function Hx(i,n){return RM(i,n).pipe((0,ft.U)(r=>({payload:r,type:"query"})))}function YT(i,n){return Hx(i,n).pipe(qo(void 0),oE(),(0,ft.U)(([r,a])=>{const l=a.payload.docChanges(),h=l.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((m,w)=>{const D=l.find(x=>x.doc.ref.isEqual(m.ref)),A=null==r?void 0:r.payload.docs.find(x=>x.ref.isEqual(m.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(m.metadata)||!D&&A&&JSON.stringify(A.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:m}})}),h}))}function xM(i,n,r){return YT(i,r).pipe(Pc((a,l)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return $x(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return $x(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return $x(i,n.oldIndex,1)}return i}(i,a))}),i}(a,l.map(h=>h.payload),n),[]),r=>r.lift(new KC(void 0,void 0)),(0,ft.U)(a=>a.map(l=>({type:l.type,payload:l}))))}function $x(i,n,r,...a){const l=i.slice();return l.splice(n,r,...a),l}function NM(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class MM{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=YT(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,ft.U)(a=>a.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(qo(void 0),oE(),xr(([a,l])=>l.length>0||!a),(0,ft.U)(([a,l])=>l),rn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Pc((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=NM(n);return xM(this.query,r,this.afs.schedulers.outsideAngular).pipe(rn.iC)}valueChanges(n={}){return Hx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),rn.iC)}get(n){return(0,$t.D)(this.query.get(n)).pipe(rn.iC)}add(n){return this.ref.add(n)}doc(n){return new OM(this.ref.doc(n),this.afs)}}class OM{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:l,query:h}=FM(a,r);return new MM(l,h,this.afs)}snapshotChanges(){return function(i,n){return RM(i,n).pipe(qo(void 0),oE(),(0,ft.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rn.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,$t.D)(this.ref.get(n)).pipe(rn.iC)}}class FO{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?YT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),xr(r=>r.length>0),rn.iC):YT(this.query,this.afs.schedulers.outsideAngular).pipe(rn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Pc((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=NM(n);return xM(this.query,r,this.afs.schedulers.outsideAngular).pipe(rn.iC)}valueChanges(n={}){return Hx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(a=>a.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),rn.iC)}get(n){return(0,$t.D)(this.query.get(n)).pipe(rn.iC)}}const PM=new g.OlP("angularfire2.enableFirestorePersistence"),kM=new g.OlP("angularfire2.firestore.persistenceSettings"),LO=new g.OlP("angularfire2.firestore.settings"),VO=new g.OlP("angularfire2.firestore.use-emulator");function FM(i,n=(r=>r)){return{query:n(i),ref:i}}let UO=(()=>{class i{constructor(r,a,l,h,m,w,D,A,x,O,H,U,te,Se,ke,Ye){this.schedulers=D;const mt=(0,es.on)(r,w,a),st=x;O&&SM(mt,w,H,te,Se,ke,U,Ye),[this.firestore,this.persistenceEnabled$]=(0,rn.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const dt=w.runOutsideAngular(()=>mt.firestore());if(h&&dt.settings(h),st&&dt.useEmulator(...st),l&&!wu(m)){const Un=()=>{try{return(0,$t.D)(dt.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Ea){return"undefined"!=typeof console&&console.warn(Ea),(0,et.of)(!1)}};return[dt,w.runOutsideAngular(Un)]}return[dt,(0,et.of)(!1)]},[h,st,l])}collection(r,a){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:m}=FM(l,a),w=this.schedulers.ngZone.run(()=>h);return new MM(w,m,this)}collectionGroup(r,a){const l=a||(m=>m),h=this.firestore.collectionGroup(r);return new FO(l(h),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>a);return new OM(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(es.Dh),g.LFG(es.xv,8),g.LFG(PM,8),g.LFG(LO,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(rn.HU),g.LFG(kM,8),g.LFG(VO,8),g.LFG(jx,8),g.LFG(bM,8),g.LFG(CM,8),g.LFG(IM,8),g.LFG(DM,8),g.LFG(TM,8),g.LFG(AM,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),BO=(()=>{class i{constructor(){Bx.Z.registerVersion("angularfire",rn.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:PM,useValue:!0},{provide:kM,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[UO]}),i})();class HO{constructor(n,r){this.dueTime=n,this.scheduler=r}call(n,r){return r.subscribe(new $O(n,this.dueTime,this.scheduler))}}class $O extends Rr.L{constructor(n,r,a){super(n),this.dueTime=r,this.scheduler=a,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(GO,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function GO(i){i.debouncedNext()}var Eh=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(Eh||(Eh={})),Eh))();const LM="firebasestorage.googleapis.com",VM="storageBucket";class qn extends Et.ZR{constructor(n,r){super(Gx(n),`Firebase Storage: ${r} (${Gx(n)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}_codeEquals(n){return Gx(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Gx(i){return"storage/"+i}function qx(){return new qn("unknown","An unknown error occurred, please check the error payload for server response.")}function UM(){return new qn("canceled","User canceled the upload/download.")}function BM(){return new qn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function r1(){return new qn("no-download-url","The given file does not have any download URLs.")}function b_(i){return new qn("invalid-argument",i)}function jM(){return new qn("app-deleted","The Firebase app was deleted.")}function HM(i){return new qn("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function X0(i,n){return new qn("invalid-format","String does not match format '"+i+"': "+n)}function QT(i){throw new qn("internal-error","Internal error: "+i)}class i1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Eh.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eh.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eh.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,r,a,l){if(this.sent_)throw QT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,n,!0),void 0!==l)for(const h in l)l.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,l[h].toString());return void 0!==a?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}}getResponseText(){if(!this.sent_)throw QT("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class o1{createConnection(){return new i1}}class gi{constructor(n,r){this.bucket=n,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,r){let a;try{a=gi.makeFromUrl(n,r)}catch(l){return new gi(n,"")}if(""===a.path)return a;throw function(i){return new qn("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,r){let a=null;const l="([A-Za-z0-9.\\-_]+)",w=new RegExp("^gs://"+l+"(/(.*))?$","i");function A(dt){dt.path_=decodeURIComponent(dt.path)}const O=r.replace(/[.]/g,"\\."),st=[{regex:w,indices:{bucket:1,path:3},postModify:function(dt){"/"===dt.path.charAt(dt.path.length-1)&&(dt.path_=dt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${l}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${r===LM?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${l}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let dt=0;dt<st.length;dt++){const Un=st[dt],Ea=Un.regex.exec(n);if(Ea){let tb=Ea[Un.indices.path];tb||(tb=""),a=new gi(Ea[Un.indices.bucket],tb),Un.postModify(a);break}}if(null==a)throw function(i){return new qn("invalid-url","Invalid URL '"+i+"'.")}(n);return a}}class a1{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function JT(i){return"string"==typeof i||i instanceof String}function $M(i){return zx()&&i instanceof Blob}function zx(){return"undefined"!=typeof Blob}function Wx(i,n,r,a){if(a<n)throw b_(`Invalid value for '${i}'. Expected ${n} or greater.`);if(a>r)throw b_(`Invalid value for '${i}'. Expected ${r} or less.`)}function wh(i,n,r){let a=n;return null==r&&(a=`https://${n}`),`${r}://${a}/v0${i}`}function GM(i){const n=encodeURIComponent;let r="?";for(const a in i)i.hasOwnProperty(a)&&(r=r+(n(a)+"=")+n(i[a])+"&");return r=r.slice(0,-1),r}class f1{constructor(n,r,a,l,h,m,w,D,A,x,O){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=r,this.headers_=a,this.body_=l,this.successCodes_=h.slice(),this.additionalRetryCodes_=m.slice(),this.callback_=w,this.errorCallback_=D,this.progressCallback_=x,this.timeout_=A,this.pool_=O,this.promise_=new Promise((H,U)=>{this.resolve_=H,this.reject_=U,this.start_()})}start_(){const n=this;function a(l,h){const m=n.resolve_,w=n.reject_,D=h.connection;if(h.wasSuccessCode)try{const A=n.callback_(D,D.getResponseText());!function(i){return void 0!==i}(A)?m():m(A)}catch(A){w(A)}else if(null!==D){const A=qx();A.serverResponse=D.getResponseText(),w(n.errorCallback_?n.errorCallback_(D,A):A)}else w(h.canceled?n.appDelete_?jM():UM():new qn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?a(0,new XT(!1,null,!0)):this.backoffId_=function(i,n,r){let a=1,l=null,h=!1,m=0;function w(){return 2===m}let D=!1;function A(...te){D||(D=!0,n.apply(null,te))}function x(te){l=setTimeout(()=>{l=null,i(O,w())},te)}function O(te,...Se){if(D)return;if(te)return void A.call(null,te,...Se);if(w()||h)return void A.call(null,te,...Se);let Ye;a<64&&(a*=2),1===m?(m=2,Ye=0):Ye=1e3*(a+Math.random()),x(Ye)}let H=!1;function U(te){H||(H=!0,!D&&(null!==l?(te||(m=2),clearTimeout(l),x(0)):te||(m=1)))}return x(0),setTimeout(()=>{h=!0,U(!0)},r),U}(function(l,h){if(h)return void l(!1,new XT(!1,null,!0));const m=n.pool_.createConnection();function w(D){null!==n.progressCallback_&&n.progressCallback_(D.loaded,D.lengthComputable?D.total:-1)}n.pendingConnection_=m,null!==n.progressCallback_&&m.addUploadProgressListener(w),m.send(n.url_,n.method_,n.body_,n.headers_).then(()=>{null!==n.progressCallback_&&m.removeUploadProgressListener(w),n.pendingConnection_=null;const D=m.getErrorCode()===Eh.NO_ERROR,A=m.getStatus();if(!D||n.isRetryStatusCode_(A)){const O=m.getErrorCode()===Eh.ABORT;return void l(!1,new XT(!1,null,O))}const x=-1!==n.successCodes_.indexOf(A);l(!0,new XT(x,m))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(n){const r=n>=500&&n<600,l=-1!==[408,429].indexOf(n),h=-1!==this.additionalRetryCodes_.indexOf(n);return r||l||h}}class XT{constructor(n,r,a){this.wasSuccessCode=n,this.connection=r,this.canceled=!!a}}function E1(...i){const n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){const r=new n;for(let a=0;a<i.length;a++)r.append(i[a]);return r.getBlob()}if(zx())return new Blob(i);throw new qn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Us={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zx{constructor(n,r){this.data=n,this.contentType=r||null}}function Kx(i,n){switch(i){case Us.RAW:return new Zx(qM(n));case Us.BASE64:case Us.BASE64URL:return new Zx(zM(i,n));case Us.DATA_URL:return new Zx(function(i){const n=new WM(i);return n.base64?zM(Us.BASE64,n.rest):function(i){let n;try{n=decodeURIComponent(i)}catch(r){throw X0(Us.DATA_URL,"Malformed data URL.")}return qM(n)}(n.rest)}(n),function(i){return new WM(i).contentType}(n))}throw qx()}function qM(i){const n=[];for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<=127?n.push(a):a<=2047?n.push(192|a>>6,128|63&a):55296==(64512&a)?r<i.length-1&&56320==(64512&i.charCodeAt(r+1))?(a=65536|(1023&a)<<10|1023&i.charCodeAt(++r),n.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a)):n.push(239,191,189):56320==(64512&a)?n.push(239,191,189):n.push(224|a>>12,128|a>>6&63,128|63&a)}return new Uint8Array(n)}function zM(i,n){switch(i){case Us.BASE64:{const l=-1!==n.indexOf("-"),h=-1!==n.indexOf("_");if(l||h)throw X0(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Us.BASE64URL:{const l=-1!==n.indexOf("+"),h=-1!==n.indexOf("/");if(l||h)throw X0(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function(i){return atob(i)}(n)}catch(l){throw X0(i,"Invalid character found")}const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a}class WM{constructor(n){this.base64=!1,this.contentType=null;const r=n.match(/^data:([^,]+)?,/);if(null===r)throw X0(Us.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=r[1]||null;null!=a&&(this.base64=function(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-";base64".length):a),this.rest=n.substring(n.indexOf(",")+1)}}class fu{constructor(n,r){let a=0,l="";$M(n)?(this.data_=n,a=n.size,l=n.type):n instanceof ArrayBuffer?(r?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),a=this.data_.length):n instanceof Uint8Array&&(r?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),a=n.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(n,r){if($M(this.data_)){const l=function(i,n,r){return i.webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null}(this.data_,n,r);return null===l?null:new fu(l)}{const a=new Uint8Array(this.data_.buffer,n,r-n);return new fu(a,!0)}}static getBlob(...n){if(zx()){const r=n.map(a=>a instanceof fu?a.data_:a);return new fu(E1.apply(null,r))}{const r=n.map(m=>JT(m)?Kx(Us.RAW,m).data:m.data_);let a=0;r.forEach(m=>{a+=m.byteLength});const l=new Uint8Array(a);let h=0;return r.forEach(m=>{for(let w=0;w<m.length;w++)l[h++]=m[w]}),new fu(l,!0)}}uploadData(){return this.data_}}function Yx(i){let n;try{n=JSON.parse(i)}catch(r){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function ZM(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function R1(i,n){return n}class Li{constructor(n,r,a,l){this.server=n,this.local=r||n,this.writable=!!a,this.xform=l||R1}}let eA=null;function eb(){if(eA)return eA;const i=[];i.push(new Li("bucket")),i.push(new Li("generation")),i.push(new Li("metageneration")),i.push(new Li("name","fullPath",!0));const r=new Li("name");r.xform=function(h,m){return function(i){return!JT(i)||i.length<2?i:ZM(i)}(m)},i.push(r);const l=new Li("size");return l.xform=function(h,m){return void 0!==m?Number(m):m},i.push(l),i.push(new Li("timeCreated")),i.push(new Li("updated")),i.push(new Li("md5Hash",null,!0)),i.push(new Li("cacheControl",null,!0)),i.push(new Li("contentDisposition",null,!0)),i.push(new Li("contentEncoding",null,!0)),i.push(new Li("contentLanguage",null,!0)),i.push(new Li("contentType",null,!0)),i.push(new Li("metadata","customMetadata",!0)),eA=i,eA}function KM(i,n,r){const a=Yx(n);return null===a?null:function(i,n,r){const a={type:"file"},l=r.length;for(let h=0;h<l;h++){const m=r[h];a[m.local]=m.xform(a,n[m.server])}return function(i,n){Object.defineProperty(i,"ref",{get:function(){const h=new gi(i.bucket,i.fullPath);return n._makeStorageReference(h)}})}(a,i),a}(i,a,r)}function Qx(i,n){const r={},a=n.length;for(let l=0;l<a;l++){const h=n[l];h.writable&&(r[h.server]=i[h.local])}return JSON.stringify(r)}const YM="prefixes";class ec{constructor(n,r,a,l){this.url=n,this.method=r,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pu(i){if(!i)throw qx()}function tA(i,n){return function(a,l){const h=KM(i,l,n);return pu(null!==h),h}}function C_(i){return function(r,a){let l;return l=401===r.getStatus()?r.getResponseText().includes("Firebase App Check token is invalid")?new qn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new qn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?function(i){return new qn("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===r.getStatus()?function(i){return new qn("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):a,l.serverResponse=a.serverResponse,l}}function nA(i){const n=C_(i);return function(a,l){let h=n(a,l);return 404===a.getStatus()&&(h=function(i){return new qn("object-not-found","Object '"+i+"' does not exist.")}(i.path)),h.serverResponse=l.serverResponse,h}}function JM(i,n,r){const l=wh(n.fullServerUrl(),i.host,i._protocol),m=i.maxOperationRetryTime,w=new ec(l,"GET",tA(i,r),m);return w.errorHandler=nA(n),w}function V1(i,n,r,a,l){const h={};h.prefix=n.isRoot?"":n.path+"/",r&&r.length>0&&(h.delimiter=r),a&&(h.pageToken=a),l&&(h.maxResults=l);const w=wh(n.bucketOnlyServerUrl(),i.host,i._protocol),A=i.maxOperationRetryTime,x=new ec(w,"GET",function(i,n){return function(a,l){const h=function(i,n,r){const a=Yx(r);return null===a?null:function(i,n,r){const a={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[YM])for(const l of r[YM]){const h=l.replace(/\/$/,""),m=i._makeStorageReference(new gi(n,h));a.prefixes.push(m)}if(r.items)for(const l of r.items){const h=i._makeStorageReference(new gi(n,l.name));a.items.push(h)}return a}(i,n,a)}(i,n,l);return pu(null!==h),h}}(i,n.bucket),A);return x.urlParams=h,x.errorHandler=C_(n),x}function U1(i,n,r){const l=wh(n.fullServerUrl(),i.host,i._protocol),m=i.maxOperationRetryTime,w=new ec(l,"GET",function(i,n){return function(a,l){const h=KM(i,l,n);return pu(null!==h),function(i,n,r,a){const l=Yx(n);if(null===l||!JT(l.downloadTokens))return null;const h=l.downloadTokens;if(0===h.length)return null;const m=encodeURIComponent;return h.split(",").map(A=>{const O=i.fullPath;return wh("/b/"+m(i.bucket)+"/o/"+m(O),r,a)+GM({alt:"media",token:A})})[0]}(h,l,i.host,i._protocol)}}(i,r),m);return w.errorHandler=nA(n),w}function B1(i,n,r,a){const h=wh(n.fullServerUrl(),i.host,i._protocol),w=Qx(r,a),A=i.maxOperationRetryTime,x=new ec(h,"PATCH",tA(i,a),A);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=w,x.errorHandler=nA(n),x}function j1(i,n){const a=wh(n.fullServerUrl(),i.host,i._protocol),w=new ec(a,"DELETE",function(D,A){},i.maxOperationRetryTime);return w.successCodes=[200,204],w.errorHandler=nA(n),w}function XM(i,n,r){const a=Object.assign({},r);return a.fullPath=i.path,a.size=n.size(),a.contentType||(a.contentType=function(i,n){return n&&n.type()||"application/octet-stream"}(0,n)),a}class rA{constructor(n,r,a,l){this.current=n,this.total=r,this.finalized=!!a,this.metadata=l||null}}function Jx(i,n){let r=null;try{r=i.getResponseHeader("X-Goog-Upload-Status")}catch(l){pu(!1)}return pu(!!r&&-1!==(n||["active"]).indexOf(r)),r}const z1={STATE_CHANGED:"state_changed"},Vi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xx(i){switch(i){case"running":case"pausing":case"canceling":return Vi.RUNNING;case"paused":return Vi.PAUSED;case"success":return Vi.SUCCESS;case"canceled":return Vi.CANCELED;case"error":default:return Vi.ERROR}}class W1{constructor(n,r,a){if(function(i){return"function"==typeof i}(n)||null!=r||null!=a)this.next=n,this.error=null!=r?r:void 0,this.complete=null!=a?a:void 0;else{const h=n;this.next=h.next,this.error=h.error,this.complete=h.complete}}}function I_(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}class nO{constructor(n,r,a=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=r,this._metadata=a,this._mappings=eb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=l=>{this._request=void 0,this._chunkMultiplier=1,l._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=l,this._transition("error"))},this._metadataErrorHandler=l=>{this._request=void 0,l._codeEquals("canceled")?this.completeTransitions_():(this._error=l,this._transition("error"))},this._promise=new Promise((l,h)=>{this._resolve=l,this._reject=h,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const n=this._transferred;return r=>this._updateProgress(n+r)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,a])=>{switch(this._state){case"running":n(r,a);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,l){const h=n.bucketOnlyServerUrl(),m=XM(n,a,l),w={name:m.fullPath},D=wh(h,i.host,i._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a.size()}`,"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},O=Qx(m,r),te=new ec(D,"POST",function(Se){let ke;Jx(Se);try{ke=Se.getResponseHeader("X-Goog-Upload-URL")}catch(Ye){pu(!1)}return pu(JT(ke)),ke},i.maxUploadRetryTime);return te.urlParams=w,te.headers=x,te.body=O,te.errorHandler=C_(n),te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(a,n,r);this._request=l,l.getPromise().then(h=>{this._request=void 0,this._uploadUrl=h,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((r,a)=>{const l=function(i,n,r,a){const D=new ec(r,"POST",function(A){const x=Jx(A,["active","final"]);let O=null;try{O=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch(U){pu(!1)}O||pu(!1);const H=Number(O);return pu(!isNaN(H)),new rA(H,a.size(),"final"===x)},i.maxUploadRetryTime);return D.headers={"X-Goog-Upload-Command":"query"},D.errorHandler=C_(n),D}(this._ref.storage,this._ref._location,n,this._blob),h=this._ref.storage._makeRequest(l,r,a);this._request=h,h.getPromise().then(m=>{m=m,this._request=void 0,this._updateProgress(m.current),this._needToFetchStatus=!1,m.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,r=new rA(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken((l,h)=>{let m;try{m=function(i,n,r,a,l,h,m,w){const D=new rA(0,0);if(m?(D.current=m.current,D.total=m.total):(D.current=0,D.total=a.size()),a.size()!==D.total)throw new qn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const A=D.total-D.current;let x=A;l>0&&(x=Math.min(x,l));const O=D.current,te={"X-Goog-Upload-Command":x===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${D.current}`},Se=a.slice(O,O+x);if(null===Se)throw BM();const st=new ec(r,"POST",function(dt,Un){const Ea=Jx(dt,["active","final"]),aN=D.current+x,tb=a.size();let uN;return uN="final"===Ea?tA(n,h)(dt,Un):null,new rA(aN,tb,"final"===Ea,uN)},n.maxUploadRetryTime);return st.headers=te,st.body=Se.uploadData(),st.progressCallback=w||null,st.errorHandler=C_(i),st}(this._ref._location,this._ref.storage,a,this._blob,n,this._mappings,r,this._makeProgressCallback())}catch(D){return this._error=D,void this._transition("error")}const w=this._ref.storage._makeRequest(m,l,h);this._request=w,w.getPromise().then(D=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(D.current),D.finalized?(this._metadata=D.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,r)=>{const a=JM(this._ref.storage,this._ref._location,this._mappings),l=this._ref.storage._makeRequest(a,n,r);this._request=l,l.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,l){const h=n.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},D=function(){let st="";for(let dt=0;dt<2;dt++)st+=Math.random().toString().slice(2);return st}();m["Content-Type"]="multipart/related; boundary="+D;const A=XM(n,a,l),x=Qx(A,r),U=fu.getBlob("--"+D+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+D+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",a,"\r\n--"+D+"--");if(null===U)throw BM();const te={name:A.fullPath},Se=wh(h,i.host,i._protocol),Ye=i.maxUploadRetryTime,mt=new ec(Se,"POST",tA(i,r),Ye);return mt.urlParams=te,mt.headers=m,mt.body=U.uploadData(),mt.errorHandler=C_(n),mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(a,n,r);this._request=l,l.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const r=this._transferred;this._transferred=n,this._transferred!==r&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":const r="paused"===this._state;this._state=n,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=UM(),this._state=n,this._notifyObservers();break;case"error":case"success":this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=Xx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,r,a,l){const h=new W1(r||void 0,a||void 0,l||void 0);return this._addObserver(h),()=>{this._removeObserver(h)}}then(n,r){return this._promise.then(n,r)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const r=this._observers.indexOf(n);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(Xx(this._state)){case Vi.SUCCESS:I_(this._resolve.bind(null,this.snapshot))();break;case Vi.CANCELED:case Vi.ERROR:I_(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(Xx(this._state)){case Vi.RUNNING:case Vi.PAUSED:n.next&&I_(n.next.bind(n,this.snapshot))();break;case Vi.SUCCESS:n.complete&&I_(n.complete.bind(n))();break;case Vi.CANCELED:case Vi.ERROR:n.error&&I_(n.error.bind(n,this._error))();break;default:n.error&&I_(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class sg{constructor(n,r){this._service=n,this._location=r instanceof gi?r:gi.makeFromUrl(r,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,r){return new sg(n,r)}get root(){const n=new gi(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZM(this._location.path)}get storage(){return this._service}get parent(){const n=function(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const r=new gi(this._location.bucket,n);return new sg(this._service,r)}_throwIfRoot(n){if(""===this._location.path)throw HM(n)}}function iO(i,n,r){return eN.apply(this,arguments)}function eN(){return(eN=(0,me.Z)(function*(i,n,r){const l=yield sO(i,{pageToken:r});n.prefixes.push(...l.prefixes),n.items.push(...l.items),null!=l.nextPageToken&&(yield iO(i,n,l.nextPageToken))})).apply(this,arguments)}function sO(i,n){return tN.apply(this,arguments)}function tN(){return(tN=(0,me.Z)(function*(i,n){null!=n&&"number"==typeof n.maxResults&&Wx("options.maxResults",1,1e3,n.maxResults);const r=n||{},a=V1(i.storage,i._location,"/",r.pageToken,r.maxResults);return(yield i.storage.makeRequestWithTokens(a)).getPromise()})).apply(this,arguments)}function nN(){return(nN=(0,me.Z)(function*(i){i._throwIfRoot("getMetadata");const n=JM(i.storage,i._location,eb());return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function rN(){return(rN=(0,me.Z)(function*(i,n){i._throwIfRoot("updateMetadata");const r=B1(i.storage,i._location,n,eb());return(yield i.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function iN(){return(iN=(0,me.Z)(function*(i){i._throwIfRoot("getDownloadURL");const n=U1(i.storage,i._location,eb());return(yield i.storage.makeRequestWithTokens(n)).getPromise().then(r=>{if(null===r)throw r1();return r})})).apply(this,arguments)}function sN(){return(sN=(0,me.Z)(function*(i){i._throwIfRoot("deleteObject");const n=j1(i.storage,i._location);return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function oO(i,n){const r=function(i,n){const r=n.split("/").filter(a=>a.length>0).join("/");return 0===i.length?r:i+"/"+r}(i._location.path,n),a=new gi(i._location.bucket,r);return new sg(i.storage,a)}function aO(i,n){if(i instanceof oN){const r=i;if(null==r._bucket)throw new qn("no-default-bucket","No default bucket found. Did you set the '"+VM+"' property when initializing the app?");const a=new sg(r,r._bucket);return null!=n?aO(a,n):a}return void 0!==n?oO(i,n):i}function rP(i,n){if(n&&function(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof oN)return function(i,n){return new sg(i,n)}(i,n);throw b_("To use ref(service, url), the first argument must be a Storage instance.")}return aO(i,n)}function uO(i,n){const r=null==n?void 0:n[VM];return null==r?null:gi.makeFromBucketSpec(r,i)}class oN{constructor(n,r,a,l,h,m){this.app=n,this._authProvider=r,this._appCheckProvider=a,this._pool=l,this._url=h,this._firebaseVersion=m,this._bucket=null,this._host=LM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?gi.makeFromBucketSpec(h,this._host):uO(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?gi.makeFromBucketSpec(this._url,n):uO(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){Wx("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){Wx("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,me.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const r=n._authProvider.getImmediate({optional:!0});if(r){const a=yield r.getToken();if(null!==a)return a.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,me.Z)(function*(){const r=n._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new sg(this,n)}_makeRequest(n,r,a){if(this._deleted)return new a1(jM());{const l=function(i,n,r,a,l,h){const m=GM(i.urlParams),w=i.url+m,D=Object.assign({},i.headers);return function(i,n){n&&(i["X-Firebase-GMPID"]=n)}(D,n),function(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(D,r),function(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(D,h),function(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(D,a),new f1(w,i.method,D,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l)}(n,this._appId,r,a,this._pool,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(n){var r=this;return(0,me.Z)(function*(){const[a,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,a,l)})()}}function cO(i,n){return rP(i=(0,Et.m9)(i),n)}(0,zf._registerComponent)(new Fm.wA("storage",function(i,{instanceIdentifier:n}){const r=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new oN(r,a,l,new o1,n,zf.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,zf.registerVersion)("@firebase/storage","0.8.3");class iA{constructor(n,r,a){this._delegate=n,this.task=r,this.ref=a}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class dO{constructor(n,r){this._delegate=n,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iA(this._delegate.snapshot,this,this._ref)}then(n,r){return this._delegate.then(a=>{if(n)return n(new iA(a,this,this._ref))},r)}on(n,r,a,l){let h;return r&&(h="function"==typeof r?m=>r(new iA(m,this,this._ref)):{next:r.next?m=>r.next(new iA(m,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(n,h,a||void 0,l||void 0)}}class hO{constructor(n,r){this._delegate=n,this._service=r}get prefixes(){return this._delegate.prefixes.map(n=>new tc(n,this._service))}get items(){return this._delegate.items.map(n=>new tc(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class tc{constructor(n,r){this._delegate=n,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const r=function(i,n){return oO(i,n)}(this._delegate,n);return new tc(r,this.storage)}get root(){return new tc(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new tc(n,this.storage)}put(n,r){return this._throwIfRoot("put"),new dO(function(i,n,r){return function(i,n,r){return i._throwIfRoot("uploadBytesResumable"),new nO(i,new fu(n),r)}(i=(0,Et.m9)(i),n,r)}(this._delegate,n,r),this)}putString(n,r=Us.RAW,a){this._throwIfRoot("putString");const l=Kx(r,n),h=Object.assign({},a);return null==h.contentType&&null!=l.contentType&&(h.contentType=l.contentType),new dO(new nO(this._delegate,new fu(l.data,!0),h),this)}listAll(){return function(i){return function(i){const n={prefixes:[],items:[]};return iO(i,n).then(()=>n)}(i=(0,Et.m9)(i))}(this._delegate).then(n=>new hO(n,this.storage))}list(n){return function(i,n){return sO(i=(0,Et.m9)(i),n)}(this._delegate,n||void 0).then(r=>new hO(r,this.storage))}getMetadata(){return function(i){return function(i){return nN.apply(this,arguments)}(i=(0,Et.m9)(i))}(this._delegate)}updateMetadata(n){return function(i,n){return function(i,n){return rN.apply(this,arguments)}(i=(0,Et.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function(i){return function(i){return iN.apply(this,arguments)}(i=(0,Et.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(i){return function(i){return sN.apply(this,arguments)}(i=(0,Et.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw HM(n)}}class fO{constructor(n,r){this.app=n,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(pO(n))throw b_("ref() expected a child path but got a URL, use refFromURL instead.");return new tc(cO(this._delegate,n),this)}refFromURL(n){if(!pO(n))throw b_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gi.makeFromUrl(n,this._delegate.host)}catch(r){throw b_("refFromUrl() expected a valid full URL but got an invalid one.")}return new tc(cO(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,r,a={}){!function(i,n,r,a={}){!function(i,n,r,a={}){i.host=`${n}:${r}`,i._protocol="http";const{mockUserToken:l}=a;l&&(i._overrideAuthToken="string"==typeof l?l:(0,Et.Sg)(l,i.app.options.projectId))}(i,n,r,a)}(this._delegate,n,r,a)}}function pO(i){return/^[A-Za-z]+:\/\//.test(i)}function wP(i,{instanceIdentifier:n}){const r=i.getProvider("app-compat").getImmediate(),a=i.getProvider("storage").getImmediate({identifier:n});return new fO(r,a)}function gO(i){const n=function(i){return new gr.y(n=>{const r=m=>n.next(m);r(i.snapshot);const h=i.on("state_changed",r);return i.then(m=>{r(m),n.complete()},m=>{r(i.snapshot),(m=>{n.error(m)})(m)}),function(){h()}}).pipe(function(i,n=ZC.P){return r=>r.lift(new HO(i,n))}(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,ft.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function sA(i){return{getDownloadURL:()=>(0,et.of)(void 0).pipe(rn.fc,Fn(()=>i.getDownloadURL()),rn.iC),getMetadata:()=>(0,et.of)(void 0).pipe(rn.fc,Fn(()=>i.getMetadata()),rn.iC),delete:()=>(0,$t.D)(i.delete()),child:n=>sA(i.child(n)),updateMetadata:n=>(0,$t.D)(i.updateMetadata(n)),put:(n,r)=>gO(i.put(n,r)),putString:(n,r,a)=>gO(i.putString(n,r,a)),listAll:()=>(0,$t.D)(i.listAll())}}!function(i){const n={TaskState:Vi,TaskEvent:z1,StringFormat:Us,Storage:fO,Reference:tc};i.INTERNAL.registerComponent(new Fm.wA("storage-compat",wP,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.3")}(fS.Z);const IP=new g.OlP("angularfire2.storageBucket"),DP=new g.OlP("angularfire2.storage.maxUploadRetryTime"),TP=new g.OlP("angularfire2.storage.maxOperationRetryTime"),AP=new g.OlP("angularfire2.storage.use-emulator");let SP=(()=>{class i{constructor(r,a,l,h,m,w,D,A,x){const O=(0,es.on)(r,m,a);this.storage=(0,rn.cc)(`${O.name}.storage.${l}`,"AngularFireStorage",O.name,()=>{const H=m.runOutsideAngular(()=>O.storage(l||void 0)),U=x;return U&&H.useEmulator(...U),D&&H.setMaxUploadRetryTime(D),A&&H.setMaxOperationRetryTime(A),H},[D,A])}ref(r){return sA(this.storage.ref(r))}refFromURL(r){return sA(this.storage.refFromURL(r))}upload(r,a,l){return sA(this.storage.ref(r)).put(a,l)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(es.Dh),g.LFG(es.xv,8),g.LFG(IP,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(rn.HU),g.LFG(DP,8),g.LFG(TP,8),g.LFG(AP,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),RP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})(),xP=(()=>{class i{constructor(){Bx.Z.registerVersion("angularfire",rn.q4.full,"gcs-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[SP],imports:[RP]}),i})(),NP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i,bootstrap:[PN]}),i.\u0275inj=g.cJS({providers:[xc],imports:[[Lu,$C,Rc,ld,es.hO.initializeApp(sE_firebaseConfig),BO,NO,xP]]}),i})();F_().bootstrapModule(NP).catch(i=>console.error(i))},4762:(We,we,L)=>{"use strict";function ye(ie,ae){var ce={};for(var ue in ie)Object.prototype.hasOwnProperty.call(ie,ue)&&ae.indexOf(ue)<0&&(ce[ue]=ie[ue]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(ue=Object.getOwnPropertySymbols(ie);le<ue.length;le++)ae.indexOf(ue[le])<0&&Object.prototype.propertyIsEnumerable.call(ie,ue[le])&&(ce[ue[le]]=ie[ue[le]])}return ce}function fe(ie,ae,ce,ue){return new(ce||(ce=Promise))(function(Q,xe){function Ze(vt){try{nt(ue.next(vt))}catch(Kt){xe(Kt)}}function Dt(vt){try{nt(ue.throw(vt))}catch(Kt){xe(Kt)}}function nt(vt){vt.done?Q(vt.value):function(Q){return Q instanceof ce?Q:new ce(function(xe){xe(Q)})}(vt.value).then(Ze,Dt)}nt((ue=ue.apply(ie,ae||[])).next())})}function W(ie,ae){var ue,le,Q,xe,ce={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return xe={next:Ze(0),throw:Ze(1),return:Ze(2)},"function"==typeof Symbol&&(xe[Symbol.iterator]=function(){return this}),xe;function Ze(nt){return function(vt){return function(nt){if(ue)throw new TypeError("Generator is already executing.");for(;ce;)try{if(ue=1,le&&(Q=2&nt[0]?le.return:nt[0]?le.throw||((Q=le.return)&&Q.call(le),0):le.next)&&!(Q=Q.call(le,nt[1])).done)return Q;switch(le=0,Q&&(nt=[2&nt[0],Q.value]),nt[0]){case 0:case 1:Q=nt;break;case 4:return ce.label++,{value:nt[1],done:!1};case 5:ce.label++,le=nt[1],nt=[0];continue;case 7:nt=ce.ops.pop(),ce.trys.pop();continue;default:if(!(Q=(Q=ce.trys).length>0&&Q[Q.length-1])&&(6===nt[0]||2===nt[0])){ce=0;continue}if(3===nt[0]&&(!Q||nt[1]>Q[0]&&nt[1]<Q[3])){ce.label=nt[1];break}if(6===nt[0]&&ce.label<Q[1]){ce.label=Q[1],Q=nt;break}if(Q&&ce.label<Q[2]){ce.label=Q[2],ce.ops.push(nt);break}Q[2]&&ce.ops.pop(),ce.trys.pop();continue}nt=ae.call(ie,ce)}catch(vt){nt=[6,vt],le=0}finally{ue=Q=0}if(5&nt[0])throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}([nt,vt])}}}function K(ie){var ae="function"==typeof Symbol&&Symbol.iterator,ce=ae&&ie[ae],ue=0;if(ce)return ce.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ue>=ie.length&&(ie=void 0),{value:ie&&ie[ue++],done:!ie}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(ie,ae){var ce="function"==typeof Symbol&&ie[Symbol.iterator];if(!ce)return ie;var le,xe,ue=ce.call(ie),Q=[];try{for(;(void 0===ae||ae-- >0)&&!(le=ue.next()).done;)Q.push(le.value)}catch(Ze){xe={error:Ze}}finally{try{le&&!le.done&&(ce=ue.return)&&ce.call(ue)}finally{if(xe)throw xe.error}}return Q}function ne(ie,ae,ce){if(ce||2===arguments.length)for(var Q,ue=0,le=ae.length;ue<le;ue++)(Q||!(ue in ae))&&(Q||(Q=Array.prototype.slice.call(ae,0,ue)),Q[ue]=ae[ue]);return ie.concat(Q||Array.prototype.slice.call(ae))}L.d(we,{_T:()=>ye,mG:()=>fe,Jh:()=>W,XA:()=>K,CR:()=>Z,ev:()=>ne})},8239:(We,we,L)=>{"use strict";function g(B,ye,ge,se,ve,fe,W){try{var k=B[fe](W),F=k.value}catch(K){return void ge(K)}k.done?ye(F):Promise.resolve(F).then(se,ve)}function ee(B){return function(){var ye=this,ge=arguments;return new Promise(function(se,ve){var fe=B.apply(ye,ge);function W(F){g(fe,se,ve,W,k,"next",F)}function k(F){g(fe,se,ve,W,k,"throw",F)}W(void 0)})}}L.d(we,{Z:()=>ee})}},We=>{We(We.s=4019)}]);